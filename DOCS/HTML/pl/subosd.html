<html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2"><title>2.7. Napisy i OSD</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Odtwarzacz filmów"><link rel="up" href="install.html" title="Rozdzia³ 2. Instalacja"><link rel="prev" href="gui.html" title="2.6. A co z GUI?"><link rel="next" href="rtc.html" title="2.8. RTC"><link rel="preface" href="howtoread.html" title="Jak czytaæ tê dokumentacjê"><link rel="chapter" href="intro.html" title="Rozdzia³ 1. Wprowadzenie"><link rel="chapter" href="install.html" title="Rozdzia³ 2. Instalacja"><link rel="chapter" href="usage.html" title="Rozdzia³ 3. Sposób u¿ycia"><link rel="chapter" href="cd-dvd.html" title="Rozdzia³ 4. U¿ywanie CD/DVD"><link rel="chapter" href="faq.html" title="Rozdzia³ 5. FAQ - Czêsto Zadawane Pytania"><link rel="chapter" href="formats.html" title="Rozdzia³ 6. Kontenery"><link rel="chapter" href="codecs.html" title="Rozdzia³ 7. Obs³ugiwane kodeki"><link rel="chapter" href="video.html" title="Rozdzia³ 8. Urz±dzenia wyj¶cia video"><link rel="chapter" href="audio.html" title="Rozdzia³ 9. Urz±dzenia wyj¶ciowe audio"><link rel="chapter" href="tv.html" title="Rozdzia³ 10. TV"><link rel="chapter" href="radio.html" title="Rozdzia³ 11. Radio"><link rel="chapter" href="ports.html" title="Rozdzia³ 12. Porty"><link rel="chapter" href="mencoder.html" title="Rozdzia³ 13. Podstawy u¿ywania MEncodera"><link rel="chapter" href="encoding-guide.html" title="Rozdzia³ 14. Kodowanie przy u¿yciu MEncodera"><link rel="appendix" href="bugreports.html" title="Dodatek A. Jak zg³aszaæ b³êdy"><link rel="appendix" href="bugs.html" title="Dodatek B. Znane b³êdy"><link rel="appendix" href="skin.html" title="Dodatek C. Format skórki MPlayera"><link rel="appendix" href="history.html" title="Dodatek D. Historia"><link rel="subsection" href="subosd.html#mpsub" title="2.7.1. MPsub - W³asny format napisów MPlayera"><link rel="subsection" href="subosd.html#mpsub-install" title="2.7.2. Instalacja OSD i napisów"><link rel="subsection" href="subosd.html#osdmenu" title="2.7.3. Menu OSD"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.7. Napisy i OSD</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="gui.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 2. Instalacja</th><td width="20%" align="right"> <a accesskey="n" href="rtc.html">Nastêpny</a></td></tr></table><hr></div><div class="sect1" lang="pl"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="subosd"></a>2.7. Napisy i OSD</h2></div></div></div><p>
<span class="application">MPlayer</span> mo¿e wy¶wietlaæ napisy podczas odtwarzania
filmu. Obecnie obs³ugiwane s± nastêpuj±ce formaty:
</p><div class="itemizedlist"><ul type="disc"><li><p>VOBsub</p></li><li><p>OGM</p></li><li><p>CC (closed caption)</p></li><li><p>MicroDVD</p></li><li><p>SubRip</p></li><li><p>SubViewer</p></li><li><p>Sami</p></li><li><p>VPlayer</p></li><li><p>RT</p></li><li><p>SSA</p></li><li><p>PJS (Phoenix Japanimation Society)</p></li><li><p><a href="subosd.html#mpsub" title="2.7.1. MPsub - W³asny format napisów MPlayera">MPsub</a></p></li><li><p>AQTitle</p></li><li><p><a href="http://unicorn.us.com/jacosub/" target="_top">JACOsub</a></p></li></ul></div><p>
</p><p>
<span class="application">MPlayer</span> mo¿e zrzuciæ wy¿ej wymienione formaty napisów
(<span class="bold"><strong>poza pierwszymi trzema</strong></span>) do nastêpuj±cych formatów,
je¶li podasz odpowiedni± opcjê:
</p><div class="itemizedlist"><ul type="disc"><li><p>MPsub: <tt class="option">-dumpmpsub</tt></p></li><li><p>SubRip: <tt class="option">-dumpsrtsub</tt></p></li><li><p>MicroDVD: <tt class="option">-dumpmicrodvdsub</tt></p></li><li><p>JACOsub: <tt class="option">-dumpjacosub</tt></p></li><li><p>Sami: <tt class="option">-dumpsami</tt></p></li></ul></div><p>
</p><p>
<span class="application">MEncoder</span> mo¿e zrzuciæ napisy DVD do formatu
<a href="menc-feat-extractsub.html" title="13.8. Wydobywanie napisów z DVD do pliku VOBsub">VOBsub</a>.
</p><p>
Opcje dla wiersza poleceñ ró¿ni± siê nieco dla poszczególnych formatów:
</p><p><b>Format VOBsub. </b>
Napisy VOBsub sk³adaj± siê z du¿ego (kilkumegabajtowego) pliku <tt class="filename">.SUB</tt>
i opcjonalnych plików <tt class="filename">.IDX</tt> i/lub <tt class="filename">.IFO</tt>.
Je¿eli masz takie pliki, jak
<tt class="filename"><em class="replaceable"><code>przyk³ad.sub</code></em></tt>,
<tt class="filename"><em class="replaceable"><code>przyk³ad.ifo</code></em></tt> (opcjonalne),
<tt class="filename"><em class="replaceable"><code>przyk³ad.idx</code></em></tt> -
musisz przekazaæ <span class="application">MPlayerowi</span> opcje
<tt class="option">-vobsub przyk³ad [-vobsubid <em class="replaceable"><code>id</code></em>]</tt>
(pe³na ¶cie¿ka jest opcjonalna). Parametr <tt class="option">-vobsubid</tt> jest, jak
<tt class="option">-sid</tt> dla DVD - przy jego pomocy mo¿esz wybieraæ pomiêdzy ¶cie¿kami napisów
(ró¿ne jêzyki). Je¿eli opcja <tt class="option">-vobsubid</tt> jest pominiêta,
<span class="application">MPlayer</span> spróbuje u¿yæ jêzyka podanego przez parametr
<tt class="option">-slang</tt> i powróci do <code class="systemitem">langidx</code>
zawartego w pliku<tt class="filename">.IDX</tt>, ¿eby ustawiæ jêzyk napisów. Je¿eli to
zakoñczy siê niepowodzeniem, napisy nie bêd± wy¶wietlane.
</p><p><b>Inne formaty napisów. </b>
Inne formaty sk³adaj± siê z pojedynczego pliku tekstowego zawieraj±cego przedzia³
czasowy, rozmieszczenie i sam tekst. Sposób u¿ycia: Je¿eli masz taki plik, jak
<tt class="filename"><em class="replaceable"><code>przyk³ad.txt</code></em></tt>,
musisz przekazaæ opcjê <tt class="option">-sub
<em class="replaceable"><code>przyk³ad.txt</code></em></tt> (pe³na ¶cie¿ka jest opcjonalna).
</p><div class="variablelist"><p class="title"><b>Dopasowywanie czasu wy¶wietlania i po³o¿enia napisów:</b></p><dl><dt><span class="term"><tt class="option">-subdelay <em class="replaceable"><code>sek</code></em></tt></span></dt><dd>
    Opó¼nia wy¶wietlanie napisów o <tt class="option"><em class="replaceable"><code>sek</code></em></tt> sekund.
    Mo¿e byæ liczb± ujemn±. Warto¶æ jest dodawana do licznika czasu filmu.
    </dd><dt><span class="term"><tt class="option">-subfps <em class="replaceable"><code>ILO¦Æ</code></em></tt></span></dt><dd>
    Okre¶la ilo¶æ klatek na sekundê pliku z napisami (liczba rzeczywista).
    </dd><dt><span class="term"><tt class="option">-subpos <em class="replaceable"><code>0-100</code></em></tt></span></dt><dd>
    Okre¶la po³o¿enie napisów.
    </dd></dl></div><p>
Je¿eli podczas u¿ywania napisów w formacie MicroDVD zauwa¿ysz rosn±ce opó¼nienie
miêdzy nimi a filmem, to prawdopodobnie ilo¶æ klatek na sekundê filmu ró¿ni siê
od warto¶ci, do której zosta³y przystosowane napisy.
Zauwa¿, ¿e format ten korzysta z bezwzglêdnych numerów klatek do wy¶wietlania
napisów w odpowiednim momencie, ale nie zawiera w sobie informacji o warto¶ci fps,
dlatego powiniene¶ skorzystaæ z opcji <tt class="option">-subfps</tt>.
Je¿eli chcia³by¶ trwale rozwi±zaæ ten problem, musisz rêcznie zmieniæ
warto¶æ framerate pliku z napisami.
<span class="application">MPlayer</span> mo¿e zrobiæ to za ciebie:

</p><pre class="screen">mplayer -dumpmicrodvdsub -fps <em class="replaceable"><code>fps_napisów</code></em> -subfps <em class="replaceable"><code>fps_filmu</code></em> -sub <em class="replaceable"><code>zbiór_z_napisami</code></em> <em class="replaceable"><code>atrapa.avi</code></em></pre><p>
</p><p>
O napisach DVD przeczytasz w rozdziale <a href="dvd.html" title="4.2. Odtwarzanie DVD">DVD</a>.
</p><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="mpsub"></a>2.7.1. MPsub - W³asny format napisów <span class="application">MPlayera</span></h3></div></div></div><p>
<span class="application">MPlayer</span> przedstawia nowy format napisów nazwany
<span class="bold"><strong>MPsub</strong></span>. Zaprojektowany on zosta³ przez Gabucino.
Przede wszystkim jego g³ówn± cech± jest bycie <span class="emphasis"><em>dynamicznie</em></span> opartym o
czas (chocia¿ mo¿e byæ równie¿ oparty o ramki).  Przyk³ad (z <a href="../../tech/mpsub.sub" target="_top">DOCS/tech/mpsub.sub</a> - na potrzeby tego dokumentu czê¶ciowo
przet³umaczony):
</p><pre class="programlisting">
FORMAT=TIME
# pierwsza liczba : czekaj tyle sekund po znikniêciu poprzednich napisów
# druga liczba : wy¶wietlaj napisy przez tyle sekund

15 3
Dawno, dawno temu...

0 3
w odleg³ej galaktyce...

0 3
planeta Naboo by³a atakowana.</pre><p>
</p><p>
Widzisz wiêc, ¿e g³ównym celem by³o <span class="bold"><strong>umo¿liwienie ³atwej
edycji/synchronizacji/³±czenia/obcinania napisów</strong></span>. Wiêc je¶li - powiedzmy -
pobierzesz napisy SSA, które s± ¼le rozmieszczone w czasie/opó¼nione w stosunku do Twojej wersji
filmu, wykonujesz wtedy

</p><pre class="screen">mplayer <em class="replaceable"><code>film.avi</code></em> -sub ¼ród³o.ssa -dumpmpsub</pre><p>
Zostanie utworzony plik <tt class="filename">dump.mpsub</tt> w obecnie u¿ywanym katalogu,
który bêdzie zawiera³ ¼ród³owe napisy, ale w formacie
<span class="bold"><strong>MPsub</strong></span>. Bêdziesz móg³ wtedy dowolnie dodawaæ/odejmowaæ
sekundy do/z napisów.
</p><p>
Napisy wy¶wietlane s± w technice <span class="bold"><strong>'OSD',
On Screen Display (Wy¶wietlanie Na Ekranie)</strong></span>. OSD u¿ywany jest
do wy¶wietlania obecnego czasu odtwarzania, paska g³o¶no¶ci, paska przeszukiwania
filmu, itp.
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="mpsub-install"></a>2.7.2. Instalacja OSD i napisów</h3></div></div></div><p>
Bêdziesz potrzebowa³ paczki zawieraj±cej czcionkê dla <span class="application">MPlayera</span>,
¿eby móc skorzystaæ z OSD/NAPISÓW. Jest wiele sposobów, aby j± uzyskaæ:
</p><div class="itemizedlist"><ul type="disc"><li><p>
 Skorzystaj z generatora czcionki w znajduj±cego siê w katalogu <tt class="filename">TOOLS/subfont-c</tt>. Jest to kompletne narzêdzie, które
 pomo¿e Ci przekonwertowaæ czcionkê TTF/Type1/itp. do paczki z czcionk± dla
 <span class="application">MPlayera</span> (wiêcej szczegó³ów znajdziesz w
 <tt class="filename">TOOLS/subfont-c/README</tt>).
 </p></li><li><p>
 Skorzystaj z wtyczki generator czcionki dla <span class="application">GIMPa</span>,
 któr± znajdziesz w katalogu <tt class="filename">TOOLS/subfont-GIMP</tt>
 (notka: musisz mieæ równie¿ wtyczkê HSI RAW, sprawd¼ ten adres:
 <a href="http://realtime.ssu.ac.kr/~lethean/mplayer/index.php?pagename=MplayerKoreanFonts" target="_top">http://realtime.ssu.ac.kr/~lethean/mplayer/index.php?pagename=MplayerKoreanFonts</a>).
 </p></li><li><p>
 u¿ywanie czcionki TrueType (TTF) przy pomocy biblioteki
 <code class="systemitem">freetype</code>. Konieczna do tego jest wersja
 2.0.9 lub wy¿sza! Tutaj mo¿esz skorzystaæ z dwóch metod:
  </p><div class="itemizedlist"><ul type="circle"><li><p>
      u¿yj opcji <tt class="option">-font <em class="replaceable"><code>/¶cie¿ka/do/przyk³adowej_czcionki.ttf</code></em>
      </tt>, aby okre¶liæ plik z czcionk± TrueType przy ka¿dym uruchomieniu
      </p></li><li><p>
      stwórz symboliczne dowi±zanie:
      </p><pre class="screen">ln -s <em class="replaceable"><code>/¶cie¿ka/do/przyk³adowej_czcionki.ttf</code></em> ~/.mplayer/subfont.ttf</pre><p>
      </p></li></ul></div><p>
  Je¿eli <span class="application">MPlayer</span> zosta³ skompilowany z obs³ug±
  <code class="systemitem">fontconfig</code>, powy¿sze metody nie bêd±
  dzia³a³y, poniewa¿ opcja <tt class="option">-font</tt> bêdzie oczekiwa³a nazwy czcionki,
  a domy¶ln± jest sans-serif. Aby otrzymaæ listê czcionek znanych
  <code class="systemitem">fontconfig</code>,
  u¿yj komendy <span><strong class="command">fc-list</strong></span>. Przyk³ad:
  <tt class="option">-font <em class="replaceable"><code>'Bitstream Vera Sans'</code></em></tt>
  </p></li><li><p>
  Pobierz gotowe do u¿ycia pakiety z czcionkami ze strony
  <span class="application">MPlayera</span>. Informacja: dostêpne obecnie czcionki
  ograniczone s± do obs³ugi kodowania ISO 8859-1/2, ale s± te¿ inne, przygotowane
  przez u¿ytkowników, (z obs³ug± koreañskiego, rosyjskiego, ISO 8859-8 itp) w katalogu
  contrib/font serwera FTP.
  </p><p>
  
  Czcionki powinny mieæ odpowiedni plik <tt class="filename">font.desc</tt>, który
  mapuje pozycjê czcionek unicode do aktualnie u¿ywanej przez napisy strony kodowej
  Innym wyj¶ciem jest posiadanie napisów zakodowanych w UTF-8 i u¿ycie opcji
  <tt class="option">-utf8</tt> albo po prostu zmienienie ich nazwy na
  <tt class="filename">&lt;nazwa_filmu&gt;.utf</tt> i wgranie ich do tego samego
  katalogu co plik z filmem. Konwersja z ró¿nych stron kodowych do UTF-8
  mo¿e byæ realizowana poprzez programy <span><strong class="command">konwert</strong></span> lub
  <span><strong class="command">iconv</strong></span>.
  </p><p>

  </p><div class="table"><a name="id2535748"></a><p class="title"><b>Tabela 2.1. Kilka adresów URL</b></p><table summary="Kilka adresów URL" border="1"><colgroup><col><col></colgroup><thead><tr><th>URL</th><th>Komentarz</th></tr></thead><tbody><tr><td>
    <a href="ftp://ftp.mplayerhq.hu/MPlayer/releases/fonts/" target="_top">ftp://ftp.mplayerhq.hu/MPlayer/releases/fonts/</a>
    </td><td>
    czcionki ISO
    </td></tr><tr><td>
    <a href="ftp://ftp.mplayerhq.hu/MPlayer/contrib/fonts/" target="_top">ftp://ftp.mplayerhq.hu/MPlayer/contrib/fonts/</a>
    </td><td>
    ró¿ne czcionki u¿ytkowników
    </td></tr><tr><td>
    <a href="http://realtime.ssu.ac.kr/~lethean/mplayer/index.php?pagename=MplayerKoreanFonts" target="_top">http://realtime.ssu.ac.kr/~lethean/mplayer/index.php?pagename=MplayerKoreanFonts</a>
    </td><td>
    czcionki koreañskie i wtyczka RAW
    </td></tr></tbody></table></div><p>

  </p></li></ul></div><p>
Je¿eli wybierzesz czcionki inne ni¿ TTF, rozpakuj (UNZIP) plik, który ¶ci±gn±³e¶ do
katalogu <tt class="filename">~/.mplayer</tt> lub <tt class="filename">$PREFIX/share/mplayer</tt>. Nastêpnie zmieñ nazwê
lub stwórz symboliczne dowi±zanie tego katalogu do <tt class="filename">font</tt>,
na przyk³ad:

</p><pre class="screen">ln -s <em class="replaceable"><code>~/.mplayer/arial-24</code></em> ~/.mplayer/font</pre><p>

Teraz na pewno zobaczysz licznik w lewym górnym rogu filmu (mo¿esz go wy³±czyæ
u¿ywaj±c klawisza <span class="keycap"><b>o</b></span>).
</p><p>
(napisy s± <span class="emphasis"><em>zawsze w³±czone</em></span>, aby dowiedzieæ siê, je wy³±czyæ,
przeczytaj stronê man)
</p><p>
OSD ma 4 stany (prze³±czane przez klawisz <span class="keycap"><b>o</b></span>):

</p><div class="orderedlist"><ol type="1"><li>
  pasek g³o¶no¶ci  + pasek przeszukiwania (domy¶lnie)
  </li><li>
  pasek g³o¶no¶ci  + pasek przeszukiwania + licznik czasu +
  pozycja przeszukiwania w pliku (w procentach)
  </li><li>
  pasek g³o¶no¶ci  + pasek przeszukiwania + licznik czasu + ca³kowity czas trwania
  </li><li>
  tylko napisy
  </li></ol></div><p>

Mo¿esz zmieniæ domy¶lne zachowanie, ustawiaj±c zmienn± <code class="varname">osdlevel</code>
w pliku konfiguracyjnym (config) lub korzystaj±c z opcji <tt class="option">-osdlevel</tt>
w wierszu poleceñ.

</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="osdmenu"></a>2.7.3. Menu OSD</h3></div></div></div><p>
<span class="application">MPlayer</span> ma ca³kowicie definiowalny Interfejs Menu OSD.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Notatka</h3><p>
Menu Ustawienia nie jest jeszcze ZAIMPLEMENTOWANE!
</p></div><div class="orderedlist"><p class="title"><b>Instalacja</b></p><ol type="1"><li>
 skompiluj <span class="application">MPlayera</span> z opcj± <tt class="option">--enable-menu</tt>
  dla skryptu <tt class="filename">./configure</tt>
  </li><li>
  upewnij siê, ¿e masz zainstalowan± czcionkê OSD
  </li><li>
  skopiuj plik <tt class="filename">etc/menu.conf</tt> do Twojego katalogu
  <tt class="filename">.mplayer</tt>
  </li><li>
  skopiuj plik <tt class="filename">etc/input.conf</tt> do Twojego katalogu
  <tt class="filename">.mplayer</tt> lub do ogólnosystemowego
  katalogu z konfiguracj± <span class="application">MPlayera</span> (domy¶lnie:
  <tt class="filename">/usr/local/etc/mplayer</tt>)
  </li><li>
  sprawd¼ i ewentualnie przerób plik <tt class="filename">input.conf</tt>, aby okre¶liæ funkcje klawiszy
  (wszystko jest tam opisane).
  </li><li><p>
  uruchom <span class="application">MPlayera</span> przyk³adow± komend±:
  </p><pre class="screen">$ mplayer -menu <em class="replaceable"><code>plik.avi</code></em></pre><p>
  </p></li><li>
  wci¶nij dowolny klawisz, który wcze¶niej zdefiniowa³e¶
  </li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="gui.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="rtc.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">2.6. A co z GUI? </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 2.8. RTC</td></tr></table></div></body></html>
