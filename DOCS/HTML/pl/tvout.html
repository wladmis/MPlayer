<html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2"><title>8.5. Obs³uga wyj¶cia TV</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Odtwarzacz filmów"><link rel="up" href="video.html" title="Rozdzia³ 8. Urz±dzenia wyj¶cia video"><link rel="prev" href="other.html" title="8.4. Inny sprzêt do wizualizacji"><link rel="next" href="audio.html" title="Rozdzia³ 9. Urz±dzenia wyj¶ciowe audio"><link rel="preface" href="howtoread.html" title="Jak czytaæ tê dokumentacjê"><link rel="chapter" href="intro.html" title="Rozdzia³ 1. Wprowadzenie"><link rel="chapter" href="install.html" title="Rozdzia³ 2. Instalacja"><link rel="chapter" href="usage.html" title="Rozdzia³ 3. Sposób u¿ycia"><link rel="chapter" href="cd-dvd.html" title="Rozdzia³ 4. U¿ywanie CD/DVD"><link rel="chapter" href="faq.html" title="Rozdzia³ 5. FAQ - Czêsto Zadawane Pytania"><link rel="chapter" href="formats.html" title="Rozdzia³ 6. Kontenery"><link rel="chapter" href="codecs.html" title="Rozdzia³ 7. Obs³ugiwane kodeki"><link rel="chapter" href="video.html" title="Rozdzia³ 8. Urz±dzenia wyj¶cia video"><link rel="chapter" href="audio.html" title="Rozdzia³ 9. Urz±dzenia wyj¶ciowe audio"><link rel="chapter" href="tv.html" title="Rozdzia³ 10. TV"><link rel="chapter" href="radio.html" title="Rozdzia³ 11. Radio"><link rel="chapter" href="ports.html" title="Rozdzia³ 12. Porty"><link rel="chapter" href="mencoder.html" title="Rozdzia³ 13. Podstawy u¿ywania MEncodera"><link rel="chapter" href="encoding-guide.html" title="Rozdzia³ 14. Kodowanie przy u¿yciu MEncodera"><link rel="appendix" href="bugreports.html" title="Dodatek A. Jak zg³aszaæ b³êdy"><link rel="appendix" href="bugs.html" title="Dodatek B. Znane b³êdy"><link rel="appendix" href="skin.html" title="Dodatek C. Format skórki MPlayera"><link rel="appendix" href="history.html" title="Dodatek D. Historia"><link rel="subsection" href="tvout.html#tvout-mga-g400" title="8.5.1. Karty Matrox G400"><link rel="subsection" href="tvout.html#tv-out_matrox_g450" title="8.5.2. Karty Matrox G450/G550"><link rel="subsection" href="tvout.html#tvout-ati" title="8.5.3. karty ATI"><link rel="subsection" href="tvout.html#tvout-voodoo" title="8.5.4. Voodoo 3"><link rel="subsection" href="tvout.html#tvout-nvidia" title="8.5.5. nVidia"><link rel="subsection" href="tvout.html#tvout-neomagic" title="8.5.6. NeoMagic"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.5. Obs³uga wyj¶cia TV</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="other.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 8. Urz±dzenia wyj¶cia video</th><td width="20%" align="right"> <a accesskey="n" href="audio.html">Nastêpny</a></td></tr></table><hr></div><div class="sect1" lang="pl"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tvout"></a>8.5. Obs³uga wyj¶cia TV</h2></div></div></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-mga-g400"></a>8.5.1. Karty Matrox G400</h3></div></div></div><p>
Pod Linuksem istniej± dwa sposoby uruchomienia wyj¶cia TV na karcie Matrox G400:
</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">WA¯NE</h3><p>
instrukcje dla Matrox G450/G550 znajduj± siê w nastêpnej sekcji!
</p></div><div class="variablelist"><dl><dt><span class="term">XFree86</span></dt><dd><p>
    U¿ywaj±c sterownika oraz modu³u HAL, dostêpnego na
    <a href="http://www.matrox.com" target="_top">stronie Matroksa</a>. Bêdziesz mia³ X
    na TV.
    </p><p>
    <span class="bold"><strong>Ten sposób nie daje Ci przy¶pieszanego
    odtwarzania</strong></span> jak pod Windowsami! Drugie wyj¶cie ma tylko bufor
    ramki YUV, <span class="emphasis"><em>BES</em></span> (Back End Scaler, uk³ad skaluj±cy YUV na
    kartach G200/G400/G450/G550) tam nie dzia³a. Windowsowy sterownik jako¶ to
    obchodzi, prawdopodobnie u¿ywaj±c silnika (engine) 3D do powiêkszania, a
    bufora ramki YUV do wy¶wietlania obrazu. Je¿eli na prawdê musisz u¿ywaæ X,
    u¿yj opcji <tt class="option">-vo x11 -fs -zoom</tt>. Ostrzegam, ¿e bêdzie to
    <span class="bold"><strong>WOLNE</strong></span> i bêdzie mia³o w³±czone
    zabezpieczenie przed kopiowaniem <span class="bold"><strong>Macrovision</strong></span> (Macrovision copy protection).
    (mo¿esz "obej¶æ" Macrovision u¿ywaj±c tego
    <a href="http://avifile.sf.net/mgamacro.pl" target="_top">skryptu perla</a>).
  </p></dd><dt><span class="term">Bufor ramki (framebuffer)</span></dt><dd><p>
    U¿ywaj±c <span class="bold"><strong>modu³ów matroxfb</strong></span> w j±drach 2.4.
    2.2 nie obs³uguj± wyj¶cia TV, wiêc s± do tego celu bezu¿yteczne. Musisz
    w³±czyæ WSZYSTKIE specyficzne dla matroxfb podczas kompilacji (poza
    MultiHead) i skompilowaæ je w <span class="bold"><strong>modu³y</strong></span>!
    Bêdziesz tak¿e potrzebowa³ w³±czonego I2C.
    </p><div class="procedure"><ol type="1"><li><p>
      Wejd¼ do <tt class="filename">TVout</tt> i wpisz
      <span><strong class="command">./compile.sh</strong></span>. Zainstaluj
      <tt class="filename">TVout/matroxset/matroxset</tt> w jakim¶ katalogu
      znajduj±cym siê w zmiennej <code class="envar">PATH</code>.
    </p></li><li><p>
      Je¿eli nie masz zainstalowanego <span><strong class="command">fbset</strong></span>, umie¶æ
      <tt class="filename">TVout/fbset/fbset</tt> gdzie¶ w
      swojej zmiennej <code class="envar">PATH</code>.
    </p></li><li><p>
      Je¿eli nie masz zainstalowanego <span><strong class="command">con2fb</strong></span>, umie¶æ
      <tt class="filename">TVout/con2fb/con2fb</tt>gdzie¶ w
      swojej zmiennej <code class="envar">PATH</code>.
    </p></li><li><p>
      Nastêpnie wejd¼ do katalogu <tt class="filename">TVout/</tt>
      w ¼ród³ach <span class="application">MPlayera</span> i uruchom
      <tt class="filename">./modules</tt> jako root. Twoja konsola tekstowa wejdzie w
      tryb framebuffer (nie ma odwrotu!).
    </p></li><li><p>
      Nastêpnie, WYEDYTUJ i uruchom skrypt <tt class="filename">./matroxtv</tt>.
      Uka¿e Ci siê bardzo proste menu. Naci¶nij <span class="keycap"><b>2</b></span> i
      <span class="keycap"><b>Enter</b></span>. Teraz powiniene¶ mieæ ten sam obraz na monitorze i
      TV. Je¿eli na obrazie TV (standardowo PAL) s± jakie¶ paski, znaczy to, ¿e
      skrypt nie by³ w stanie poprawnie ustawiæ rozdzielczo¶ci (standardowo na
      640x512). Wypróbuj inne rozdzielczo¶ci z menu i/lub poeksperymentuj z
      fbset.
    </p></li><li><p>
      Tiaa. Nastêpnym zadaniem bêdzie sprawienie aby kursor na tty1 (lub innym)
      znikn±³ oraz aby wy³±czyæ wygaszanie ekranu. Wykonaj nastêpuj±ce
      polecenia:

      </p><pre class="screen">
echo -e '\033[?25l'
setterm -blank 0</pre><p>
      lub
      </p><pre class="screen">
setterm -cursor off
setterm -blank 0</pre><p>

      Mo¿liwe, ¿e chcesz umie¶ciæ to w skrypcie, a tak¿e wyczy¶ciæ ekran. Aby
      z powrotem w³±czyæ kursor:
      </p><pre class="screen">echo -e '\033[?25h'</pre><p> lub
      </p><pre class="screen">setterm -cursor on</pre><p>
    </p></li><li><p>
      Tiaa git. Rozpocznij odtwarzanie filmu przez:
      </p><pre class="screen">
mplayer -vo mga -fs -screenw 640 -screenh 512 <em class="replaceable"><code>nazwa_pliku</code></em></pre><p>

      (Je¿eli u¿ywasz X, prze³±cz siê teraz na matroxfb u¿ywaj±c np.
      <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F1</b></span>.)
      Zmieñ <code class="literal">640</code> oraz <code class="literal">512</code>, je¿eli chcesz
      ustawiæ inn± rozdzielczo¶æ...
    </p></li><li><p>
      <span class="bold"><strong>Ciesz siê ultra-szybkim ultra-bajernym wyj¶ciem TV
      Matroksa (lepsze ni¿ Xv)!</strong></span>
      
    </p></li></ol></div></dd></dl></div><p><b>Konstruowanie kabla TV-out do Matroksów. </b>
Nikt nie bierze na siebie ¯ADNEJ odpowiedzialno¶ci za zniszczenia spowodowane t±
dokumentacj±.
</p><p><b>Kabel dla G400. </b>
W z³±czu CRTC2 na czwartej nó¿ce (pin) jest sygna³ composite video. Ziemia
(uziemienie) jest na szóstej, siódmej i ósmej nó¿ce. (info dostarczone przez
Balázs Rácz)
</p><p><b>Kabel dla G450. </b>
W z³±czu CTRC2 na pierwszej nó¿ce jest sygna³ composite video. Ziemia jest na
pi±tej, szóstej, siódmej i pietnastej (5, 6, 7, 15) nó¿ce. (info dostarczone
przez Balázs Kerekes)
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="tv-out_matrox_g450"></a>8.5.2. Karty Matrox G450/G550</h3></div></div></div><p>
Obs³uga wyj¶cia TV dla tych kart zosta³a dodana dopiero niedawno i nie
nale¿y jeszcze do g³ównego drzewa j±dra. . Z tego, co
wiem, modu³ <span class="bold"><strong>mga_vid</strong></span> nie mo¿e byæ obecnie u¿yty
poniewa¿ sterownik G450/G550 pracuje tylko w jednej konfiguracji: pierwszy uk³ad
CRTC (z wieloma mo¿liwo¶ciami) na pierwszym ekranie (monitor) i drugi CRTC (bez
<span class="bold"><strong>BES</strong></span> - po obja¶nienia do BES siêgnij do sekcji
wy¿ej) na TV. W chwili obecnej mo¿esz wiêc u¿ywaæ tylko sterownika wyj¶cia
<span class="emphasis"><em>fbdev</em></span> <span class="application">MPlayera</span>.
</p><p>
Obecnie pierwszy CRTC nie mo¿e byæ przekierowany na drugie wyj¶cie. Autor
sterownika j±dra matroxfb - Petr Vandrovec - byæ mo¿e zrobi obs³ugê tego poprzez
wy¶wietlanie wyj¶cia z pierwszego CRTC na obydwa z³±cza jednocze¶nie, jak to
jest w tej chwili zalecane dla G400 (-&gt; sekcja wy¿ej).
</p><p>
Potrzebn± ³atkê na j±dro i dok³adne HOWTO mo¿na ¶ci±gn±æ z
<a href="http://www.bglug.ca/matrox_tvout/" target="_top">http://www.bglug.ca/matrox_tvout/</a>
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-ati"></a>8.5.3. karty ATI</h3></div></div></div><p><b>WSTÊP. </b>
Obecnie ATI nie chce obs³ugiwaæ pod Linuksem ¿adnego z uk³adów TV-out, z powodu
ich licencjonowanej technologii Macrovision.
</p><div class="itemizedlist"><p class="title"><b>STATUS KART ATI Z TV-OUT POD LINUKSEM</b></p><ul type="disc"><li>
  <span class="bold"><strong>ATI Mach64</strong></span>:
  obs³ugiwane przez <a href="http://gatos.sf.net" target="_top">GATOS</a>.
</li><li>
  <span class="bold"><strong>ASIC Radeon VIVO</strong></span>:
  obs³ugiwane przez <a href="http://gatos.sf.net" target="_top">GATOS</a>.
</li><li>
  <span class="bold"><strong>Radeon</strong></span> oraz <span class="bold"><strong>Rage128</strong></span>:
  obs³ugiwane przez <span class="application">MPlayera</span>!
  Sprawd¼ sekcje <a href="output-trad.html#vesa" title="8.2.11. VESA - wyj¶cie na VESA BIOS">sterownik VESA</a> oraz
  <a href="output-trad.html#vidix" title="8.2.13. VIDIX">VIDIX</a>.
</li><li>
  <span class="bold"><strong>Rage Mobility P/M, Radeon, Rage 128, Mobility M3/M4</strong></span>:
  obs³ugiwane przez <a href="http://www.stud.uni-hamburg.de/users/lennart/projects/atitvout/" target="_top">atitvout</a>.
</li></ul></div><p>
Na innych kartach u¿ywaj sterownika <a href="output-trad.html#vesa" title="8.2.11. VESA - wyj¶cie na VESA BIOS">VESA</a>, bez VIDIX.
Potrzebny jest jednak potê¿ny CPU.
</p><p>
Jedyna rzecz, któr± musisz zrobiæ to:
<span class="bold"><strong>Mieæ pod³±czony odbiornik TV przez uruchomieniem swojego
PC</strong></span>, poniewa¿ video BIOS inicjalizuje siê tylko podczas procedury
POST.
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-voodoo"></a>8.5.4. Voodoo 3</h3></div></div></div><p>
Sprawd¼ <a href="http://www.iki.fi/too/tvout-voodoo3-3000-xfree" target="_top">ten URL</a>.
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-nvidia"></a>8.5.5. nVidia</h3></div></div></div><p>
Najpierw MUSISZ ¶ci±gn±æ sterowniki o zamkniêtych ¼ród³ach z
<a href="http://nvidia.com" target="_top">http://nvidia.com</a>. Nie bêdê tutaj opisywa³ procesu instalacji i
konfiguracji poniewa¿ nie jest to celem tej dokumentacji.
</p><p>
Je¿eli XFree86, XVideo i przy¶pieszanie 3D ju¿ dzia³a prawid³owo, przerób
sekcjê Device swojej karty w pliku <tt class="filename">XF86Config</tt> zgodnie z
poni¿szym wzorcem (dostosuj do swojej karty/TV):
</p><pre class="programlisting">
Section "Device"
        Identifier      "GeForce"
        VendorName      "ASUS"
        BoardName       "nVidia GeForce2/MX 400"
        Driver          "nvidia"
        #Option         "NvAGP" "1"
        Option          "NoLogo"
        Option          "CursorShadow"  "on"

        Option          "TwinView"
        Option          "TwinViewOrientation" "Clone"
        Option          "MetaModes" "1024x768,640x480"
        Option          "ConnectedMonitor" "CRT, TV"
        Option          "TVStandard" "PAL-B"
        Option          "TVOutFormat" "Composite"
EndSection
</pre><p>
</p><p>
Oczywi¶cie najwa¿niejsza jest czê¶æ TwinView.
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-neomagic"></a>8.5.6. NeoMagic</h3></div></div></div><p>
Uk³ad NeoMagic mo¿na znale¼æ w ro¿nych laptopach, niektóre wyposa¿one s± w
prosty analogowy koder TV, inne maj± bardziej zaawansowan± wersjê.
</p><div class="itemizedlist"><ul type="disc"><li><p>
  <span class="bold"><strong>Uk³ad analogowy</strong></span>:
  Doniesiono nam, ¿e dobre wyj¶cie TV mo¿na uzyskaæ u¿ywaj±c 
  <tt class="option">-vo fbdev</tt> lub <tt class="option">-vo fbdev2</tt>. Potrzebujesz
  wkompilowanego w j±dro vesafb i przekazane do poleceñ j±dra:
  <tt class="option">append="video=vesafb:ywrap,mtrr" vga=791</tt>.
  Powiniene¶ uruchomiæ <span class="application">X</span>, nastêpnie prze³±czyæ siê do
  konsoli u¿ywaj±c np.
  <span class="keycap"><b>CTRL</b></span>+<span class="keycap"><b>ALT</b></span>+<span class="keycap"><b>F1</b></span>.
  Je¿eli nie wystartujesz <span class="application">X</span> przed uruchomieniem
  <span class="application">MPlayera</span> z konsoli obraz bêdzie powolny i bêdzie
  siê ci±³ (mile widziane wyt³umaczenie).
  Zaloguj siê na konsoli, a nastêpnie wykonaj nastêpuj±ce polecenie:

  </p><pre class="screen">clear; mplayer -vo fbdev -zoom -cache 8192 dvd://</pre><p>

  Powiniene¶ ujrzeæ odtwarzany w konsoli film zajmuj±cy oko³o po³owê ekranu
  LCD Twojego laptopa.
  Aby prze³±czyæ siê na TV naci¶nij <span class="keycap"><b>Fn</b></span>+<span class="keycap"><b>F5</b></span>
  trzy razy.
  Przetestowane na Tecra 800, j±dro 2.6.15 z vesafb, ALSA v1.0.10.
</p></li><li><p>
  <span class="bold"><strong>Uk³ad koduj±cy Chrontel 70xx</strong></span>:
  Obecny w IBM thinkpad 390E, a mo¿liwe, ¿e tak¿e w innych Thinkpadach lub notebookach.
  </p><p>
  Dla trybu PAL musisz u¿yæ <tt class="option">-vo vesa:neotv_pal</tt>.
  Dla truby NTSC - <tt class="option">-vo vesa:neotv_ntsc</tt>.
  Zapewni to funkcjê wyj¶cia TV w nastêpuj±cych trybach 16 bpp i 8 bpp:
  </p><div class="itemizedlist"><ul type="circle"><li>NTSC 320x240, 640x480, byæ mo¿e tak¿e 800x600.</li><li>PAL  320x240, 400x300, 640x480, 800x600.</li></ul></div><p>Tryb 512x384 nie jest obs³ugiwany przez BIOS. Musisz przeskalowaæ
  obraz do innej rozdzielczo¶ci aby aktywowaæ wyj¶cie TV. Je¿eli widzisz obraz
  na ekranie w rozdzielczo¶ci 640x480 lub 800x600, lecz nie w 320x240, lub
  w innych mniejszych rozdzielczo¶ciach, to musisz zamieniæ dwie tabele
  w <tt class="filename">vbelib.c</tt>.
  Wiêcej sczegó³ów znajdziesz w kodzie funkcji vbeSetTV. W tym przypadku
  skontaktuj siê z autorem.
  </p><p>
  Znane problemy: Tylko VESA, nie zaimplementowane ustawienia obrazu poza
  jasno¶ci±, kontrastem, poziomem czerni (blacklevel) i filtrem migotania
  (flickfilter).
  </p></li></ul></div><p>

</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="other.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="video.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="audio.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">8.4. Inny sprzêt do wizualizacji </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> Rozdzia³ 9. Urz±dzenia wyj¶ciowe audio</td></tr></table></div></body></html>
