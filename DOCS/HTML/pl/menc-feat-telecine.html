<html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2"><title>7.12. Jak radziæ sobie telecine i przeplotem w NTSC DVD</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Odtwarzacz filmów"><link rel="up" href="mencoder.html" title="Rozdzia³ 7. Kodowanie z MEncoderem"><link rel="prev" href="menc-feat-dvd-mpeg4.html" title='7.11. Rippowanie DVD do wysokiej jako¶ci pliku MPEG-4 ("DivX")'><link rel="next" href="mailinglists.html" title="Dodatek A. Listy dyskusyjne"><link rel="preface" href="howtoread.html" title="Jak czytaæ tê dokumentacjê"><link rel="chapter" href="intro.html" title="Rozdzia³ 1. Wprowadzenie"><link rel="chapter" href="features.html" title="Rozdzia³ 2. Mo¿liwo¶ci"><link rel="chapter" href="usage.html" title="Rozdzia³ 3. Sposób u¿ycia"><link rel="chapter" href="faq.html" title="Rozdzia³ 4. FAQ - Czêsto Zadawane Pytania"><link rel="chapter" href="cd-dvd.html" title="Rozdzia³ 5. U¿ywanie CD/DVD"><link rel="chapter" href="ports.html" title="Rozdzia³ 6. Porty"><link rel="chapter" href="mencoder.html" title="Rozdzia³ 7. Kodowanie z MEncoderem"><link rel="appendix" href="mailinglists.html" title="Dodatek A. Listy dyskusyjne"><link rel="appendix" href="bugreports.html" title="Dodatek B. Jak zg³aszaæ b³êdy"><link rel="appendix" href="bugs.html" title="Dodatek C. Znane b³êdy"><link rel="appendix" href="skin.html" title="Dodatek D. Format skórki MPlayera"><link rel="appendix" href="users-vs-dev.html" title="Dodatek E. Deweloperzy wyrywaj± sobie w³osy"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-ident" title="7.12.1. Jak ustaliæ jaki typ video masz"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-encode" title="7.12.2. Jak zakodowaæ ka¿d± kategoriê"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="7.12.3. Notatki"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.12. Jak radziæ sobie telecine i przeplotem w NTSC DVD</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="menc-feat-dvd-mpeg4.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 7. Kodowanie z <span class="application">MEncoderem</span></th><td width="20%" align="right"> <a accesskey="n" href="mailinglists.html">Nastêpny</a></td></tr></table><hr></div><div class="sect1" lang="pl"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-telecine"></a>7.12. Jak radziæ sobie telecine i przeplotem w NTSC DVD</h2></div></div></div><p><b>Wprowadzenie. </b>
  Radzê aby¶ odwiedzi³ poni¿sz± stronê je¿eli nie za bardzo rozumiesz co 
  jest napisane w tym dokumencie:
  <a href="http://www.divx.com/support/guides/guide.php?gid=10" target="_top">http://www.divx.com/support/guides/guide.php?gid=10</a>
  Ten URL prowadzi do zrozumia³ego i rozs±dnej wielko¶ci przewodnika traktuj±cego o tym 
  czym jest telecine.
</p><p>
  Z przyczyn technicznych odnosz±cych siê do wczesnych 
  urz±dzeñ telwizyjnych, ka¿de video które mia³o byæ odtwarzane 
  na telewizorze NTSC musia³o byæ ustawione na 59,94 pola na sekundê.
  Filmy i programy nagrane dla telewizji s± najczê¶ciej ograniczone
  bezpo¶rednio do 59,94 pól na sekundê, ale wiêkszo¶æ filmów kinowych
  jest nagrywanych w 24 lub 23,976 klatkach na sekundê. Kiedy DVD z kinowym
  filmem jest odtwarzane, video jest konwertowane dla telewizji przy pomocy procesu
  nazywanego telecine.
</p><p>
  Obraz na DVD, tak naprawdê nigdy nie jest przechowywany jako
  59,94 pól na sekundê. Dla obrazu który oryginalnie by³ 59,94, ka¿da 
  para pól jest ³±czona w ramkê, co daje rezultat 29,97 ramek na sekundê.
  Sprzêtowe odtwarzacze DVD odczytuj± flagê osadzon± w strumieniu video
  aby okre¶liæ czy parzyste czy nieparzyste linie powinny formowaæ pierwsze pole.
</p><p>
  Zazwyczaj, informacja o 23,976 ramkach na sekundê mówi
  odtwarzaczowi DVD, ¿e musi przeprowadziæ telecine w locie.
  Czasami, jednak, proces telecine na obrazie przeprowadzony jest 
  <span class="emphasis"><em>przed</em></span> umieszczeniem go na DVD; Nawet
  je¿eli by³ on nagrany jako  23,976 ramek na sekundê, staje siê on 59,94 
  pola na sekundê i jest przechowywany na dysku jako 29,97 ramek na sekundê.
</p><p>
  Patrz±c na indywidualne ramki uformowane z ztelecinowanego 
  obrazu 59,94 pól na sekundê, przeplot jest wyra¼nie widoczny przy ruchu, 
  poniewa¿ jedno pole (powiedzmy parzyste linie) reprezentuj± moment
  w czasie o 1/59,94 sekundy pó¼niej ni¿ pozosta³e. Odtwarzanie video z przeplotem
  na komputerze wygl±da ohydnie, z dwóch przyczyn, poniewa¿ monitor jest wiêkszej
  rozdzielczo¶ci i obraz jest wy¶wietlany ramka-po-ramce zamiast pole-po-polu.
</p><p>
Notki:
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Ta sekcja odnosi siê tylko do NTSC DVD, nie do PAL.
  </p></li><li><p>
  Przyk³adowe komendy <span class="application">MEncodera</span> w tym dokumencie
  <span class="bold"><strong>nie</strong></span> s± przeznaczone do prawdziwego u¿ycia.
  S± one po prostu minimum do kodowania danej kategorii video. Jak zrobiæ dobre ripy DVD
  lub precyzyjnie-ustawiæ <code class="systemitem">libavcodec</code> dla
  najlepszej jako¶ci nie s± zagadnieniami dla tego tego dokumentu.
  </p></li><li><p>
   Jest kilka przypisów do tego dokumentu, zaznaczonych tak: 
  <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="7.12.3. Notatki">[1]</a>
  </p></li></ul></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-ident"></a>7.12.1. Jak ustaliæ jaki typ video masz</h3></div></div></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-progressive"></a>7.12.1.1. Progresywny</h4></div></div></div><p>
  Progresywne video by³o oryginalnie filmowane przy 23.976 fps (ramek na sekundê - przyp. t³um.), i
  przechowywane na DVD bez zmian.
</p><p>
  Kiedy odtwarzasz progresywne DVD w <span class="application">MPlayerze</span>,
  <span class="application">MPlayer</span> wy¶wietli nastepuj±cy wiersz zaraz gdy film zacznie byæ odtwarzany:

  </p><pre class="screen"> demux_mpg: 24fps progressive NTSC content detected, switching framerate.</pre><p>
  
  Od tego momentu, demux_mpg niepowinien nigdy powiedzieæ i¿ znalaz³
  "30fps NTSC content."
</p><p>
  Kiedy ogl±dasz progresywne video, nie powiniene¶ zauwa¿yæ ¿adnego
  przeplotu. B±d¼ jednak czujny poniewa¿ jest tam czasami wmiksowany ma³y
  kawa³ek telecine, tam gdzie siê go nie spodziewasz. Napotka³em DVD z programami
  telewizyjnymi w których przy ka¿dej zmianie sceny i  w losowych miejscach by³a jedna 
  sekunda telecine. Raz ogl±da³em DVD który mia³ jedn± po³owê
  progresywn±, a drug± ztelecinowan±. Je¿eli chcesz byæ <span class="emphasis"><em>naprawdê</em></span>
  pewny, mo¿esz przeskanowaæ ca³y film:

  </p><pre class="screen">mplayer dvd://1 -nosound -vo null -benchmark</pre><p>

  U¿ycie opcji <tt class="option">-benchmark</tt> przekazuje
  <span class="application">MPlayerowi</span> aby odtwarza³ film 
  tak szybko jak tylko mo¿e; ci±gle jednak, jako ¿e jest zale¿ny od Twojego sprzêtu
  mo¿e to zaj±c trochê czasu. Za ka¿dym razem demux_mpg zg³asza zmianê liczby 
  ramek na sekundê, pierwsza linia nad poka¿e czas w którym nast±pi³a ta zmiana.
</p><p>
 Progresywne video jest czasami nazywane "miêkkie-telecine"
 poniewa¿ jest ono stworzone aby odtwarzac DVD wykona³ na nim proces telecine.
</p></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-telecined"></a>7.12.1.2. Ztelecinowany</h4></div></div></div><p>
  Obraz "ztelecinowany" by³ oryginalnie sfilmowany jako 23,976, ale
  zosta³ poddany procesowi telecine <span class="emphasis"><em>przed</em></span>
  zapisaniem go na p³ycie DVD.
</p><p>
  
  <span class="application">MPlayer</span> (nigdy) nie zwraca
  ¿adnych zmian ilo¶ci ramek na sekundê kiedy 
  odtwarza ztelecinowane video.
</p><p>
  Podczas ogl±dania video poddanego procesowi telecine, zobaczysz
  artefakty przeplotu które wydaj± siê "migaæ": szybko 
  pojawiaj± siê i znikaj±. Mo¿esz siê im bli¿ej przyjrzeæ wpisuj±c
  </p><div class="orderedlist"><ol type="1"><li><pre class="screen">mplayer dvd://1 -speed 0.1</pre></li><li><p>
    Przewiñ na dynamiczne sceny.
    </p></li><li><p>
  
    Popatrz na wzór przeploto-wygl±daj±cych i progresywnie-wygl±daj±cych
    ramek. Je¿eli wzór który widzisz wyg±da jak PPPII,PPPII,PPPII,... wtedy video
    ztelecinowane. Je¿eli widzisz inny wzór, wtedy mo¿liwe jest ¿e video zosta³o
    niestandartowo poddane procesowi telecine i <span class="application">MEncoder</span>
    nie mo¿e bezstratnie przekonwertowaæ go do progresywnego video. Je¿eli
    nie widzisz ¿adnego wzoru, wtedy najprawdopodobniej video zawiera tylko przeplot.
    </p></li></ol></div><p>
</p><p>
  Czasami video poddane procesowi telecine nazywane jest "twarde-telecine".
</p></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-interlaced"></a>7.12.1.3. Przepleciony</h4></div></div></div><p>
  Przeplecione video by³o oryginalnie sfilmowane jako 59,94 pól na sekundê
  i przechowywane na DVD jako 29,97 fps. Przeplot to rezultat po³±czenia 
  par pól w ramkê, poniewa¿ w ka¿dej ramce, ka¿de pole jest oddzielone o 
  1/59,94 sekundy.
</p><p>
   Tak jak przy ztelecinowanym video, podczas odtwarzania filmu z przeplotem
  <span class="application">MPlayer</span> nigdy nie
  powinien powiadamiaæ o zmianie ilo¶ci ramek na sekundê.
 
</p><p>
  Kiedy z bliska ogl±dasz przeplecione video z <tt class="option">-speed 0.1</tt>
  zobaczysz, i¿ ka¿da pojedyñcza klatka jest przepleciona.
</p></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpt"></a>7.12.1.4. Mieszane progresywne i telecine</h4></div></div></div><p>
  Wszystkie "wymieszane progresywne i telecine" video
  by³y oryginalnie nagrane jako 23.976 ramek na sekundê, ale 
  niektóre czê¶ci skoñczy³y jako ztelecinowane.
</p><p>
  Kiedy <span class="application">MPlayer</span> odtwarza tê kategoriê, bêdzie on
  (zazwyczaj bardzo szybko) prze³±cza³ siê tam i z powrotem miêdzy "30fps
  NTSC" i "24fps progresywne NTSC". Przyjrzyj siê wyj¶ciu 
  <span class="application">MPlayera</span> (na konsoli - przyp. tlum.) aby zobaczyæ
  te wiadomo¶ci.
</p><p>
 Powiniene¶ przyjrzeæ siê sekcji "30fps NTSC" aby upewniæ siê
 czy s± one na pewno telecine a nie tylko przeplecione.
</p></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpi"></a>7.12.1.5. Mieszane progresywne i telecine</h4></div></div></div><p>
  W "mieszanej progresywnej i przeplecionej" zawarto¶ci, 
  progresywne i przeplecione video zosta³o po³±czone razem.
</p><p>
  Ta kategoria wygl±da zupe³nie jak "mieszane progresywne i telecine",
  do momentu kiedy przyjrzysz siê fragmentom 30fps i zobaczysz i¿ nie maja one wzoru telecine.
</p></div></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-encode"></a>7.12.2. Jak zakodowaæ ka¿d± kategoriê</h3></div></div></div><p>
 Jak ju¿ wspomnia³em na pocz±tku, przyk³adowe polecenia <span class="application">MEncodera</span>
 poni¿ej <span class="bold"><strong>nie</strong></span> s± przewidziane do rzeczywistego
 u¿ycia; demonstruj± one tylko minimalne parametry potrzebne do prawid³owego zakodowanie danej kategorii.
</p><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-progressive"></a>7.12.2.1. Progresywne</h4></div></div></div><p>
  Progresywne video nie wymaga ¿adnego specjalnego filtrowania do kodowania.
  Jedynym koniecznym paramterem jaki musisz u¿yæ jest   <tt class="option">-ofps 23.976</tt>.
  Inaczej, <span class="application">MEncoder</span> bêdzie próbowa³ kodowaæ przy prêdko¶ci 29,97
  i duplikowaæ ramki.
</p><p>
  </p><pre class="screen">mencoder dvd://1 -nosound -ovc lavc -ofps 23.976</pre><p>
</p></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-telecined"></a>7.12.2.2. Ztelecinowane</h4></div></div></div><p>
 Proces telecine mo¿e zostaæ odwrócony, aby odzyskaæ oryginaln± zawarto¶æ
 23,976, przy u¿yciu metody o nazwie odwrócone-telecine.
 <span class="application">MPlayer</span> zawiera dwa filtry które s± w stanie dokonaæ tego:
 <tt class="option">detc</tt> i <tt class="option">ivtc</tt>. Mo¿esz przeczytaæ stronê man
 aby dowiedzieæ siê co je ró¿ni, ale je¿eli chodzi o DVD to nigdy nie mia³em
 problemu z <tt class="option">ivtc</tt>. Pamiêtaj, ¿e
 przed przeskalowywaniem powiniene¶ <span class="bold"><strong>zawsze</strong></span>
 odwróciæ telecine; odwróæ telecine tak¿e przed
cropowaniem, chyba ¿e naprawdê wiesz co robisz <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="7.12.3. Notatki">[1]</a>. 
 </p><p>
  </p><pre class="screen">mencoder dvd://1 -nosound -vf ivtc=1 -ovc lavc -ofps 23.976</pre><p>
</p></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-interlaced"></a>7.12.2.3. Przeplecione</h4></div></div></div><p>
  Dla wiêkszo¶ci praktycznych przypadków nie jest mo¿liwe ca³kowite
  odzyskanie progresywnego video z przeplecionej zawarto¶ci. 
  Jedynym sposobem bez gubienia po³owy pionowej rozdzielczo¶ci
  jest podwojenie ilo¶ci ramek na sekundê i "zgadniêcie" co powinno
  zast±piæ odpowiadaj±ce linie ka¿dego pola (ma to pewne wady - zobacz trzeci± metodê).
</p><div class="orderedlist"><ol type="1"><li><p>
 Kodowanie video z przeplotem. Normalnie, przeplot niszczy szanse enkodera
 na dobre zakodowanie, lecz <code class="systemitem">libavcodec</code>
 posiada dwie opcje pozwalaj±ce przechowywaæ video z przeplotem ciut lepiej:
 <tt class="option"> ildct</tt> i <tt class="option">ilme</tt>.
 U¿ycie <tt class="option">mbd=2</tt> jest tak¿e zalecane <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="7.12.3. Notatki">[2] </a>
 poniewa¿ zakoduje on makrobloki bez przeplotu w miejscach gdzie nie ma ruchu
 Zauwa¿ i¿ opcja <tt class="option">-ofps</tt> NIE jest tu potrzebna.

  </p><pre class="screen">mencoder dvd://1 -nosound -ovc lavc -lavcopts ildct:ilme:mbd=2</pre><p>
  </p></li><li><p>  
  U¿ycie filtru likwiduj±cego przeplot przed kodowaniem. Jest kilka takich 
  filtrów, ka¿dy ma swoje wady i zalety. Skonsultuj <tt class="option">mplayer -pphelp</tt>
  aby zobaczyæ co jest dostêpne (grepuj "deint") i przeszukaj
  <a href="http://www.mplayerhq.hu/design7/info.html#mailing_lists" target="_top">
  listy dyskusyjne MPlayera</a> aby znale¼æ wiele dyskusji na temat ró¿nych filtrów.
  Ilo¶æ ramek na sekundê znów siê nie zmienia, wiêc nie u¿ywamy <tt class="option">-ofps</tt>.
  Likwidowanie przeplotu powinno zostaæ zrobione po kadrowaniu 
  <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="7.12.3. Notatki">[1]</a> i przed skalowaniem.

  </p><pre class="screen">mencoder dvd://1 -nosound -vf pp=lb -ovc lavc</pre><p>
  </p></li><li><p>
  Niestety ta opcja zawiera b³êdy w <span class="application">MEncoderze</span>; 
  Bêdzie dzia³aæ w <span class="application">MEncoder G2</span>, którego jeszcze nie ma.
  Na razie mo¿esz do¶wiadczyæ nieoczekiwanych wywaleñ.
  
  
  Celem opcji <tt class="option">-vf tfields</tt> jest stworzenie pe³nej klatki z ka¿dego pola,
  co w efekcie daje framerate 59,94. Zalet± tego podej¶cia jest zerowa utrata danych;
  jednak ze wzglêdu na to, i¿ ka¿da ramka pochodzi od jednego pola pozosta³e linie musz±
  byæ jako¶ zinterpolowane. S± niezbyt dobre metody generowania brakuj±cych
  danych, a rezultaty bêd± podobne do tych jakie otrzymamy przy filtrach 
  likwiduj±cych przeplot. Generowanie brakuj±cych linii tworzy kolejne problemy, 
  po prostu ilo¶æ danych siê podwaja. Wiêc, aby zachowaæ jako¶æ potrzebny jest 
  wiêkszy koduj±cy bitrate i wiêksza cze¶æ mocy procesora jest u¿ywana do kodowania jak
  i dekodowania. tfields posiada kilka ró¿nych opcji do generowania brakuj±cych linii. Je¿eli
  u¿ywasz tej metody, odwo³aj siê do manuala  i wybierz opcjê która
  najbardziej odpowiada Twojemu materia³owi. Zauwa¿, ¿e gdy u¿ywasz <tt class="option">tfields</tt>
   <span class="bold"><strong>musisz</strong></span> podaæ i <tt class="option">-fps</tt>
   i <tt class="option">-ofps</tt> aby podwoiæ ilo¶æ ramek na sekundê Twojego ¼ród³a.
  
  </p><pre class="screen">mencoder dvd://1 -nosound -vf tfields=2 -ovc lavc -fps 59.94 -ofps 59.94</pre><p>
  </p></li><li><p>   
  Je¿eli planujesz drastyczne zmniejszenie rozdzielczo¶ci mo¿esz odci±æ i zakodowaæ
  tylko jedno z dwóch pól. Oczywi¶cie stracisz po³owê pionowej rozdzielczo¶ci,
   ale je¶li chcesz zeskalowaæ do mniej ni¿ po³owy pionowej rozdzielczo¶ci, strata  
   nie bêdzie mia³a du¿ego znaczenia. Rezultatem bêdzie progresywny plik o prêdko¶ci
   29,97 ramek na sekundê. Procedura wymaga u¿ycia <tt class="option">-vf field</tt>,
   potem wykadrowania <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="7.12.3. Notatki">[1]</a>
   i wyskalowania. Pamiêtaj, i¿ bêdziesz musia³ skompensowaæ po³owê pionowej
   rozdzielczo¶ci odpowiedni± skal±.
   </p><pre class="screen">mencoder dvd://1 -nosound -vf field=0 -ovc lavc</pre><p>
  </p></li></ol></div></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpt"></a>7.12.2.4. Mieszane progresywne i telecine</h4></div></div></div><p>
  W celu zmienienia zmieszanego video w ca³kowicie progresywne, czê¶ci
  ztelecinowane bêd± musia³y byæ poddane procesowi odwróconego telecine.
  S± dwa filtry które tego dokonaj± natywnie, ale najlepszym sposobem 
  jest u¿ycie ich obu po³±czonych (czytaj dalej aby dowiedzieæ siê wiêcej).
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Obecnie najbardziej niezawodn± metod± na poradzenie sobie z tym 
  typem video, jest nie odwracanie telecine ztelecinowanych czê¶ci, ale 
  ztelecinowaæ nie-ztelecinowane czê¶ci i odwróciæ telecine ca³ego video.
  Brzmi skomplikowanie? softpulldown jest filtrem który zamienia ca³e video
  na telecine. Je¿eli po softpulldown nast±pi <tt class="option">detc</tt> lub
  <tt class="option">ivtc</tt>, koñcowym rezultatem bêdzie w ca³o¶ci progresywne video.
  Kadrowanie i skalowanie powinno byæ zrobione po operacjach odwracaj±cych telecine
  z opcj± <tt class="option"> -ofps 23.976</tt>.

  </p><pre class="screen">mencoder dvd://1 -nosound -vf softpulldown,ivtc=1 -ovc lavc -ofps 23.976</pre><p>
  </p></li><li><p>
  <tt class="option">-vf pullup</tt> jest zaprojektowane aby odwracaæ telecine 
  ztelecinowanego materia³u, a progresywne dane zostawiaæ w spokoju.
  Pullup nie dzia³a za dobrze
  z obecnym <span class="application">MEncoderem</span>, ale bêdzie dzia³a³ z 
  <span class="application">MEncoder G2</span> (kiedy ten bêdzie tylko gotowy).
  Dzia³a dobrze bez opcji <tt class="option">-ofps</tt>, ale <tt class="option">-ofps</tt>
  jest potrzebne aby zapobiec poszatkowanemu wyj¶ciu . Z  
  <tt class="option">-ofps</tt> pullup czasami zawodzi. Problem wywodzi siê z zachowania
  <span class="application">MEncodera</span> który zrzuca ramki aby zachowaæ
  synchronizacjê miêdzy d¼wiêkiem i obrazem: zrzuca ramki raczej przed wys³aniem ich przez
  ³añcuch filtrów, ni¿ po. W rezultacie <tt class="option">pullup</tt> jest czasami pozbawiony danych
  których potrzebuje.
  </p><p>
  Je¿eli <span class="application">MEncoder</span> zrzuca za du¿o ramek pod rz±d, 
  zag³adza bufor <tt class="option">pullupa</tt> i powoduje jego nieoczekiwane zamkniêcie.
  </p><p>
  Je¿eli nawet <span class="application">MEncoder</span> zrzuca jedn± ramkê,
   <tt class="option">pullup</tt> wci±¿ nie widzi jej i operuje na z³ej sekwencji ramek.
  Nawet je¶li to nie powoduje nieoczekiwanego zakoñczenia,
  <tt class="option">pullup</tt> nie bêdzie w stanie podj±æ w³a¶ciwych decyzji jak
  po³±czyæ progresywne ramki i albo bêdzie niew³a¶ciwie dopasowywa³ do siebie
   pola albo zrzuca³ parê pól aby skompensowaæ.
  </p></li><li><p>
  Nie u¿ywa³em <tt class="option">-vf filmdint</tt> osobi¶cie, ale zobacz co
  ma do powiedzenia na ten temat D Richard Felker III:

  </p><div class="blockquote"><blockquote class="blockquote"><p>To jest w porz±dku, ale IMO (MZ - Moim zdaniem - przyp. t³um.)
  to raczej próbuje usun±æ przeplot ni¿ odwróciæ telecine (podobnie
  jak odtwarzacze DVD settop &amp; progresywne TV)
  czego skutkiem jest ohydne miganie i inne artefakty. 
  Je¿eli zamierzasz u¿ywaæ tego, musisz chocia¿ spêdzi trochê czasu
  na dopasowaniu opcji i ogl±daniu rezultatów aby upewniæ siê, ¿e siê nie 
  kaszani.</p></blockquote></div><p>
  </p></li></ul></div></div><div class="sect3" lang="pl"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpi"></a>7.12.2.5. Mieszane progresywne i z przeplotem</h4></div></div></div><p>
  S± dwie metody na poradzenie sobie z t± kategori±, ka¿da jest pewnym 
  kompromisem. Powiniene¶ zdecydowaæ na podstawie czasu trwania/miejsca ka¿dego
  typu.
  </p><div class="itemizedlist"><ul type="disc"><li><p>
  Traktuj video jak progresywne. Czê¶ci z przeplotem bêd± wygl±da³y jak 
  z przeplotem i niektóre przeplecione pola bêd± musia³y byæ zrzucone, czego
  rezultatem bêdzie niemiarowe skakanie. Je¶li chcesz mo¿esz u¿yæ filtrów
  postprocessingu, ale mo¿e to nieznacznie zdegradowaæ progresywne czê¶ci.
  </p><p>
  Ta opcja na pewno nie powinna byæ u¿ywana je¶li docelowo masz zamiar
  wy¶wietlaæ video na urz±dzeniu wykorzystuj±cym przeplot (np. z kart± TV)
  Je¿eli masz ramki z przeplotem 23,937 fps, bêd± one ztelecinowane razem 
  z progresywnymi ramkami. Po³owa "ramek" z przeplotem bêdzie wy¶wietlona
  w czasie wy¶wietlania trzech pól (3/59.94 sekund), co w rezultacie da migaj±cy
  "skok wstecz w czasie" efekt który kiepsko wygl±da. Je¿eli próbowa³e¶
  tego <span class="bold"><strong>musisz</strong></span> u¿yæ filtru
  likwiduj±cego przeplot jak <tt class="option">lb</tt> lub <tt class="option">l5</tt>.
  </p><p>
  To mo¿e byæ równie¿ z³y pomys³ dla progresywnego obrazu. 
  Zrzuci to pary nieprzerwanych przeplecionych pól, daj±c w rezultacie nieci±g³o¶æ
  która mo¿e byæ bardziej widoczna ni¿ w drugim przypadku który pokazuje
  niektóre ramki dwa razy. Video z przeplotem 29,97 fps jest ju¿ trochê
  poszatkowane poniewa¿ powinno byæ wy¶wietlanie z prêdko¶ci±
  59,94 pól na sekundê, wiêc zduplikowane pola nie s± a¿ tak widoczne.
  </p><p>
  W ka¿dym przypadku najlepiej jest rozpatrywaæ materia³ i to gdzie masz zamiar 
  go wy¶wietlaæ. Je¶li video jest w 90% progresywne i nie masz zamiaru nigdy go wy¶wietlaæ
  na TV, powiniene¶ faworyzowaæ progresywne podej¶cie. Je¿eli jest tylko w po³owie
  progresywne, bêdziesz pewnie chcia³ je kodowaæ tak jakby by³o
  w ca³o¶ci z przeplotem.
  </p></li><li><p>
  Traktuj video jakby by³o z przeplotem. Niektóre klatki z progresywnych
  czê¶ci bêd± musia³y byæ zduplikowane, daj±c w rezultacie niemiarowe skoki.
  Znów filtry  likwiduj±ce przeplot mog± nieznacznie zdegradowaæ progresywne czê¶ci.
  </p></li></ul></div></div></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-footnotes"></a>7.12.3. Notatki</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p><b>O kadrowaniu: </b>
  Video na DVD jest przechowywane w formacie nazywanym YUV 4:2:0.
  W video YUV luma ("jasno¶æ") i chroma ("kolor")
  s± przechowywane osobno. Poniewa¿ ludzkie oczy s± mniej wra¿liwe na
  kolor ni¿ na jasno¶æ, w obrazie YUV 4:2:0 na cztery piksele luma przypada jeden
  piksel chroma. W progresywnym obrazie, ka¿dy kwadrat czterech pikseli luma 
  (dwa na ka¿dym boku) ma jeden wspólny piksel chroma. Musisz wykadrowaæ progresywne 
  video YUV 4:2:0 do parzystych rozdzielczo¶ci, i u¿ywaæ parzystych przesuniêæ. Na przyk³ad 
  <tt class="option">crop=716:380:2:26</tt> jest OK ale
  <tt class="option">crop=716:380:3:26 </tt> nie jest.
  </p><p>
  Kiedy masz do czynienia z YUV 4:2:0 z przeplotem, sytuacja jest
  trochê bardziej skomplikowana. Zamiast ka¿dych czterech pikseli
  luma w <span class="emphasis"><em>ramce</em></span> dziel±cych jeden piksel
  chroma, ka¿de cztery piksele w <span class="emphasis"><em>polu</em></span>
  dziel± jeden piksel chroma. Kiedy pola s± przeplatane aby stworzyæ
  ramkê, ka¿da linia skanuj±ca jest wysoko¶ci jednego piksela.
  Teraz, zamiast czterech pikseli luma w kwadracie, s± dwa bok-przy-boku
  i dwa nastêpne bok-przy-boku dwie linie skanuj±ce ni¿ej. Ca³e to zamieszanie
   powoduje, ¿e pionowe rozmiary kadru i przesuniêcia musz± byæ
  wielokrotno¶ciami czterech. Wymiary poziome mog± pozostaæ parzyste.
  </p><p>
  Dla telecinowanego video, zalecam kadrowaæ po procesie odwracania
  telecine. Kiedy video jest ju¿ progresywne wymagane jest tylko kadrowanie do
  parzystych wymiarów. Je¶li naprawdê potrzebujesz lekkiego przyspieszenia
  jakie da kadrowanie najpierw musisz kadrowaæ pionowo do wielokrotno¶ci
  czterech, inaczej filtr odwracaj±cy telecine nie bêdzie otrzymywa³ prawid³owych danych.
  </p><p>
  Przy video z przeplotem (nie telecine), musisz zawsze kadrowaæ
   pionowo do wielokrotno¶ci czwórki, chyba ¿e u¿ywasz opcji 
  <tt class="option">-vf field</tt> przed kadrowaniem.
  </p></li><li><p><b>O parametrach i jako¶ci kodowania: </b>
  Tylko to, ¿e poleci³em <tt class="option">mbd=2</tt> tutaj nie znaczy ¿e
  nie mo¿e byæ on u¿ywany gdzie indziej. Razem z <tt class="option">trell</tt>, 
  <tt class="option">mbd=2</tt> jest jedn± z dwóch najbardziej podnosz±cych jako¶æ opcji
  biblioteki <code class="systemitem">libavcodec</code>, których zawsze
  powiniene¶ u¿ywaæ, chyba ¿e spadek szybko¶ci kodowania jest niedopuszczalny
  (np. kodowanie w czasie rzeczywistym). Biblioteka <code class="systemitem">libavcodec</code>
  ma wiele opcji umo¿liwiaj±cych zwiêkszenie jako¶ci wyj¶ciowej kodowania (i zmniejszyenie
  prêdko¶ci) ale ten temat jest poza zakresem tego dokumentu.
  </p></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="menc-feat-dvd-mpeg4.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="mencoder.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="mailinglists.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">7.11. Rippowanie DVD do wysokiej jako¶ci pliku MPEG-4 ("DivX") </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> Dodatek A. Listy dyskusyjne</td></tr></table></div></body></html>
