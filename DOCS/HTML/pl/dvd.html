<html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2"><title>4.2. Odtwarzanie DVD</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Odtwarzacz filmów"><link rel="up" href="cd-dvd.html" title="Rozdzia³ 4. U¿ywanie CD/DVD"><link rel="prev" href="drives.html" title="4.1. Napêdy CD/DVD"><link rel="next" href="vcd.html" title="4.3. Odtwarzanie VCD"><link rel="preface" href="howtoread.html" title="Jak czytaæ tê dokumentacjê"><link rel="chapter" href="intro.html" title="Rozdzia³ 1. Wprowadzenie"><link rel="chapter" href="install.html" title="Rozdzia³ 2. Instalacja"><link rel="chapter" href="usage.html" title="Rozdzia³ 3. Sposób u¿ycia"><link rel="chapter" href="cd-dvd.html" title="Rozdzia³ 4. U¿ywanie CD/DVD"><link rel="chapter" href="faq.html" title="Rozdzia³ 5. FAQ - Czêsto Zadawane Pytania"><link rel="chapter" href="formats.html" title="Rozdzia³ 6. Kontenery"><link rel="chapter" href="codecs.html" title="Rozdzia³ 7. Obs³ugiwane kodeki"><link rel="chapter" href="video.html" title="Rozdzia³ 8. Urz±dzenia wyj¶cia video"><link rel="chapter" href="audio.html" title="Rozdzia³ 9. Urz±dzenia wyj¶ciowe audio"><link rel="chapter" href="tv.html" title="Rozdzia³ 10. TV"><link rel="chapter" href="radio.html" title="Rozdzia³ 11. Radio"><link rel="chapter" href="ports.html" title="Rozdzia³ 12. Porty"><link rel="chapter" href="mencoder.html" title="Rozdzia³ 13. Podstawy u¿ywania MEncodera"><link rel="chapter" href="encoding-guide.html" title="Rozdzia³ 14. Kodowanie przy u¿yciu MEncodera"><link rel="appendix" href="bugreports.html" title="Dodatek A. Jak zg³aszaæ b³êdy"><link rel="appendix" href="bugs.html" title="Dodatek B. Znane b³êdy"><link rel="appendix" href="skin.html" title="Dodatek C. Format skórki MPlayera"><link rel="appendix" href="history.html" title="Dodatek D. Historia"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.2. Odtwarzanie DVD</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="drives.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 4. U¿ywanie CD/DVD</th><td width="20%" align="right"> <a accesskey="n" href="vcd.html">Nastêpny</a></td></tr></table><hr></div><div class="sect1" lang="pl"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dvd"></a>4.2. Odtwarzanie DVD</h2></div></div></div><p>
Aby poznaæ pe³n± listê dostêpnych opcji, proszê przeczytaæ odpowiednie strony
man. Sk³adnia dla standardowego DVD (Digital Versatile Disc) jest nastêpuj±ca:
</p><pre class="screen">mplayer dvd://<em class="replaceable"><code>&lt;¶cie¿ka&gt;</code></em> [-dvd-device <em class="replaceable"><code>&lt;urz±dzenie&gt;</code></em>]</pre><p>
</p><p>
Przyk³ad:
</p><pre class="screen">mplayer dvd://<em class="replaceable"><code>1</code></em> -dvd-device <em class="replaceable"><code>/dev/hdc</code></em></pre><p>
</p><p>
Je¶li skompilowa³e¶ <span class="application">MPlayera</span> z obs³ug± dvdnav,
sk³adnia jest taka sama, tylko musisz u¿yæ dvdnav:// zamiast dvd://.
</p><p>
Domy¶lnym urz±dzeniem (device) DVD jest <tt class="filename">/dev/dvd</tt>. Je¿eli
Twoje ustawienia s± inne, stwórz odpowiedni symlink lub ustaw odpowiednie
urz±dzenie (device) w linii polecenia korzystaj±c z opcji
<tt class="option">-dvd-device</tt>.
</p><p>
<span class="application">MPlayer</span> u¿ywa <code class="systemitem">libdvdread</code>
oraz <code class="systemitem">libdvdcss</code> do dekodowania i odtwarzania DVD. Te
dwie biblioteki s± zawarte w podkatalogu <tt class="filename">libmpdvdkit2</tt>
w g³ównym drzewie katalogów <span class="application">MPlayera</span>, nie trzeba
instalowaæ ich osobno.
Mo¿esz te¿ u¿yæ systemowych wersji tych bibliotek, ale nie jest to zalecane,
poniewa¿ mo¿e spowodowaæ b³êdy, niekompatybilno¶ci bibliotek oraz zmniejszenie
prêdko¶ci.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Notatka</h3><p>
Je¶li wystêpuj± problemy z dekodowaniem DVD, spróbuj wy³±czyæ supermount lub
inne tego typu us³ugi. Niektóre napêdy RPC-2 mog± równie¿ wymagaæ ustawienia
kodu regionu DVD.
</p></div><p><b>Struktura dysku DVD. </b>
Dyski DVD maj± po 2048 bajtów na sektor z ECC/CRC. Zwykle posiadaj± system
plików UDF na pojedynczej ¶cie¿ce zawieraj±cej ró¿norakie pliki (ma³e pliki .IFO
i .BUK oraz du¿e (1GB) pliki .VOB).
S± one rzeczywistymi plikami i mog± byæ kopiowane/odtwarzane z podmontowanego
systemu plików niezakodowanego DVD.
</p><p>
Pliki .IFO zawieraj± informacje nawigacyjne filmu (mapa
rozdzia³ów/tytu³ów/k±tów kamery, tablica jêzyków, itp) i s± konieczne do
odczytu i interpretacji zawarto¶ci pliku .VOB (filmu).
Pliki .BUK s± kopiami zapasowymi plików .IFO.
U¿ywaj± <span class="bold"><strong>sektorów</strong></span> wszêdzie, wiêc aby
zaimplementowaæ nawigacjê na DVD lub rozszyfrowaæ zawarto¶æ, nale¿y u¿ywaæ
adresowania sektorów dysku w trybie raw.
</p><p>
Z tego powodu obs³uga DVD wymaga
dostêpu do urz±dzenia w trybie raw bazuj±cym na sektorach. Niestety wymagane
jest (pod Linuksem) posiadanie uprawnieñ roota aby móc korzystaæ z sektorowego
adresowania pliku.
Dlatego te¿ nie w ogóle u¿ywamy sterownika systemu plików pochodz±cego
z j±dra, ale reimplementujemy to w przestrzeni u¿ytkownika.
Zajmuj± siê tym
biblioteki <code class="systemitem">libdvdread</code> 0.9.x i
<code class="systemitem">libmpdvdkit</code>. Sterownik
systemu plików UDF zawarty w j±drze nie jest wymagany poniewa¿ wspomniane
biblioteki zawieraj± w³asny, wbudowany sterownik systemu plików UDF. DVD nie
musi byæ podmontowany, bowiem u¿ywany jest jedynie dostêp w trybie raw.
</p><p>
Czasami <tt class="filename">/dev/dvd</tt> nie mo¿e byæ czytany przez u¿ytkowników,
zatem autorzy <code class="systemitem">libdvdread</code> zaimplementowali warstwê
emulacji, która t³umaczy adresowanie sektorowe na nazwy plików i offsety, aby
emulowaæ dostêp w trybie raw na podmontowanym systemie plików albo nawet na
twardym dysku.
</p><p>
<code class="systemitem">libdvdread</code> równie dobrze akceptuje miejsce
podmontowania (mountpoint) jak i nazwê urz±dzenia przy dostêpie w trybie raw i
sprawdza <tt class="filename">/proc/mounts</tt> w celu odnalezienia odpowiedniej
nazwy urz±dzenia (device). Zosta³o to napisane z my¶l± o systemie Solaris, gdzie
nazwy urz±dzeñ s± przydzielane automatycznie.
</p><p><b>Autoryzacja DVD. </b>
Metoda autoryzacji i rozszyfrowywania u¿ywana gdy korzystamy z DVD przy u¿yciu
nowego sposobu polega na korzystaniu ze zmodyfikowanej biblioteki
<code class="systemitem">libdvdcss</code> (patrz wy¿ej). Ta metoda mo¿e byæ okre¶lona
poprzez zmienna ¶rodowiskow± <code class="envar">DVDCSS_METHOD</code>, która mo¿e byæ
ustawiona na "key", "disk" albo "title".
</p><p>
Je¿eli ¿adna warto¶æ nie jest ustawiona, próbowane s± nastêpuj±ce metody
(domy¶lnie: "key", "title request"):
</p><div class="orderedlist"><ol type="1"><li><p>
<span class="bold"><strong>bus key</strong></span>: Ten klucz jest ustalany podczas
autoryzacji (d³uga mieszanina ioctl'i i rozmaite wymiany kluczy, bajery
kryptograficzne) oraz jest u¿ywany do szyfrowania tytu³u i kluczy dyskowych
przed wys³aniem ich nieszyfrowan± magistral± (by zapobiec pods³uchiwaniu).
Klucz magistrali (bus key) jest wymagany do pobrania i wstêpnego
rozszyfrowania zaszyfrowanego klucza dysku (disk key).
</p></li><li><p>
<span class="bold"><strong>cached key</strong></span>: <span class="application">MPlayer</span>
wyszukuje ju¿ z³amane klucze tytu³ów, które s± przechowywane w katalogu
<tt class="filename">~/.mplayer/DVDKeys</tt> (szybkie ;).
</p></li><li><p>
<span class="bold"><strong>key</strong></span>: Je¿eli ¿aden zbuforowany klucz nie jest
dostêpny, <span class="application">MPlayer</span> próbuje rozszyfrowaæ klucz dysku
korzystaj±c z gar¶ci kluczy zaszytych w odtwarzaczu.
</p></li><li><p>
<span class="bold"><strong>disk</strong></span>: Je¿eli metoda "key" zawodzi (np. brak
kluczy zaszytych w odtwarzaczu), <span class="application">MPlayer</span> z³amie klucz
dysku u¿ywaj±c algorytmu ataku brutalnego. Proces ten jest bardzo
procesoroch³onny i wymaga 64 MB pamiêci (16M 32-bitowych pól
tabeli hash) do przechowywania tymczasowych danych. Ta metoda powinna zadzia³aæ
zawsze (powolne).
</p></li><li><p>
<span class="bold"><strong>title request</strong></span>: Maj±c klucz dysku
<span class="application">MPlayer</span> pobiera zaszyfrowane klucze tytu³ów (title
key), które s± zawarte w <span class="emphasis"><em>ukrytych sektorach (hidden
sectors)</em></span> u¿ywaj±c <code class="systemitem">ioctl()</code>. Ochrona
regionalna w napêdach RPC-2 jest realizowana w tym kroku i mo¿e siê nie udaæ na
tych napêdach. Je¶li jednak siê uda, klucze tytu³owe zostaj± rozszyfrowane przy
u¿yciu kluczy magistrali i dysku.
</p></li><li><p>
<span class="bold"><strong>title</strong></span>: Ta metoda jest u¿ywana je¿eli zapytanie
o tytu³ zakoñczy³o siê niepowodzeniem i nie polega na ¿adnej wymianie
kluczy z napêdem DVD. U¿ywa ona ataku kryptograficznego w celu odgadniêcia
klucza tytu³owego (title key) wprost (poprzez szukanie powtarzaj±cego siê ci±gu
znaków (wzoru) w rozszyfrowanej zawarto¶ci pliku VOB oraz poprzez zgadywanie, ¿e
czysty tekst odpowiadaj±cy pierwszym zaszyfrowanym bajtom jest kontynuacj±
wzoru). Metoda ta jest tak¿e znana jako "znany czysto-tekstowy atak (known
plaintext attack)" b±d¼ "DeCSSPlus". Rzadko zdarza siê, ale siê
zdarza, ¿e metoda ta mo¿e zawie¶æ poniewa¿ jest niewystarczaj±co du¿o
zaszyfrowanych danych na dysku aby spe³niæ za³o¿enia statystycznego ataku lub
poniewa¿ klucz zmienia siê w trakcie tytu³u. Jest to jedyna metoda, aby
zdeszyfrowaæ DVD przechowywane na twardym dysku lub DVD ze z³ym regionem na
napêdzie RPC2 (powolne).
</p></li></ol></div><p>
Napêdy DVD RPC-1 zabezpieczaj± ustawienia regionu jedynie poprzez
oprogramowanie. Napêdy RPC-2 maj± sprzêtowe zabezpieczenie, które pozwala na co
najwy¿ej 5 zmian. Je¿eli posiadamy napêd DVD RPC-2 wymagana/zalecana jest
aktualizacja firmware'u do RPC-1. 
Nowe wersje firmware'ów mo¿na znale¼æ w internecie. 
Poszukiwania radzimy rozpocz±æ od 
<a href="http://forum.rpc-1.com/dl_all.php" target="_top">forum firmware'ów</a>.
Je¿eli nie ma tam nowej wersji firmware'u dla naszego urz±dzenia, u¿yj
<a href="http://linvdr.org/projects/regionset/" target="_top">regionset tool
(narzêdzia do zmiany regionów)</a> aby ustawiæ kod regionu na swoim napêdzie
DVD (pod Linuksem). <span class="bold"><strong>Ostrze¿enie</strong></span>: Mo¿esz
ustawiæ region tylko 5 razy.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="drives.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="cd-dvd.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="vcd.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">4.1. Napêdy CD/DVD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 4.3. Odtwarzanie VCD</td></tr></table></div></body></html>
