<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>7.1. Kodowanie 2 lub 3-przebiegowe MPEG-4 ("DivX")</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.49"><link rel="home" href="index.html" title="MPlayer - Odtwarzacz filmów dla LINUKSA"><link rel="up" href="mencoder.html" title="Rozdzia&#322; 7. Kodowanie z MEncoderem"><link rel="previous" href="mencoder.html" title="Rozdzia&#322; 7. Kodowanie z MEncoderem"><link rel="next" href="menc-feat-mpeg.html" title="7.2. Kodowanie do formatu MPEG"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.1. Kodowanie 2 lub 3-przebiegowe MPEG-4 ("DivX")</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mencoder.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia&#322; 7. Kodowanie z MEncoderem</th><td width="20%" align="right"> <a accesskey="n" href="menc-feat-mpeg.html">Nast&#281;pny</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="menc-feat-divx4"></a>7.1. Kodowanie 2 lub 3-przebiegowe MPEG-4 ("DivX")</h2></div></div><p><b>Kodowanie 2-przebiegowe. </b>
Nazwa pochodzi od faktu, &#380;e przy u&#380;yciu tej metody plik kodowany jest <span class="emphasis"><i>dwa razy</i></span>.
Pierwsze kodowanie (dubbed pass) tworzy pliki tymczasowe
(<tt class="filename">*.log</tt>) o rozmiarze kilku megabajtów, nie kasuj ich odrazu
(mo&#380;esz natomiast skasowa&#263; plik AVI). W drugim przebiegu
przy pomocy danych o bitrate'cie z plików tymczasowych tworzony jest plik wyj&#347;ciowy
2-przebiegu. Plik ko&#324;cowy b&#281;dzie mia&#322; o wiele lepsz&#261; jako&#347;&#263; w porównaniu ze standardowym 1-przebiegowym kodowaniem.
Je&#380;eli pierwszy raz o tym s&#322;yszysz, powiniene&#347; zajrze&#263; do którego&#347; z wielu
przewodników dost&#281;pnych w sieci.
</p><p>
Ten przyk&#322;ad pokazuje jak zakodowa&#263; DVD do 2-przebiegowego MPEG-4 ("DivX") AVI.
B&#281;d&#261; do tego potrzebne tylko dwie komendy:
<pre class="screen">rm frameno.avi</pre>
usu&#324; ten plik, który mo&#380;e pochodzi&#263; z poprzedniego 3-przebiegowego kodowania (wp&#322;ywa on na aktualny)
<pre class="screen">
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac copy -o <i><tt>film.avi</tt></i>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=2 -oac copy -o <i><tt>film.avi</tt></i>
</pre>
</p><p><b>Kodowanie 3-przebiegowe. </b>
Jest to rozszerzenie kodowania 2-przebiegowego, gdzie d&#378;wi&#281;k jest kodowany osobno. Ta metoda wy&#347;wietla zalecany bitrate
taki, aby film zmie&#347;ci&#322; sie na pojedy&#324;cz&#261; p&#322;yt&#281; CD. Równie&#380;, d&#378;wi&#281;k kodowany jest tylko raz, inaczej ni&#380; w trybie 2-przebiegowym.
Schemat wygl&#261;da tak:
</p><div class="procedure"><ol type="1"><li><p>
  Usu&#324; przeszkadzaj&#261;cy plik tymczasowy:
  <pre class="screen">rm frameno.avi</pre>
  </p></li><li><p>
  <span class="emphasis"><i>Pierwszy przebieg:</i></span>

  <pre class="screen">mencoder <i><tt>plik/DVD</tt></i> -ovc frameno -oac mp3lame -lameopts vbr=3 -o frameno.avi</pre>

  Zostanie stworzony plik avi tylko ze scie&#380;k&#261; d&#378;wi&#281;kow&#261;, zawieraj&#261;cy
  <span class="bold"><b>jedynie</b></span> rz&#261;dany strumie&#324; audio. Nie zapomnij o
  <tt class="option">-lameopts</tt>, je&#380;eli musisz je ustawi&#263;. Je&#347;li kodowa&#322;e&#347; d&#322;ugi film, <span class="application">MEncoder</span>,
  po zako&#324;czeniu tego przebiegu, wypisze zalecane warto&#347;ci bitrate'u dla docelowych pojemno&#347;ci 650Mb, 700Mb, i 800Mb.
  </p></li><li><p>
  <span class="emphasis"><i>Drugi przebieg:</i></span>
  <pre class="screen">
mencoder <i><tt>plik/DVD</tt></i> -oac copy -ovc lavc
-lavcopts vcodec=mpeg4:vpass=1:vbitrate=<i><tt>bitrate</tt></i></pre>
Jest to pierwszy przebieg kodowania video. Opcjonalnie ustal video bitrate na ten który MEncoder wypisa&#322;
na ko&#324;cu poprzedniego przebiegu.</p></li><li><p>
  <span class="emphasis"><i>Trzeci przebieg:</i></span>
<pre class="screen">
mencoder <i><tt>file/DVD</tt></i> -oac copy -ovc lavc -lavcopts vcodec=mpeg4:vpass=2:vbitrate=<i><tt>bitrate</tt></i>
</pre>
Jest to drugi przebieg kodowania video. Ustal ten sam bitrate co w poprzednim przebiegu, chyba &#380;e naprawd&#281; wiesz co robisz.
W tym przebiegu, d&#378;wi&#281;k z <tt class="filename">frameno.avi</tt> b&#281;dzie do&#322;&#261;czony do pliku ko&#324;cowego... i gotowe!
</p></li></ol></div><div class="example"><p><b>Przyk&#322;ad 7.1. Przyk&#322;ad 3-przebiegowego kodowania</b></p><p>
<pre class="screen">rm frameno.avi</pre>
usu&#324; ten plik, który mo&#380;e pochodzi&#263; z poprzedniego 3-przebiegowego kodowania (wp&#322;ywa on na aktualny)
<pre class="screen">
mencoder dvd://2 -ovc frameno -o frameno.avi -oac mp3lame -lameopts vbr=3
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=1 -oac copy -o <i><tt>film.avi</tt></i>
mencoder dvd://2 -ovc lavc -lavcopts vcodec=mpeg4:vpass=2 -oac copy -o <i><tt>film.avi</tt></i>
</pre>
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mencoder.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="mencoder.html">Pocz&#261;tek rozdzia&#322;u</a></td><td width="40%" align="right"> <a accesskey="n" href="menc-feat-mpeg.html">Nast&#281;pny</a></td></tr><tr><td width="40%" align="left" valign="top">Rozdzia&#322; 7. Kodowanie z MEncoderem </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre&#347;ci</a></td><td width="40%" align="right" valign="top"> 7.2. Kodowanie do formatu MPEG</td></tr></table></div></body></html>
