<html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2"><title>7.11. Rippowanie DVD do wysokiej jako¶ci pliku MPEG-4 ("DivX")</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Odtwarzacz filmów"><link rel="up" href="mencoder.html" title="Rozdzia³ 7. Kodowanie z MEncoderem"><link rel="prev" href="custommatrices.html" title="7.10. Dowolne inter/intra matryce"><link rel="next" href="menc-feat-telecine.html" title="7.12. Jak radziæ sobie telecine i przeplotem w NTSC DVD"><link rel="preface" href="howtoread.html" title="Jak czytaæ tê dokumentacjê"><link rel="chapter" href="intro.html" title="Rozdzia³ 1. Wprowadzenie"><link rel="chapter" href="features.html" title="Rozdzia³ 2. Mo¿liwo¶ci"><link rel="chapter" href="usage.html" title="Rozdzia³ 3. Sposób u¿ycia"><link rel="chapter" href="faq.html" title="Rozdzia³ 4. FAQ - Czêsto Zadawane Pytania"><link rel="chapter" href="cd-dvd.html" title="Rozdzia³ 5. U¿ywanie CD/DVD"><link rel="chapter" href="ports.html" title="Rozdzia³ 6. Porty"><link rel="chapter" href="mencoder.html" title="Rozdzia³ 7. Kodowanie z MEncoderem"><link rel="appendix" href="mailinglists.html" title="Dodatek A. Listy dyskusyjne"><link rel="appendix" href="bugreports.html" title="Dodatek B. Jak zg³aszaæ b³êdy"><link rel="appendix" href="bugs.html" title="Dodatek C. Znane b³êdy"><link rel="appendix" href="skin.html" title="Dodatek D. Format skórki MPlayera"><link rel="appendix" href="users-vs-dev.html" title="Dodatek E. Deweloperzy wyrywaj± sobie w³osy"><link rel="subsection" href="menc-feat-dvd-mpeg4.html#menc-feat-dvd-mpeg4-2pass" title="7.11.1. Sta³y Kwantyzator vs. dwu-przebiegowe"><link rel="subsection" href="menc-feat-dvd-mpeg4.html#menc-feat-dvd-mpeg4-crop" title="7.11.2. Kadrowanie i Skalowanie"><link rel="subsection" href="menc-feat-dvd-mpeg4.html#menc-feat-dvd-mpeg4-quality" title="7.11.3. Audio"><link rel="subsection" href="menc-feat-dvd-mpeg4.html#menc-feat-dvd-mpeg4-interlacing" title="7.11.4. Przeplot i Telecine"><link rel="subsection" href="menc-feat-dvd-mpeg4.html#menc-feat-dvd-mpeg4-filtering" title="7.11.5. Filtrowanie"><link rel="subsection" href="menc-feat-dvd-mpeg4.html#menc-feat-dvd-mpeg4-example" title="7.11.6. Przyk³ad"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.11. Rippowanie DVD do wysokiej jako¶ci pliku MPEG-4 ("DivX")</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="custommatrices.html">Poprzedni</a> </td><th width="60%" align="center">Rozdzia³ 7. Kodowanie z <span class="application">MEncoderem</span></th><td width="20%" align="right"> <a accesskey="n" href="menc-feat-telecine.html">Nastêpny</a></td></tr></table><hr></div><div class="sect1" lang="pl"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-dvd-mpeg4"></a>7.11. Rippowanie DVD do wysokiej jako¶ci pliku MPEG-4 ("DivX")</h2></div></div></div><p>
  Jednym z najczêsciej zadawanych pytañ jest "Jak zripowaæ DVD do najwy¿szej osi±galnej
  jako¶ci? Nie interesuje mnie rozmiar pliku, chcê tylko najwy¿sz± jako¶æ".
</p><p>
    To jest co najmniej ¼le sformu³owane. W koñcu je¿eli nie obchodzi Ciê rozmiar
    pliku, to czemu nie skopiowaæ po prostu ca³ego strumienia video MPEG-2 z DVD?
    Pewnie, plik bêdzie mia³ 5GB, jak chcesz to nie pakuj siê w to, ale je¿eli chcesz
    najwy¿szej jako¶ci i nie martwi Ciê rozmiar pliku, to jest na pewno najlepsze 
    rozwi±zanie.
</p><p>
  Tak na prawdê, powodem dla którego chcesz przekodowaæ DVD do pliku MPEG-4
  jest w³a¶nie to, ¿e <span class="bold"><strong>zale¿y</strong></span> Ci na rozmiarze pliku.
</p><p>
    Trudno jest podaæ przepis krok-po-kroku jak stworzyæ wysokiej jako¶ci 
    ripa DVD. Trzeba uwzglêdniæ kilka czynników, musisz je zrozumieæ ¿eby
    byæ zadowolonym z rezultatów jakie osi±gniesz. Poni¿ej zbadamy kilka
    z tych czynników i spojrzymy na przyk³ady. Zak³adamy, ¿e korzystasz z 
    <code class="systemitem">libavcodec</code> do kodowania
    video, teorii jednak mo¿na u¿ywaæ przy innych kodekach.
</p><p>
    G³ównym za³o¿eniem tego przewodnika jest to, i¿ nie masz  konkretnego
    docelowego rozmiaru pliku i nie masz problemu w oddaniu kilku bitów 
    w zamian za poprawê jako¶ci. Wiele informacji tutaj zawartych jest przydatnych
    w ka¿dej sytuacji, ale niektóre mog± dzia³aæ na Twoj± niekorzy¶æ je¿eli
    masz obrany cel w postaci wielko¶ci pliku wynikowego, na przyk³ad zmieszczeniu
    video na CD.
</p><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-2pass"></a>7.11.1. Sta³y Kwantyzator vs. dwu-przebiegowe</h3></div></div></div><p>
  Istniej± trzy podej¶cia do kodowania video: sta³y bitrate (CBR), 
  sta³y kwantyzator i kodowanie dwu-przebiegowe (ABR, u¶redniony bitrate).
</p><p>
    W ka¿dym z tych trybów, <code class="systemitem">libavcodec</code>
    rozbija ramke na makroblok 16x16 pikseli i aplikuje kwantyzator do ka¿dego makrobloku
    Im ni¿szy kwantyzator, tym lepsza jako¶æ i wy¿szy bitrate.
    Metoda jak± u¿ywa <code class="systemitem">libavcodec</code>
    do zdeterminowania jaki kwantyzator u¿yæ do danego makrobloku zale¿y od wielu
    czynników i jest ³atwo zmienialna. (Jest to bardzo ogólny opis prawdziwego procesu,
    ale warto rozumieæ podstawowy koncept.)
</p><p>
    Kiedy ustawisz sta³y bitrate, <code class="systemitem">libavcodec</code> 
    zakoduje video, niszcz±c najmniejsz± ilo¶æ detali jaka jest potrzebna ¿eby pozostaæ
    poni¿ej wyznaczonej warto¶ci bitrate. Je¿eli naprawdê  nie zale¿y Ci na rozmiarze pliku
    móg³by¶ u¿yæ CBR i ustawiæ bitrate na nieskoñczono¶æ. (W praktyce oznacza to liczbê
    tak wysok± aby nie stawia³a ¿adnego limitu, np. 10000Kbit.). Bez prawdziwych ograniczeñ
    <code class="systemitem">libavcodec</code> u¿yje dla ka¿dego makrobloku 
    mo¿liwie najni¿szego kwantyzatora (zapisanego w zmiennej <tt class="option">vqmin</tt>,
    która domy¶lnie jest ustawiona na 2). Gdy tylko ustawisz ni¿szy bitrate 
    <code class="systemitem">libavcodec</code> bêdzie zmuszony do u¿ycia
    wy¿szego kwantyzatora, a wiêc i pogorszenia jako¶ci video. Ogólnie, je¿eli zale¿y Ci na jako¶ci
    wogóle nie powiniene¶ u¿ywaæ CBR.
</p><p>
   Ze sta³ym kwantyzatorem, <code class="systemitem">libavcodec</code>
   u¿ywa kwantyzatora ustawionego przez opcjê <tt class="option">vqscale</tt> 
   na ka¿dym makrobloku. Je¿eli chcesz najwy¿szej mo¿liwej jako¶ci, igonruj±c
   bitrate, mo¿esz u¿yæ <tt class="option">vqscale=2</tt>. Bêdzie to mia³o taki sam efekt
   jak ustawienie <tt class="option">vbitrate</tt>=nieskoñczono¶æ i domy¶lnie 
   <tt class="option">vqmin</tt> na 2 przy CBR.
</p><p>
     Problemem przy sta³ym kwantyzowaniu jest to, i¿ u¿ywa on danego
     kwantyzatora czy makroblok potrzebuje go czy nie. To znaczy
     ¿e mo¿na by³oby u¿yæ wy¿szego kwantyzatora bez starty jako¶ci obrazu.
     Po co traciæ miejsce na niepotrzebnie niski kwantyzator? Twój procesor
     ma tyle cykli ile jest czasu, ale na twardym dysku jest ograniczona ilosæ miejsca.
</p><p>
  W dwu-przebiegowym kodowaniu, pierwszy przebieg zripuje film ze sta³ym
  bitratem (CBR), ale stworzy plik loguj±cy w³a¶ciwo¶ci ka¿dej ramki. Te
  informacje s± u¿ywane podczas drugiego przebiegu i na ich podstawie
  dobierany jest odpowiedni kwantyzator. Podczas szybkiej akcji lub 
  scen z ma³± ilo¶ci± detali, bêdzie u¿yty wysoki kwantyzator, a podczas
  wolnego ruchu lub scen z wieloma detalami ni¿szy.
</p><p>
  Je¿eli u¿ywasz <tt class="option">vqscale=2</tt>, to tracisz miejsce. Je¿eli
  u¿ywasz <tt class="option">vqscale=3</tt>, to nie dostaniesz najwy¿szej jako¶ci.
  Przypu¶æmy, ¿e ripujesz DVD z opcj± <tt class="option">vqscale=3</tt>, a rezultatem
  jest 1800Kbit. Je¿eli zastosujesz dwu-przebiegowe kodowanie z 
  <tt class="option">vbitrate=1800</tt>, wyj¶ciowe video bêdzie mia³o 
  <span class="bold"><strong>wy¿sz± jako¶æ</strong></span> dla 
  <span class="bold"><strong>tej samej warto¶ci bitrate</strong></span>.
</p><p>
     Poniewa¿ jeste¶ ju¿ przekonany, ¿e dwu-przbiegowe kodowanie jest
     najlepszym rozwi±zaniem, prawdziwym pytaniem jest jakiej u¿yæ
     warto¶ci bitrate? Nie ma jednoznacznej odpowiedzi. Idealna warto¶æ
     jest najlepszym balansem miêdzy jako¶ci± a rozmiarem pliku. 
     Zmienia siê ona zale¿nie od ¼ród³owego video.
</p><p>
     Dobrym punktem startowym dla wysokiej jako¶ci ripów jest 2000Kbit
     plus minus 200Kbit. Przy szybkiej akcji, wielu detalach lub poprostu
     gdy masz wysokie wymagania, mo¿esz zdecydowaæ siê na 2400
     lub 2600. Przy niektórych DVD, mo¿esz nie zauwa¿yæ ró¿nicy przy
     1400KBit. Najlepiej jest troszkê poeksperymentowaæ przy ró¿nych
     warto¶ciach bitrate.
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-crop"></a>7.11.2. Kadrowanie i Skalowanie</h3></div></div></div><p>
    Normalne DVD ma rozdzielczo¶æ 720x480 dla NTSC i 720x576 dla PAL,
    ale jest jeszcze flaga mówi±ca czy jest to obraz pe³no ekranowy (4:3), czy
    panoramiczny (16:9). Wiele (je¿eli nie wszystkie) panoramiczne DVD nie s±
    dok³adnie 16:9, tylko 1.85:1 lub 2.35:1 (kineskop). Oznacza to i¿ pojawi±
    siê czarne pasy którê bêd± musia³y byæ wykadrowane.
</p><p>
     W tym miejscu pojawia siê <span class="application">MPlayer</span> posiadaj±cy
     opcjê ustalaj±c± prostok±t kadrowania (<tt class="option">-vf cropdetect</tt>).
     Poniewa¿ MPEG-4 u¿ywa makrobloków 16x16, bêdziesz chcia³ aby ka¿dy wymiar
     obrazu by³ wielokrotno¶ci± 16, w innym wypadku pogorszy siê jako¶æ szczególnie
     przy niskich warto¶ciach bitrate. Mo¿esz osi±gn±æ to zaokr±glaj±c prostok±t kadrowania
     do najbli¿szej wielokrotno¶ci 16. Przy kadrowaniu bêdziesz chcia³ zwiêkszyæ przesuniêcie
     w osi y o po³owê ró¿nicy miêdzy star± a now± warto¶ci± tak aby obraz brany by³
     z ¶rodka ramki. Z powodu sposobu w jaki obraz jest próbkowany na DVD  musi to byæ
     przysta liczba. (Tak naprawdê nigdy nie u¿ywaj nieparzystych warto¶ci przy kadrowaniu 
     ani skalowaniu.) Je¿eli nie chcesz wyrzucaæ kilku pikseli, mo¿e wolisz zeskalowaæ
     obraz. Przyjrzyjmy sie skalowaniu w naszym nastêpnym przyk³adzie.
</p><p>
     Uwa¿aj te¿ na "miêkkie" czarne piksele na brzegach. Wykadruj je
     te¿, bo inaczej bêdziesz traci³ bity którê zostan± wykorzystane lepiej 
     gdzie indziej.
</p><p>
  Po wszytskim, dostaniesz najprawdopodobniej video którego piksele
  nie s± raczej ani 1.85:1 czy  2.35:1, tylko co¶ w pobli¿u. Móg³by¶ policzyæ
  nowe proporcje obrazu rêcznie, ale <span class="application">MEncoder</span>
  oferuje opcjê biblioteki <code class="systemitem">libavcodec</code>
  o nazwie <tt class="option">autoaspect</tt> która zrobi to za Ciebie. W ¿adnym 
  wypadku nie skaluj pikseli w celu zrobienia z nich kwadratów, chyba ¿e lubisz
  traciæ miejsce na twardym dysku. Skalowanie powinno odbywaæ siê przy 
  odtwarzaniu, a odtwarzacz u¿yje proporcji zapisanych w nag³ówku AVI, aby
  zdeterminowaæ prawid³ow± rozdzielczo¶æ.
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-quality"></a>7.11.3. Audio</h3></div></div></div><p>
     D¼wiêk jest o wiele prostszym problemem do rozwi±zania.: zostaw go
     poprostu takim jakim jest. Nawet strumienie AC3 5.1 s± najwy¿ej  
     448Kbit/s i s± one warte ka¿dego bitu. Kusz±ce mo¿e wydawaæ siê
     zakodowanie d¼wiêku do wysokiej jako¶ci Ogg Vorbis, ale to ¿e nie
     posiadasz dzisiaj odbiornika A/V do AC3 nie oznacza ¿e nie bêdziesz go mia³
     jutro. Zabezpiecz swoje ripy DVD zostawiaj±c im strumieñ AC3.
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-interlacing"></a>7.11.4. Przeplot i Telecine</h3></div></div></div><p>
  Prawie wszytskie filmy krêcone s± z prêdko¶ci± 24 fps. Poniewa¿ NTSC jest
  29.97 fps, obraz 24 fps trzeba poddaæ dzia³aniu kilku procesów aby móg³
  byæ on odtwarzany na szybko¶ci NTSC. Proces ten nazywa siê 3:2 pulldown,
  czêsto wi±zany z telecine (poniewa¿ pulldown jest czêsto stosowany podczas
  procesu telecine), i naiwnie opisywany jako i¿ dzia³a on przez zwalnianie filmu do
  23.976 fps, i powtarzaniu co czwartej ramki.
</p><p>
   Video w formacie PAL z DVD, o prêdko¶æ 25 fps nie jest poddawane 
   ¿adnym specjalnym procesom. (Praktcznie, PAL mo¿e zostaæ poddany
   procesowi telcine, nazywanemu 2:2 pulldown, ale w praktyce to nie jest
   problemem.) Film 24 fps jest poprostu odtwarzany z prêdko¶ci± 25 fps. 
   W efekcie film leci trochê szybciej ale je¿eli nie jeste¶ kosmit± pewnie nie 
   zauwa¿ysz ró¿nicy. Wiêkszo¶æ DVD w PALu posiada poprawiony d¼wiêk,
   wiêc nawet przy odtwarzaniu z prêdko¶ci± 25 fps bêdzie on brzmia³ poprawnie,
   pomimo tego, i¿ ¶cie¿ka d¼wiêkowa (a wiec i ca³y film) jest odtwarzana
   4% czasu krócej ni¿ NTSC DVD.
</p><p>
     Poniewa¿ video w PAL DVD nie zosta³o zmienione, nie musisz martwiæ
     siê o tempo odtwarzania. ¬ród³o jest 25 fps i Twoj rip bêdzie 25 fps.
     Jednak¿e, je¿eli ripujesz NTSC DVD, mo¿liwe ¿e bêdziesz musia³ zastosowaæ
     odwrócone telecine.
</p><p>
     W filmach nakrêconych w prêdko¶ci 24 fps, video na NTSC DVD jest albo
     ztelecinowane do 29.97 fps lub progresywne 24 fps i przeznaczone to
     telecine które ma zostaæ wykonane w locie przez odtwarzacz DVD. Z drugiej
     strony, seriale telewizyjne s± zazwyczaj tylko przeplecione, nie ztelecionowane.
     Jednak¿e nie jest to regu³±: niektóre seriale TV s± przeplecione (jak Buffy 
     Postrach Wampirów), a niektóre s± mikstur± progresywnego i przeplecionego
     video (jak Angel, lub 24 godziny).
</p><p>
     Szczególnie polecamy do przeczytania sekcje o tym
     <a href="menc-feat-telecine.html" title="7.12. Jak radziæ sobie telecine i przeplotem w NTSC DVD">Jak sobie radziæ z telecine
     i przeplotem w DVD w formacie NTSC</a>.
</p><p>
     Je¿eli, ripujesz tylko filmy, najprawdopodobniej musisz radziæ sobie tylko
     z obrazem 24 fps progresywnym lub telecine. W takiej sytuacji mo¿esz
     u¿yæ fitru <tt class="option">pullup</tt> (<tt class="option">-vf pullup,softskip</tt>).
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-filtering"></a>7.11.5. Filtrowanie</h3></div></div></div><p>
    Ogólnie, chcesz filtrowaæ jak najmniej aby pozostaæ najbli¿ej jak siê da
    do ¼ród³owego DVD. Kadrowanie jest zazwyczaj niezbêdne (opisane powy¿ej),
    ale nie skaluj obrazu. Skalowanie w dó³ jest czasami preferowane zamiast
    wysokich kwantyzatorów, chcemy unikn±æ obu tych rzeczy: pamiêtaj co
    ustalili¶my na pocz±tkum, ¿e chcemy wymienaæ bity na jako¶æ.
</p><p>
    Równie¿ nie zmieniaj warto¶æi gamma, kontrastu, jasno¶ci, itd. To co wygl±da
    dobrze na Twoim monitorze, mo¿e nie wygl±daæ dobrze na innych. Te ustawienia
    powinny byæ realizowane tylko przy odtwarzaniu.
</p><p>
    Jedn± rzecz± któr± móg³by¶ chcieæ zrobiæ jest przepuszczenie obrazu
    przez lekki odszumiaj±cy filtr, tak jak np. <tt class="option">-vf hqdn3d=2:1:2</tt>.
    Znów, jest to sprawa lepszego spo¿ytkowania miejsca: po co traciæ je 
    na kodowanie szumów je¿eli mo¿esz dodaæ je podczas odtwarzania? 
    Zwiêkszenie parametrów <tt class="option">hqdn3d</tt> zwiêkszy 
    mo¿liwo¶ci kompresji, ale je¿eli zwiêkszysz parametry za bardzo 
    ryzykujesz utratê klarowno¶ci obrazu. Sugerowane powy¿ej warto¶ci  
    (<tt class="option">2:1:2</tt>) s± do¶æ zachowawcze; 
    spróbuj poeksperymentowaæ z wy¿szmi warto¶ciami i samemu porównaæ efekty.
</p></div><div class="sect2" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-dvd-mpeg4-example"></a>7.11.6. Przyk³ad</h3></div></div></div><p>
     Kupi³e¶ wieæ nowiutk± kopiê Harrego Pottera i Komnaty Tajemnic (oczywi¶cie wersjê
     panoramiczn±) i chcesz zripowaæ to DVD aby dodaæ j± do swojego komputerowego
     kina domowego. Jest to DVD z regionu 1, a wiêc NTSC. Poni¿szy przyk³ad bêdzie
     dzia³a³ z fomratem PAL je¿eli pomiesz opcjê <tt class="option">-ofps 23.976</tt>
     (poniewa¿ wej¶ciowa szybko¶æ jest taka sama jak wyj¶ciowa), oczywi¶cie
     paramtery kadrowania bêd± inne.
</p><p>
     Po uruchomieniu <tt class="option">mplayer dvd://1</tt>, pod±¿amy opisem
     zawartym w sekcji <a href="menc-feat-telecine.html" title="7.12. Jak radziæ sobie telecine i przeplotem w NTSC DVD">Jak sobie radziæ z telecine
     i przeplotem w DVD w formacie NTSC</a> i odkrywamy, ¿e jest to progresywne
     video 24 fps, co oznacza ¿e nie musimy u¿ywaæ filtrów odwróconego telecine,
     jak <tt class="option">pullup</tt> czy <tt class="option">filmdint</tt>.
</p><p>
     Nastêpnie, chcemy zdeterminowaæ odpowiedni prostok±t kadrowania,
     u¿ywamy fitru cropdetect:
     
     </p><pre class="screen">mplayer dvd://1 -vf cropdetect</pre><p>
     
     Przewniñ do w pe³ni wype³nionej ramki (jasna scena), i zobaczysz
     wyj¶cie <span class="application">MPlayer</span>a na konsoli:
     
     </p><pre class="screen">crop area: X: 0..719  Y: 57..419  (-vf crop=720:362:0:58)</pre><p>
     
     Teraz odtwarzamy film z tym fitrem aby sprawdziæ jego poprawno¶æ:
     
     </p><pre class="screen">mplayer dvd://1 -vf crop=720:362:0:58</pre><p>
     
     I widzimy ¿e wygl±da ¶wietnie. Teraz, upewniamy sie ¿e wymiary ¶a wielokrotno¶ci±
     16 . Szeroko¶æ jest w porz±dku, niestety wysoko¶æ nie. Poniewa¿ nie
     oblali¶my matematyki w liceum, wiemy ¿e najbli¿sz± wielokrotno¶cia
     16 mniejsz± ni¿ 362 jest 352.
     
</p><p>
    Mogliby¶my poprostu u¿yæ <tt class="option">crop=720:352:0:58</tt>, ale
    ³adniej by³oby wzi±æ trochê z góry i z do³u aby utrzymaæ siê na ¶rodku. 
    Zmneijszylismy wysoko¶æ o 10 pikseli, ale nie chcemy zwiêkszyæ
    przesuniêcia y o 5 pikseli poniewa¿ jest to liczba nieparzysta i
    pogorszy³aby jako¶æ. Zwiêkszymy zatem przesuniêcie na osi y o 4 piksele:

   </p><pre class="screen">mplayer dvd://1 -vf crop=720:352:0:62</pre><p>

    Innym powodem dla którego powinni¶my obcinaæ piksele równomiernie z góry 
    i do³u s± "po³owy czarnych pikseli" które bezwzglêdnie powinni¶my obci±æ je¿eli istniej±.
    Pamiêtaj, je¿eli Twoje video jest ztelecinowane, upewnij siê ¿e filtr <tt class="option">pullup</tt>
    (lub inny filtr odwróconego telecine który zdecydujesz siê u¿yæ) pojawia siê
    w ³añcuchu fitrów przed fitrem kadrowania. Je¿eli video posiada przeplot, 
    usuñ go przed kadrowaniem. (Je¿eli zdecydujesz siê pozostawiæ przeplot, upewnij
    siê ¿e wertykalne przesuniêcie kadrowania jest wielokrotno¶ci± 4.)
</p><p>
    Je¿eli naprawdê jeste¶ przejêty utrat± tych 10 pikseli, mo¿e wolisz
    przeskalowaæ wymiary obrazu do najbli¿szej wielkortono¶ci 16.
    £añcuch fitrów powinen wygl±daæ tak:

  </p><pre class="screen">-vf crop=720:362:0:58,scale=720:352</pre><p>

   Skalowanie video w dó³ oznacza utratê ma³ej ilo¶ci detali, która bêdzie
   najprawdopodobnie niezauwa¿alna. Skalowanie w góre oznacza utratê
   jako¶ci (chyba ¿e zwiêkszysz bitrate). Kadrowanie wyrzuca te piksele. Jest
   to wymiana jak± trzeba rozwa¿yæ w ka¿dym wypadku. Na przyk³±d,
   je¿eli DVD by³o zrobione dla telewizji, mo¿esz chcieæ unikn±æ wertykalnego
   skalowania, poniewa¿ zestawienie linii odpowiada temu jak obraz by³ 
   oryginalnie nagrywany.
</p><p>
     Przy insepkcji widzimy ¿e  nasz film ma du¿o akcji i szczegó³ów, wybieramy
     wiêc 2400Kbit na nasze bitrate.
</p><p>
     Jeste¶my gotowi do dwu-przebiegowego kodowania. Przebieg 1:
     
  </p><pre class="screen">mencoder dvd://1 -ofps 23.976 -oac copy -vf crop=720:352:0:62,hqdn3d=2:1:2 -ovc lavc \
-o Harry_Potter_2.avi</pre><p>

     Drugi przebieg jest taki sam, podajemy tylko opcjê <tt class="option">vpass=2</tt>:

  </p><pre class="screen">mencoder dvd://1 -ofps 23.976 -oac copy -vf crop=720:352:0:62,hqdn3d=2:1:2 -ovc lavc \
-o Harry_Potter_2.avi</pre><p>
</p><p>
     Opcje <tt class="option">v4mv:mbd=2:trell</tt> ogromnie poprawi± jako¶æ
     za cenê czasu kodowania. Opcje <tt class="option">cmp=3:subcmp=3:mbcmp=3</tt>
     wybieraj± funkcje porównywania które wybieraj± lepsza jako¶æ ni¿ te domy¶³ne.
     Mo¿esz poeksperymentowaæ z tymi warto¶ciami (skonsultuj stronê man co do 
     prawid³owych warto¶ci) poniewa¿ ró¿ne funkcjê mog± mieæ du¿y wp³yw na jako¶æ
     zale¿nie od matria³u ¼ród³owego. Na przyk³ad, je¿eli <code class="systemitem">libavcodec</code>
     produkuje za du¿o artefaktów mo¿esz spróbowaæ wybraæ eksperymentaln± funkcjê NSSE
     jako funkcjê porównuj±c± przez <tt class="option">*cmp=10</tt>.
</p><p>
     Dla tego filmu, koñcowe AVI bêdzie mia³o 138 minut i prawie 3GB.
     A poniewa¿ powiedzia³e¶ ¿e rozmiar nie ma znaczenia, to jest
     akceptowalna wielko¶æ. Jednak¿e, je¿elli chcia³by¶ mniejszy plik, móg³by¶
     spróbowaæ ni¿szy bitrate. Zwiêkszanie warto¶ci bitrate daje malej±ce rezultaty,
     wiêc je¿eli widaæ wyra¼n± ró¼nicê miêdzy 1800Kbit, a 2000Kbit, to nie znaczy
     ¿e bêdzie lepiej powy¿ej 2000Kbit. Ekperymentuj a¿ bêdziesz zadowolony.
</p><p>
    Poniewa¿ przepu¶cili¶my ¼ród³owy obraz przez filtr odszumiaj±cy, mo¿esz chcieæ
    dodaæ go trochê podczas odtwarzania. To razem z fitrem postprocessingu 
    <tt class="option">spp</tt>, drastycznie poprawia odbiór obrazu i pomaga wyeliminowaæ
    artefakty. W <span class="application">MPlayer</span>ze dostêpna jest opcja 
    <tt class="option">autoq</tt>. W tym momencie mo¿esz równie¿ poprawiæ
    gammê lub/i korekcjê kolorów. Na przyk³ad:

  </p><pre class="screen">mplayer Harry_Potter_2.avi -vf spp,noise=9ah:5ah,eq2=1.2 -autoq 3</pre><p>

</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="custommatrices.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="mencoder.html">Pocz±tek rozdzia³u</a></td><td width="40%" align="right"> <a accesskey="n" href="menc-feat-telecine.html">Nastêpny</a></td></tr><tr><td width="40%" align="left" valign="top">7.10. Dowolne inter/intra matryce </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre¶ci</a></td><td width="40%" align="right" valign="top"> 7.12. Jak radziæ sobie telecine i przeplotem w NTSC DVD</td></tr></table></div></body></html>
