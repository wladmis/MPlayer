<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2.3. Videó kimeneti eszközök</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.49"><link rel="home" href="index.html" title="MPlayer - The Movie Player"><link rel="up" href="features.html" title="2. fejezet - Funkciók"><link rel="previous" href="codecs.html" title="2.2. Támogatott codec-ek"><link rel="next" href="audio.html" title="2.4. Audió kimeneti eszközök"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.3. Videó kimeneti eszközök</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="codecs.html">El&#337;z&#337;</a> </td><th width="60%" align="center">2. fejezet - Funkciók</th><td width="20%" align="right"> <a accesskey="n" href="audio.html">Következ&#337;</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="video"></a>2.3. Videó kimeneti eszközök</h2></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="mtrr"></a>2.3.1. Az MTRR beállítása</h3></div></div><p>
NAGYON javasoljuk, hogy ellen&#337;rizd le, hogy az MTRR regiszterek
megfelel&#337;en be vannak-e állítva, mert hatalmas teljesítményjavulást
hozhatnak.
</p><p>
Írd be: <b>cat /proc/mtrr</b>:
<pre class="screen">
<tt>--($:~)--</tt> cat /proc/mtrr
reg00: base=0xe4000000 (3648MB), size=  16MB: write-combining, count=9
reg01: base=0xd8000000 (3456MB), size= 128MB: write-combining, count=1</pre>
</p><p>
Ez jó, mutatja a 16 MB memóriával rendelkez&#337; Matrox G400-as kártyámat.
Ezt XFree 4.x.x-b&#337;l csináltam, ami automatikusan beállítja az MTRR
regisztereket.
</p><p>
Ha semmi sem m&#369;ködik, kézzel kell beállítanod. El&#337;ször meg kell találnod
a bázis címet. 3 módszer van a megtalálására:

</p><div class="orderedlist"><ol type="1"><li><p>
  az X11 indulási üzeneteib&#337;l, például:
  <pre class="screen">
(--) SVGA: PCI: Matrox MGA G400 AGP rev 4, Memory @ 0xd8000000, 0xd4000000
(--) SVGA: Linear framebuffer at 0xD8000000</pre>
  </p></li><li><p>
  a <tt class="filename">/proc/pci</tt> fájlból (használd az <b>lspci -v</b>
  parancsot):
  <pre class="screen">
01:00.0 VGA compatible controller: Matrox Graphics, Inc.: Unknown device 0525
Memory at d8000000 (32-bit, prefetchable)
  </pre>
  </p></li><li><p>
  az mga_vid kernel vezérl&#337; üzeneteib&#337;l (használd a <b>dmesg</b>-et):
  <pre class="screen">mga_mem_base = d8000000</pre>
  </p></li></ol></div><p>
</p><p>
Ezután keresd meg a memória méretét. Ez nagyon egyszer&#369;, csak számold át
a videó RAM méretét hexadecimálisra, vagy használd ezt a táblázatot:
</p><div class="informaltable"><table border="0"><colgroup><col><col></colgroup><tbody><tr><td>1 MB</td><td>0x100000</td></tr><tr><td>2 MB</td><td>0x200000</td></tr><tr><td>4 MB</td><td>0x400000</td></tr><tr><td>8 MB</td><td>0x800000</td></tr><tr><td>16 MB</td><td>0x1000000</td></tr><tr><td>32 MB</td><td>0x2000000</td></tr></tbody></table></div><p>
</p><p>
Már tudjuk a bázis címet és a memória méretét, hát állítsuk be az
MTRR regisztereket!
Például a fenti Matrox kártyánál (<tt>base=0xd8000000</tt>)
32MB RAM-mal (<tt>size=0x2000000</tt>) csak futtasd ezt:
<pre class="screen">
echo "base=0xd8000000 size=0x2000000 type=write-combining" &gt;| /proc/mtrr
</pre>
</p><p>
Nem minden CPU-ban van MTRR. Például a régebbi K6-2 (266MHz körül,
stepping 0) CPU-kban nincs MTRR, de a stepping 12-ben van
(futtasd le a <b>cat /proc/cpuinfo</b> parancsot az ellen&#337;rzéshez).
</p></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="output-trad"></a>2.3.2. Videó kimenet tradícionális videó kártyákhoz</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="xv"></a>2.3.2.1. Xv</h4></div></div><p>
XFree86 4.0.2 vagy újabb alatt használhatod a kártyád YUV rutinjait
az XVideo kiterjesztés használatával. Ez az, amit a '<tt class="option">-vo xv</tt>'
kapcsoló használ. Ez a vezérl&#337; támogatja a
fényer&#337;sség/kontraszt/árnyalat/stb. állítását (hacsa nem a régi, lassú DirectShow DivX
codec-et használod, ami mindenhol támogatja), lásd a man oldalt.
</p><p>
A beüzemeléséhez ellen&#337;rizd a következ&#337;ket:

</p><div class="orderedlist"><ol type="1"><li><p>
  XFree86 4.0.2 vagy újabbat kell használnod (korábbi verziókban nincs XVideo)
  </p></li><li><p>
  A kártyádnak támogatnia kell a hardveres gyorsítást (a modern kártyák tudják)
  </p></li><li><p>
  Az X-nek írnia kell az XVideo kiegészítés betöltését valahogy így:
  <pre class="programlisting">(II) Loading extension XVideo</pre>
  a <tt class="filename">/var/log/XFree86.0.log</tt> fájlban.
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
   Ez csak az XFree86 kiegészítését tölti be. Egy jó telepítésben ez mindig betölt&#337;dik,
   de ez nem jelenti azt, hogy a <span class="bold"><b>kártya</b></span> XVideo
   támogatása is be van töltve!
  </p></div><p>
  </p></li><li><p>
  A kártyádnak van Xv támogatása Linux alatt. Ennek az ellen&#337;rzéséhez add ki az
  <b>xvinfo</b> parancsot, ez része az XFree86 disztribúciónak. Egy
  hosszú szöveget kell kiírnia, valami ilyesmit:
  <pre class="screen">
X-Video Extension version 2.2
screen #0
  Adaptor #0: "Savage Streams Engine"
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
(...)
    Number of image formats: 7
      id: 0x32595559 (YUY2)
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        type: YUV (packed)
      id: 0x32315659 (YV12)
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
(...stb...)</pre>
  Támogatnia kell a tömörített YUY2 és a YV12 planar pixel formátumokat, hogy az
  <span class="application">MPlayer</span> használni tudja.
  </p></li><li><p>
  És végül, nézd meg, hogy az <span class="application">MPlayer</span> 'xv' támogatással
  lett-e fordítva. Írd be ezt: <b>mplayer -vo help | grep xv </b>.
  Ha az 'xv' támogatás be van építve, egy ehhez hasonló sornak szerepelnie kell:
  <pre class="screen">
  xv      X11/Xv</pre>
  </p></li></ol></div><p>
</p><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="tdfx"></a>2.3.2.1.1. 3dfx kártyák</h5></div></div><p>
A régebbi 3dfx vezérl&#337;knek tudvalev&#337;leg problémáik vannak az XVideo gyorsítással,
nem támogatják sem a YUY2-t sem a YV12-t, és így tovább. Nézd meg, hogy 4.2.0 vagy
újabb XFree86-tal rendelkezel-e, ez rendben m&#369;ködik YV12-vel és YUY2-vel. A korábbi
verziók, beleértve a 4.1.0-t, <span class="bold"><b>összeomlanak az YV12-vel</b></span>.
Ha különös effekteket tapasztalsz a <tt class="option">-vo xv</tt> használatakor,
próbáld ki az SDL-t (ebben is van XVideo) és nézd meg, hogy ez segít-e. Lásd az
<a href="video.html#sdl" title="2.3.2.3. SDL">SDL</a> fejezetet a részletekért.
</p><p>
<span class="bold"><b>VAGY</b></span>, próbáld ki az ÚJ
<tt class="option">-vo tdfxfb</tt> vezérl&#337;t! Lásd a <a href="video.html#tdfxfb" title="2.3.2.7. 3Dfx YUV támogatás">tdfxfb</a>
részt.
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="s3"></a>2.3.2.1.2. S3 kártyák</h5></div></div><p>
Az S3 Savage3D nem m&#369;ködik megfelel&#337;en, de a Savage4 igen 4.0.3 vagy újabb XFree86
használata mellett (képhibák esetén próbáld 16bpp-vel). Ami az S3 Virge-eket illeti:
van xv támogatás, de maga a kártya túl lassú, így jobb, ha eladod.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
Jelenleg nem tisztázott, hogy mely Savage modellekb&#337;l hiányzik a YV12 támogatás, és
konvertál a vezérl&#337; (lassú). Ha a kártyára gyanakodsz, szerezz be egy újabb vezérl&#337;t,
vagy udvariasan kérj az mplayer-users levelezési listán egy MMX/3DNow! támogatású vezérl&#337;t.
</p></div></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="nvidia"></a>2.3.2.1.3. nVidia kártyák</h5></div></div><p>
Az nVidia soha nem volt egy jó választás Linux alatt (az nVidia szerint ez
<a href="nvidia-opinions.html" title="E.3. nVidia">nem igaz</a>)... Az XFree86
nyílt forráskódú vezérl&#337;je támogatja a legtöbb kártyát, de a legtöbb esetben a
bináris, zárt forrású nVidia vezérl&#337;t kell használnod, ami elérhet&#337;
az <a href="http://www.nvidia.com/object/linux.html" target="_top">nVidia weboldalán</a>.
Erre a vezérl&#337;re mindenképpen szükséged lesz, ha 3D gyorsítást akarsz.
</p><p>
A Riva128 kártyákkal nincs XVideo támogatás az XFree86 nVidia vezérl&#337;jével :(
Panaszkodj az nVidia-nak.
</p><p>
Habár az <span class="application">MPlayer</span> a legtöbb nVidia kártyához
rendelkezik <a href="video.html#vidix" title="2.3.2.13. VIDIX">VIDIX</a> vezérl&#337;vel. Jelenleg még
béta állapotú, és van pár bökken&#337;je. További információkért lásd az
<a href="video.html#vidix-nvidia" title="2.3.2.13.5. nVidia kártya">nVidia VIDIX</a> részt.
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="ati"></a>2.3.2.1.4. ATI kártyák</h5></div></div><p>
A <a href="http://gatos.sf.net" target="_top">GATOS vezérl&#337;</a> (amit
használnod illene, hacsak nem Rage128 vagy Radeon kártyád van) alapértelmezésként
engedélyezi a VSYNC-et. Ez azt jelenti, hogy a dekódolási sebesség (!) a
monitor frissítési rátájához van szinkronizálva. Ha a lejátszás lassúnak
t&#369;nik, próbáld meg valahogy kikapcsolni a VSYNC-et vagy állítsd be a
frissítést n*(film fps értéke) Hz-re.
</p><p>
A Radeon VE - ha X kell, használj XFree 4.2.0-t vagy újabbat ehhez a kártyához.
Nincs TV kimenet támogatás. Természetesen az <span class="application">MPlayer</span>rel
simán is <span class="bold"><b>gyorsított</b></span> megjelenítést kapsz,
<span class="bold"><b>TV kimenettel</b></span> vagy anélkül, és így sem
függvénykönyvtárra sem X-re nincs szükség.
Olvasd el a <a href="video.html#vidix" title="2.3.2.13. VIDIX">VIDIX</a> részt.
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="neomagic"></a>2.3.2.1.5. NeoMagic kártyák</h5></div></div><p>
Ilyen kártyák általában laptopokban találhatóak. XFree86 4.3.0 vagy
újabbat kell használnod, vagy Stefan Seyfried
<a href="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-driver/" target="_top">Xv-t támogató vezérl&#337;jét</a>.
Csak válaszd ki az te XFree86-odhoz ill&#337; verziót.
</p><p>
Az XFree86 4.3.0-ban van Xv támogatás, Bohdan Horst pedig küldött egy kis
<a href="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-driver/neo_driver.patch" target="_top">javítást</a>
az XFree86 forrásához, ami a framebuffer m&#369;veleteket felgyorsítja (XVideo-t is)
akár négyszeresére is. A javítás belekerült az XFree86 CVS-ébe és a 4.3.0 utáni
következ&#337; kiadásban is benne lesz.
</p><p>
A DVD méret&#369; tartalmak lejátszásához az XF86Config-odat módosítanod kell:
<pre class="programlisting">
Section "Device"
    [...]
    Driver "neomagic"
    <span class="emphasis"><i>Option "OverlayMem" "829440"</i></span>
    [...]
EndSection</pre>
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="trident"></a>2.3.2.1.6. Trident kártyák</h5></div></div><p>
Ha az Xv-t Trident kártyával akarod használni, feltéve hogy nem megy 4.1.0-val,
telepítsd fel az XFree 4.2.0-t. A 4.2.0-ban teljes képerny&#337;s Xv támogatás van
a Cyberblade XP kártyával.
</p><p>
Alternatívaként az <span class="application">MPlayer</span> is tartalmaz egy
<a href="video.html#vidix" title="2.3.2.13. VIDIX">VIDIX</a> vezérl&#337;t a Cyberblade/i1 kártyához.
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="kyro"></a>2.3.2.1.7. Kyro/PowerVR kártyák</h5></div></div><p>
Ha az Xv-t Kyro alapú kártyával akarod használni (például Hercules
Prophet 4000XT-vel), akkor le kell töltened a vezérl&#337;t a
<a href="http://www.powervr.com/" target="_top">PowerVR oldaláról</a>
</p></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="dga"></a>2.3.2.2. DGA</h4></div></div><p><b>BEVEZETÉS. </b>
Ez a dokumentum megpróbálja pár szóban elmagyarázni, hogy mi is az a DGA
tulajdonképpen és mit tehet a DGA vezérl&#337; az <span class="application">MPlayer</span>nek
(és mit nem).
</p><p><b>MI AZ A DGA. </b>
A DGA a <span class="emphasis"><i>Direct Graphics Access</i></span>
rövidítése és azt jelenti, hogy egy program az X szerver megkerülésével
direkt eléréssel módosíthatja a framebuffer memóriát. Gyakorlatilag ez úgy
történik, hogy a framebuffer memória a processzed memória tartományába
kerül leképezésre. Ezt a kernel csak superuser jogokkal engedélyezi. Vagy
<tt>root</tt> néven történ&#337; bejelentkezéssel
vagy az <span class="application">MPlayer</span> futtatható állományának SUID
bitjének beállításával juthatsz ilyen jogokhoz. (<span class="bold"><b>nem
javasoljuk</b></span>).
</p><p>
Két verziója van a DGA-nak: a DGA1 az XFree 3.x.x-ban volt használatos, a DGA2
az XFree 4.0.1-ben került bevezetésre.
</p><p>
A DGA1 csak direkt framebuffer elérést biztosít a fent leírt módszerrel. A
videó jel felbontásának megváltoztatásához az XVidMode kiterjesztést kell
használnod.
</p><p>
A DGA2 már tartalmazza az XVidMode kiterjesztés képességeit és a képerny&#337;
színmélységét is engedi változtatni. Így alaphelyzetben 32 bites színmélységben
futtatott X szervert átállíthatsz 15 bites mélységre és vissza.
</p><p>
Ennek ellenére a DGA-nak van néhány hátránya. Úgy t&#369;nik ez az általad használt
grafikus chip-t&#337;l függ és az ezen chip-et irányító vezérl&#337; X szerverben való
megvalósításától. Így nem minden rendszeren m&#369;ködik...
</p><p><b>DGA TÁMOGATÁS TELEPÍTÉSE AZ MPLAYERHEZ. </b>
El&#337;ször gy&#337;z&#337;dj meg, hogy az X betölti a DGA kiterjesztést: lásd
a <tt class="filename">/var/log/XFree86.0.log</tt> fájlt:

<pre class="programlisting">(II) Loading extension XFree86-DGA</pre>

XFree86 4.0.x vagy újabb <span class="bold"><b>nagyon javasolt</b></span>!
Az <span class="application">MPlayer</span> DGA vezérl&#337;jét a
<tt class="filename">./configure</tt> automatikusan megtalálja, de el&#337; is írhatod
a használatát a <tt class="option">--enable-dga</tt> kapcsolóval.
</p><p>
Ha a vezérl&#337; nem tud kisebb felbontásra váltani, kísérletezz a
<tt class="option">-vm</tt> (csak X 3.3.x esetén), <tt class="option">-fs</tt>,
<tt class="option">-bpp</tt>, <tt class="option">-zoom</tt> kapcsolókkal a filmnek
legmegfelel&#337;bb videó mód megtalálásához. Még nincs konverter :(
</p><p>
Lépj be <tt>root</tt>ként. A DGA-hoz root
elérés kell, hogy közvetlenül tudjon írni a videó memóriába. Ha felhasználóként
akarod futtatni, telepítsd az <span class="application">MPlayer</span>t SUID root-tal:

<pre class="screen">
chown root <i><tt>/usr/local/bin/mplayer</tt></i>
chmod 750 <i><tt>/usr/local/bin/mplayer</tt></i>
chmod +s <i><tt>/usr/local/bin/mplayer</tt></i>
</pre>

Így már egyszer&#369; felhasználók esetében is m&#369;ködik.
</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Biztonsági kockázat</h3><p>
Ez <span class="bold"><b>nagy</b></span> biztonsági kockázatot jelent!
<span class="bold"><b>Soha</b></span> ne csináld ezt meg egy szerveren vagy egy
olyan számítógépen amihez mások is hozzáférnek, mert root jogokat szerezhetnek
a SUID root-os <span class="application">MPlayer</span>rel.
</p></div><p>
Használd a <tt class="option">-vo dga</tt> kapcsolót, és már megy is! (reméljük:)
Kipróbálhatod a <tt class="option">-vo sdl:dga</tt> kapcsolót is, hogy m&#369;ködik-e!
Sokkal gyorsabb!
</p><p><a name="dga-modelines"></a><b>FELBONTÁS VÁLTÁS. </b>
A DGA vezérl&#337; lehet&#337;vé teszi a kimeneti jel felbontásának megváltoztatását.
Ezzel elkerülhet&#337; a (lassú) szoftveres méretezés és ugyanakkor teljes képerny&#337;s
képet biztosít. Ideális helyzetben pontosan a videó adat felbontására vált
(kivéve az aspect arányt), de az X szerver csak a
<tt class="filename">/etc/X11/XF86Config</tt>
(<tt class="filename">/etc/X11/XF86Config-4</tt> XFree 4.X.X esetén)
fájlban el&#337;írt felbontásokra enged váltani.
Ezeket modline-oknak nevezik és a videó hardvered tulajdonságain múlik.
Az X szerver átnézi ezt a konfigurációs fájlt indításkor és letiltja a
hardverednek nem megfelel&#337;eket.
Az X11 log fájlból kiderítheted, hogy mely módok engedélyezettek. Megtalálhatóak
a <tt class="filename">/var/log/XFree86.0.log</tt> fájlban.
</p><p>
Ezek a bejegyzések tudvalev&#337;leg m&#369;ködnek Riva128 chip-en, az nv.o X szerver
vezérl&#337; modul használatával.
</p><p><pre class="programlisting">
Section "Modes"
  Identifier "Modes[0]"
  Modeline "800x600"  40     800 840 968 1056  600 601 605 628
  Modeline "712x600"  35.0   712 740 850 900   400 410 412 425
  Modeline "640x480"  25.175 640 664 760 800   480 491 493 525
  Modeline "400x300"  20     400 416 480 528   300 301 303 314 Doublescan
  Modeline "352x288"  25.10  352 368 416 432   288 296 290 310
  Modeline "352x240"  15.750 352 368 416 432   240 244 246 262 Doublescan
  Modeline "320x240"  12.588 320 336 384 400   240 245 246 262 Doublescan
EndSection
</pre></p><p><b>DGA &amp; MPLAYER. </b>
A DGA két helyen használható az <span class="application">MPlayer</span>ben: Az SDL
vezérl&#337;nek el&#337;írhatod a használatát (<tt class="option">-vo sdl:dga</tt>) és
a DGA vezérl&#337;ben (<tt class="option">-vo dga</tt>). A fent említettek vonatkoznak mind
a kett&#337;re; a következ&#337; részben leírom, hogyan m&#369;ködik az <span class="application">MPlayer</span>
DGA vezérl&#337;je.
</p><p><b>TULAJDONSÁGOK. </b>
A DGA vezérl&#337; használatát a <tt class="option">-vo dga</tt> kapcsoló parancssorban
történ&#337; megadásával írhatod el&#337;. Alapértelmezésként az videó eredeti
felbontásához legközelebb álló felbontásra vált. Szándékosan figyelmen kívül
hagyja a <tt class="option">-vm</tt> és <tt class="option">-fs</tt> kapcsolókat
(videó mód váltás engedélyezése és teljes képerny&#337;) - mindig a lehet&#337; legtöbbet
megpróbálja elfedni a képerny&#337;db&#337;l a videó mód váltásával, így megspórolja a
képméretezéshez szükséges plusz CPU ciklusokat. Ha nem tetszik az általa
választott mód, kényszerítheted, hogy az általad megadott felbontáshoz
legközelebbit keresse meg az <tt class="option">-x</tt> és <tt class="option">-y</tt> kapcsolókkal.
A <tt class="option">-v</tt> kapcsoló beírásának hatására a DGA vezérl&#337; sok egyéb
mellett kilistázza az aktuális <tt class="filename">XF86Config</tt> fájl által
támogatott összes felbontást. DGA2 használata esetén el&#337;írhatod a színmélységet
is a <tt class="option">-bpp</tt> kapcsolóval. Az érvényes színmélységek 15, 16, 24 és 32.
A hardvereden múlik, hogy ezek a színmélységek alapból támogatottak-e vagy
(valószín&#369;leg lassú) konverziót kell végezni.
</p><p>
Ha vagy olyan szerencsés, hogy elegend&#337; memóriád van az egész, nem képerny&#337;n
lév&#337; kép bemásolásához, a DGA vezérl&#337; dupla bufferelést fog használni, ami
egyenletesebb film lejátszást eredményez. Kiírja, hogy a dupla bufferelés
engedélyezett-e vagy sem.
</p><p>
A dupla bufferelés azt jelenti,h ogy a videód következ&#337; képkockája a memória
egy nem megjelenített részére másolódik, amíg az aktuális képkocka van a
képerny&#337;n. Ha kész a következ&#337; képkocka, a grafikus chip megkapja az új kép
memóriabeli helyét, és egyszer&#369;en onnan megjeleníti a képet. Eközben a másik
buffer ismét feltölt&#337;dik új videó adattal.
</p><p>
A dupla bufferelés bekapcsolható a <tt class="option">-double</tt> kapcsolóval, vagy
letiltható a <tt class="option">-nodouble</tt>-lal. A jelenlegi alapértelmezett
beállítás szerint le van tiltva a dupla bufferelés. DGA vezérl&#337; használata
esetén az onscreen display (OSD) csak akkor m&#369;ködik, ha a dupla bufferelés
engedélyezve van. Azonban a dupla bufferelés nagy sebességcsökkenéssel járhat
(az én K6-II+ 525 gépemen további 20% CPU id&#337;!) a hardvered DGA implementációjától
függ&#337;en.
</p><p><b>SEBESSÉGI ADATOK. </b>
Általánosságban a DGA framebuffer elérésének legalább olyan gyorsnak
kell lennie, mint az X11-es vezérl&#337;nek a teljes képerny&#337;s képhez szükséges
kiegészít&#337;k használatával. Az <span class="application">MPlayer</span> által kiírt
százalékos sebesség értékeket azonban fenntartással kezeld, mert például az
X11-es vezérl&#337; esetén nem tartalmazzák azt az id&#337;t, ami az X szervernek kell
a kirajzoláshoz. Hurkold rá a terminált egy soros vonalra és indítsd el a
<b>top</b> programot, akkor megtudod mi is történik valójában a
dobozodban.
</p><p>
Kijelenthetjük, hogy a DGA gyorsítása a 'normális' X11-es használathoz képest
er&#337;teljesen függ a grafikus kártyádtól és hogy a hozzá tartozó X szerver modul
mennyire optimalizált.
</p><p>
Ha lassú rendszered van, jobb ha 15 vagy 16 bites színmélységet használsz,
mivel ezek fele akkora memória sávszélességet igényelnek, mint a 32 bites
megjelenítés.
</p><p>
A 24 bites színmélység használata is jó ötlet, ha a kártyád natívan támogatja a
32 bites mélységet, mivel ez is 25%-kal kevesebb adatátvitelt jelent a 32/32
módhoz képest.
</p><p>
Láttam pár AVI fájlt 266-os Pentium MMX-en lejátszva. Az AMD K6-2 CPU-k is
m&#369;ködnek 400 MHZ vagy afölött.
</p><p><b>ISMERT HIBÁK. </b>
Nos, az XFree néhány fejleszt&#337;je szerint a DGA egy szörnyeteg. &#336;k azt mondják,
jobb ha nem használod. Az implementációja nem mindig tökéletes az XFree-hez
tartozó chipset vezérl&#337;kkel.
</p><div class="itemizedlist"><ul type="disc"><li>
  Az XFree 4.0.3 és az <tt class="filename">nv.o</tt> esetén van egy hiba, ami
  érdekes színeket eredményez.
  </li><li>
  ATI vezérl&#337; esetén egynél többször kell visszaváltani a módot a DGA-s
  lejátszás után.
  </li><li>
  Néhány vezérl&#337; egyszer&#369;en képtelen visszaváltani normál felbontásra
  (használd a <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad +</b></span> és
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad -</b></span>
  kombinációkat a kézi váltáshoz).
  </li><li>
  Néhány vezérl&#337; egyszer&#369;en rossz színeket jelenít meg.
  </li><li>
  Néhány vezérl&#337; hamis adatot ad a processz címterébe bemappolt memória méretér&#337;l,
  így a vo_dga nem használ dupla bufferelést (SIS?).
  </li><li>
  Néhány vezérl&#337; egy használható módot sem jelez. Ebben az esetben a
  DGA vezérl&#337; összeomlik és azt írja, hogy 100000x100000-es értelmetlen mód
  vagy valami hasonló.
  </li><li>
  Az OSD csak engedélyezett dupla buffereléssel m&#369;ködik (különben villog).
  </li></ul></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="sdl"></a>2.3.2.3. SDL</h4></div></div><p>
Az SDL (Simple Directmedia Layer) tulajdonképpen egy
egységesített videó/audió interfész. Az ezt használó programok csak az
SDL-r&#337;l tudnak, arról nem, az hogy milyen videó és audió vezérl&#337;t használ.
Például egy SDL-t használó Doom port futhat svgalib, aalib, X, fbdev és
még más vezérl&#337;k segítségével, de neked csak (például) a videó vezérl&#337;t kell
megadnod az <tt>SDL_VIDEODRIVER</tt> környezeti változóval. Legalábbis
elméletben.
</p><p>
Az <span class="application">MPlayer</span>rel mi az X11 vezérl&#337; szoftveres
képméretez&#337; képességét használtuk XVideo-t nem támogató kártyák/vezérl&#337;k
esetén, amíg el nem készült a mi saját (gyorsabb, szebb) szoftveres méretez&#337;nk.
Használtuk az aalib kimeneti képességét is, de most már abból is van saját,
ami sokkal komfortosabb. A DGA módja jobb volt a mienkénél, legalábbis a
közelmúltig. Vágod? :)
</p><p>
Segít pár hibás vezérl&#337;/kártya esetén is, ha a videó szaggatott (nem lassú
rendszer miatt) vagy az audió késett.
</p><p>
Az SDL videó kimenet támogatja a feliratok megjelenítését a film alatt, a
(ha van) fekete soron.
</p><div class="variablelist"><p><b>Számos parancssori kapcsoló van az SDL-hez:</b></p><dl><dt><span class="term"><tt class="option">-vo sdl:<i><tt>name</tt></i></tt></span></dt><dd>
    el&#337;írja a használni kívánt SDL videó vezérl&#337;t (pl. <tt>aalib</tt>,
    <tt>dga</tt>, <tt>x11</tt>)
  </dd><dt><span class="term"><tt class="option">-ao sdl:<i><tt>name</tt></i></tt></span></dt><dd>
    el&#337;írja a használni kívánt SDL audió vezérl&#337;t (pl. <tt>dsp</tt>,
    <tt>esd</tt>, <tt>artsc</tt>)
  </dd><dt><span class="term"><tt class="option">-noxv</tt></span></dt><dd>
    letiltja a XVideo hardveres gyorsítását
  </dd><dt><span class="term"><tt class="option">-forcexv</tt></span></dt><dd>
    megpróbálja kikényszeríteni az XVideo gyorsítást
  </dd></dl></div><div class="table"><p><b>2.1. táblázat - Csak SDL alatt használható billenty&#369;k</b></p><table summary="Csak SDL alatt használható billenty&#369;k" border="1"><colgroup><col><col></colgroup><thead><tr><th>Gomb</th><th>Tevékenység</th></tr></thead><tbody><tr><td><span class="keycap"><b>c</b></span></td><td>
    váltás az elérhet&#337; teljes képerny&#337;s módok között
    </td></tr><tr><td><span class="keycap"><b>n</b></span></td><td>
    váltás normál módra
    </td></tr></tbody></table></div><div class="itemizedlist"><p><b>Ismert hibák:</b></p><ul type="disc"><li>
  Az sdl:aalib konzol vezérl&#337; alatt leütött billenty&#369;k a végtelenségig ismétl&#337;dnek.
  (használd a <tt class="option">-vo aa</tt>-t!) Ez egy SDL hiba, nem tudunk segíteni rajta
  (tesztelve SDL 1.2.1-el).
  </li><li>
  NE HASZNÁLD AZ SDL-T GUI-VAL! Nem úgy m&#369;ködik, ahogy kellene neki.
  </li></ul></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="svgalib"></a>2.3.2.4. SVGAlib</h4></div></div><p><b>TELEPÍTÉS. </b>
Telepítened kell az svgalib-et és a fejleszt&#337;i csomagjait ahhoz, hogy az
<span class="application">MPlayer</span> elkészítse az SVGAlib vezérl&#337;jét (automatikusan
felismeri, de lehet kényszeríteni is rá) és ne felejtsd el átírni a
<tt class="filename">/etc/vga/libvga.config</tt> fájlt, hogy megfeleljen a kártyádnak
és a monitorodnak.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
Ne használd a <tt class="option">-fs</tt> kapcsolót, mert bekapcsolja a szoftveres
méretezést és lassú. Ha tényleg szükség van rá, használd a
<tt class="option">-sws 4</tt> kapcsolót, ami rossz min&#337;séget ad, de valamivel gyorsabb.
</p></div><p><b>EGA (4BPP) TÁMOGATÁS. </b>
Az SVGAlib tartalmazza az EGAlib-et és az <span class="application">MPlayer</span> így
képes bármely film 16 színben történ&#337; megjelenítésére, lehet&#337;vé téve az alábbi
beállítások használatát:
</p><div class="itemizedlist"><ul type="disc"><li>
  EGA kártya EGA monitorral: 320x200x4bpp, 640x200x4bpp, 640x350x4bpp
  </li><li>
  EGA kártya CGA monitorral: 320x200x4bpp, 640x200x4bpp
  </li></ul></div><p>
A bpp (bit per pixel) értéket kézzel kell 4-re állítanod:
<tt class="option">-bpp 4</tt>
</p><p>
A filmet valószín&#369;leg át kell méretezni, hogy megfeleljen az EGA módnak:
<pre class="screen">-vf scale=640:350</pre>
or
<pre class="screen">-vf scale=320:200</pre>
</p><p>
Ehhez gyors, de rossz min&#337;séget produkáló méretez&#337; rutin kell:
<pre class="screen">-sws 4</pre>
</p><p>
Talán az automatikus arány-javítást kikapcsolhatod:
<pre class="screen">-noaspect</pre>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
A kísérleteimb&#337;l úgy t&#369;nik, a legjobb képmin&#337;ség EGA monitorokon
a világosság enyhe csökkentésével állítható el&#337;:
<tt class="option">-vf eq=-20:0</tt>. Nálam szükséges volt az audió mintavételi
ráta csökkentése is, mert a hang szétesett 44kHz-en:
<tt class="option">-srate 22050</tt>.
</p></div><p>
Csak az <tt class="option">expand</tt> sz&#369;r&#337; segítségével tudod bekapcsolni a
feliratokat és az OSD-t, lásd a man oldalt a megfelel&#337; paraméterekért.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="fbdev"></a>2.3.2.5. Framebuffer kimenet (FBdev)</h4></div></div><p>
Az FBdev elkészítése automatikusan kiválasztódik a
<tt class="filename">./configure</tt> során. Olvasd el a framebuffer dokumentációt
a kernel forrásban (<tt class="filename">Documentation/fb/*</tt>) a b&#337;vebb
információkért.
</p><p>
Ha a kártyád nem támogatja a VBE 2.0 szabványt (régebbi ISA/PCI kártyák, mint
például az S3 Trio64), csak a VBE 1.2-t (vagy régebbit?): Nos, a VESAfb még
elérhet&#337;, de be kell töltened a SciTech Display Doctor-t (egykori UniVBE),
miel&#337;tt betöltenéd a Linuxot. Használj DOS boot lemezt vagy valamit. És ne
felejtsd el regisztrálni az UniVBE-det! ;))
</p><p>
Az FBdev kimenetnek a fentiek mellett van néhány paramétere is:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">-fb</tt></span></dt><dd>
    megadhatod a használni kívánt framebuffer eszközt (<tt class="filename">/dev/fb0</tt>)
    </dd><dt><span class="term"><tt class="option">-fbmode</tt></span></dt><dd>
    használni kívánt mód neve (a <tt class="filename">/etc/fb.modes</tt> fájlnak megfelel&#337;en)
    </dd><dt><span class="term"><tt class="option">-fbmodeconfig</tt></span></dt><dd>
    módokat tartalmazó konfigurációs fájl (alapértelmezésben <tt class="filename">/etc/fb.modes</tt>)
    </dd><dt><span class="term"><tt class="option">-monitor-hfreq</tt>, </span><span class="term"><tt class="option">-monitor-vfreq</tt>, </span><span class="term"><tt class="option">-monitor-dotclock</tt></span></dt><dd>
    <span class="bold"><b>fontos</b></span> értékek, lásd
    <tt class="filename">example.conf</tt>
    </dd></dl></div><p>
Ha egy különleges módra akarsz váltani, akkor így használd:
<pre class="screen">
mplayer -vm -fbmode <i><tt>mod_neve</tt></i> <i><tt>fajlnev</tt></i>
</pre>
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Magában a <tt class="option">-vm</tt> kiválasztja a legmegfelel&#337;bb módot a
  <tt class="filename">/etc/fb.modes</tt> fájlból. Használható együtt a
  <tt class="option">-x</tt> és <tt class="option">-y</tt> kapcsolókkal is. A
  <tt class="option">-flip</tt> kapcsoló csak akkor támogatott, ha a film pixel
  formátuma megfelel a videó mód pixel formátumának. Figyelj a bpp
  értékére, az fbdev vezérl&#337; az aktuálisat próbálja meg használni, vagy
  ha megadsz valamit a <tt class="option">-bpp</tt> kapcsolóval, akkor azt.
  </p></li><li><p>
  A <tt class="option">-zoom</tt> kapcsoló nem támogatott (használd a <tt class="option">-vf scale</tt>-t).
  Nem használhatsz 8bpp (vagy kevesebb) módokat.
  </p></li><li><p>
  Valószín&#369;leg el szeretnéd tüntetni a kurzort:
  <pre class="screen">echo -e '\033[?25l'</pre>
  vagy
  <pre class="screen">setterm -cursor off</pre>
  és a képerny&#337;véd&#337;t:
  <pre class="screen">setterm -blank 0</pre>
  Kurzor visszakapcsolása:
  <pre class="screen">echo -e '\033[?25h'</pre>
  vagy
  <pre class="screen">setterm -cursor on</pre>
  </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
Az FBdev videó mód váltása <span class="emphasis"><i>nem m&#369;ködik</i></span> a VESA
framebufferrel és ne is kérd, hogy m&#369;ködjön, mivel ez nem az
<span class="application">MPlayer</span> korlátja.
</p></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="mga_vid"></a>2.3.2.6. Matrox framebuffer (mga_vid)</h4></div></div><p>
Ez a rész a Matrox G200/G400/G450/G550 BES (Back-End Scaler) támogatásról
szól, az mga_vid kernel vezérl&#337;r&#337;l. Jelenleg A'rpi fejleszti, van
benne hardveres VSYNC támogatás tripla buffereléssel. M&#369;ködik mind
framebufferes konzolon, mind X alatt.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Figyelem</h3><p>
Mindez csak Linux alatt! Nem-Linux (FreeBSD-n tesztelve) rendszereken a
<a href="video.html#vidix" title="2.3.2.13. VIDIX">VIDIX</a>-et használhatod helyette!
</p></div><div class="procedure"><p><b>Telepítés:</b></p><ol type="1"><li><p>
  A használatához el&#337;ször <tt class="filename">mga_vid.o</tt>-t kell forgatnod:
  <pre class="screen">
cd drivers
make</pre>
  </p></li><li><p>
  Majd hozd létre a <tt class="filename">/dev/mga_vid</tt> eszközt:
  <pre class="screen">mknod /dev/mga_vid c 178 0</pre>
  és töltsd be a vezérl&#337;t
  <pre class="screen">insmod mga_vid.o</pre>
  </p></li><li><p>
  Ellen&#337;rizd a memória méret detektálását a <b>dmesg</b>
  parancs segítségével. Ha hibásan írja, használd a
  <tt class="option">mga_ram_size</tt> kapcsolót
  (el&#337;tte <b>rmmod mga_vid</b>),
  a kártya memóriájának MB-ban történ&#337; megadásához:
  <pre class="screen">insmod mga_vid.o mga_ram_size=16</pre>
  </p></li><li><p>
  Az automatikus betöltéshez/törléshez el&#337;ször írd be ezt a sort a
  <tt class="filename">/etc/modules.conf</tt> fájlod végére:

  <pre class="programlisting">alias char-major-178 mga_vid</pre>

  Majd másold be a <tt class="filename">mga_vid.o</tt> modult a megfelel&#337;
  helyre a <tt class="filename">/lib/modules/<i><tt>kernel
  verzió</tt></i>/<i><tt>valahol</tt></i></tt> könyvtárba.
  </p><p>
  Ezután futtasd le a
  <pre class="screen">depmod -a</pre>
  parancsot.
  </p></li><li><p>
  Ezekután le kell fordítanod (újra) az <span class="application">MPlayer</span>t, a
  <tt class="filename">./configure</tt> meg fogja találni a
  <tt class="filename">/dev/mga_vid</tt>-et és elkészíti az 'mga' vezérl&#337;t. Az
  <span class="application">MPlayer</span>ben a <tt class="option">-vo mga</tt> kapcsolóval
  használhatod, ha matroxfb konzolod van vagy a <tt class="option">-vo xmga</tt>-val
  XFree86 3.x.x vagy 4.x.x alatt.
  </p></li></ol></div><p>
Az mga_vid vezérl&#337; együttm&#369;ködik az Xv-vel.
</p><p>
A <tt class="filename">/dev/mga_vid</tt> eszköz fájlt megnézheted némi infóért
például a
<pre class="screen">cat /dev/mga_vid</pre>
segítségével és beállíthatod a fényer&#337;sséget:
<pre class="screen">echo "brightness=120" &gt; /dev/mga_vid</pre>
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="tdfxfb"></a>2.3.2.7. 3Dfx YUV támogatás</h4></div></div><p>
Ez a vezérl&#337; a kernel tdfx framebuffer vezérl&#337;jét használja a filmek
YUV gyorsításával történ&#337; lejátszásához. Kell hozzá egy kernel tdfxfb
támogatással, és egy újrafordítás a
<pre class="screen">./configure --enable-tdfxfb</pre>
paranccsal.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="opengl"></a>2.3.2.8. OpenGL kimenet</h4></div></div><p>
Az <span class="application">MPlayer</span> támogatja a filmek OpenGL-lel történ&#337;
megjelenítését is, de ha a platformod/vezérl&#337;d támogatja az Xv-t, inkább azt
használd PC-n Linux-szal, az OpenGL teljesítménye észrevehet&#337;en gyengébb. Ha
Xv támogatás nélküli X11-ed van, az OpenGL jó alternatíva lehet.
</p><p>
Sajnos nem minden vezérl&#337; támogatja ezt a tulajdonságot. A Utah-GLX vezérl&#337;k
(az XFree86 3.3.6-hoz) minden kártya esetén támogatják.
Lásd a <a href="http://utah-glx.sf.net" target="_top">http://utah-glx.sf.net</a> oldalt a részletes telepítési
leíráshoz.
</p><p>
Az XFree86(DRI) 4.0.3 vagy kés&#337;bbi támogatja az OpenGL-t Matrox és Radeon
kártyákkal, a 4.2.0 vagy kés&#337;bbi Rage128-cal.
Lásd a <a href="http://dri.sf.net" target="_top">http://dri.sf.net</a> oldalt a letöltéshez és a telepítési
utasításokért.
</p><p>
Egy felhasználónk tanácsa: a GL videó kimenetet függ&#337;legesen szinkronizált
TV kimenet el&#337;állításához is felhasználhatod. Csak be kell állítanod egy
környezeti változót (legalábbis az nVidia-n):
</p><p>
<b>export $__GL_SYNC_TO_VBLANK=1</b>
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="aalib"></a>2.3.2.9. AAlib - szöveges módú megjelenítés</h4></div></div><p>
Az AAlib egy függvény könyvtár grafika karakteres módban történ&#337; megjelenítéséhez,
egy nagyszer&#369; ASCII renderel&#337; segítségével. Már jelenleg is <span class="emphasis"><i>rengeteg</i></span>
program támogatja, például a Doom, Quake, stb. Az <span class="application">MPlayer</span>ben
is van egy roppant jól használható vezérl&#337; hozzá. Ha a <tt class="filename">./configure</tt>
talál telepített aalib-et, az aalib libvo vezérl&#337; alapértelmezett lesz.
</p><p>
Pár billenty&#369; segítségével állíthatod a renderelési opciókat az AA Ablakban:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Gomb</th><th>M&#369;velet</th></tr></thead><tbody><tr><td><span class="keycap"><b>1</b></span></td><td>
  kontraszt csökkentése
  </td></tr><tr><td><span class="keycap"><b>2</b></span></td><td>
  kontraszt növelése
  </td></tr><tr><td><span class="keycap"><b>3</b></span></td><td>
  fényer&#337; csökkentése
  </td></tr><tr><td><span class="keycap"><b>4</b></span></td><td>
  fényer&#337; növelése
  </td></tr><tr><td><span class="keycap"><b>5</b></span></td><td>
  gyors renderelés be/kikapcsolása
  </td></tr><tr><td><span class="keycap"><b>6</b></span></td><td>
  dithering módjának beállítása (nincs, hiba eloszlás, Floyd Steinberg)
  </td></tr><tr><td><span class="keycap"><b>7</b></span></td><td>
  kép megfordítása
  </td></tr><tr><td><span class="keycap"><b>8</b></span></td><td>
  váltás az aa és az <span class="application">MPlayer</span> vezérlése között
  </td></tr></tbody></table></div><div class="variablelist"><p><b>A következ&#337; parancssori kapcsolókat használhatod:</b></p><dl><dt><span class="term"><tt class="option">-aaosdcolor=<i><tt>V</tt></i></tt></span></dt><dd><p>
    OSD szín megváltoztatása
    </p></dd><dt><span class="term"><tt class="option">-aasubcolor=<i><tt>V</tt></i></tt></span></dt><dd><p>
    felirat szín megváltoztatása
    </p><p>
    ahol a <i><tt>V</tt></i> lehet:
    <tt>0</tt> (normális),
    <tt>1</tt> (sötét),
    <tt>2</tt> (vastag),
    <tt>3</tt> (félkövér bet&#369;),
    <tt>4</tt> (ellentétes),
    <tt>5</tt> (speciális).
    </p></dd></dl></div><div class="variablelist"><p><b>Maga az AAlib számtalan lehet&#337;séget biztosít. Itt van pár fontosabb:</b></p><dl><dt><span class="term"><tt class="option">-aadriver</tt></span></dt><dd>
    beállítja a javasolt aa vezérl&#337;t (X11, curses, Linux)
    </dd><dt><span class="term"><tt class="option">-aaextended</tt></span></dt><dd>
    mind a 256 karakter használata
    </dd><dt><span class="term"><tt class="option">-aaeight</tt></span></dt><dd>
    nyolc bites ASCII
    </dd><dt><span class="term"><tt class="option">-aahelp</tt></span></dt><dd>
    kiírja az összes aalib kapcsolót
    </dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
A renderelés nagyon CPU igényes, különösen ha AA-on-X-et
(aalib használata X alatt) használsz, a legalacsonyabb a standard,
nem framebuffer-es konzolon. Használd az SVGATextMode-ot a nagy
felbontás beállításához, és élvezd! (másodlagos Hercules kártyák a
sirályak :)) (de SZVSZ használhatod a
<tt class="option">-vf 1bpp</tt> kapcsolót is a hgafb-en megjelen&#337; grafikához :)
</p></div><p>
A <tt class="option">-framedrop</tt> kapcsoló használatát javasoljuk, ha nem
elég gyors a géped az összes képkocka rendeléséhez!
</p><p>
Terminálon lejátszva jobb sebességet és min&#337;séget kapsz a Linux vezérl&#337;vel,
mint a curses-szal (<tt class="option">-aadriver linux</tt>). De ehhez írási joggal
kell rendelkezned a <tt class="filename">/dev/vcsa<i><tt>&lt;terminal&gt;</tt></i></tt>
fájlhoz! Ezt az aalib nem ismeri fel magától, de a vo_aa megpróbálja
megtalálni a legjobb módot.
Lásd a <a href="http://aa-project.sf.net/tune" target="_top">http://aa-project.sf.net/tune</a> oldalt a további
tuningolási dolgokhoz.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="caca"></a>2.3.2.10. <tt>libcaca</tt> - Színes ASCII Art függvénykönyvtár</h4></div></div><p>
A <a href="http://sam.zoy.org/projects/libcaca/" target="_top"><tt>libcaca</tt></a>
függvénykönyvtár egy grafikus könyvtár, ami szöveget jelenít meg pixelek helyett, így
m&#369;ködik régebbi videó kártyákkal vagy szöveges terminálokon is. Hasonló a népszer&#369;
<tt>AAlib</tt> könyvtárhoz.
A <tt>libcaca</tt>-nak egy terminál kell a m&#369;ködéshez, így
bármilyen Unix rendszeren (beleértve a Mac OS X-et) m&#369;ködik, vagy a
<tt>slang</tt> vagy az
<tt>ncurses</tt> vagy DOS alatt a
<tt>conio.h</tt> illetve Windows rendszereken
akár a <tt>slang</tt> vagy az
<tt>ncurses</tt> (Cygwin emuláción keresztül) vagy
a <tt>conio.h</tt> könyvtárak használatával. Ha
a <tt class="filename">./configure</tt>
megtalálja a <tt>libcaca</tt>-t, a caca libvo vezérl&#337;
elkészül.
</p><div class="itemizedlist"><p><b>A különbség az <tt>AAlib</tt>-hez képest
  a következ&#337;ek:</b></p><ul type="disc"><li>
   16 elérhet&#337; szín a karakter kimenetre (256 szín&#369; párok)
  </li><li>
   színes kép dithering
  </li></ul></div><div class="itemizedlist"><p><b>De a <tt>libcaca</tt>-nak megvan az
  alábbi korlátja:</b></p><ul type="disc"><li>
   nincs fényer&#337;, kontraszt és gamma támogatás
  </li></ul></div><p>
Pár billenty&#369;vel szabályozhatod a caca ablakban a renderelés opcióit:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Gomb</th><th>M&#369;velet</th></tr></thead><tbody><tr><td><span class="keycap"><b>d</b></span></td><td>
  Váltás a <tt>libcaca</tt> dithering metódusai között.
  </td></tr><tr><td><span class="keycap"><b>a</b></span></td><td>
  A <tt>libcaca</tt> antialiasing ki-/bekapcsolása.
  </td></tr><tr><td><span class="keycap"><b>b</b></span></td><td>
  A <tt>libcaca</tt> háttérbe küldése.
  </td></tr></tbody></table></div><div class="variablelist"><p><b>A <tt>libcaca</tt> figyel pár környezeti változót is:</b></p><dl><dt><span class="term"><tt class="option">CACA_DRIVER</tt></span></dt><dd>
    Állítsd be a javasolt caca vezérl&#337;t, pl. ncurses, slang, x11.
    </dd><dt><span class="term"><tt class="option">CACA_GEOMETRY (csak X11)</tt></span></dt><dd>
    Megadja a sorok és oszlopok számát, pl. 128x50.
    </dd><dt><span class="term"><tt class="option">CACA_FONT (csak X11)</tt></span></dt><dd>
    Megadja a használni kívánt bet&#369;típust, pl. fixed, nexus.
    </dd></dl></div><p>
Használd a <tt class="option">-framedrop</tt> kapcsolót ha a számítógéped nem elég
gyors az összes képkocka rendeléséhez.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="vesa"></a>2.3.2.11. VESA - kimenet a VESA BIOS-hoz</h4></div></div><p>
Ezt a vezérl&#337;t egy <span class="bold"><b>általános vezérl&#337;ként</b></span>
terveztük meg és vezettük be bármilyen, VESA VBE 2.0 kompatibilis BIOS-szal
rendelkez&#337; monitorkártya esetében. A másik el&#337;nye ennek a vezérl&#337;nek, hogy
megpróbálja használni a TV kimenetet.
<i>VESA BIOS EXTENSION (VBE) Version 3.0 Dátum: 1998. szeptember 16.
</i> (70. oldal) ezt írja:
</p><blockquote class="blockquote"><p><b>Duál-Vezérl&#337;s Tervezés. </b>
A VBE 3.0 támogatja a duál-vezérl&#337;s tervezést, feltételezve hogy általában
mindkét vezérl&#337;t ugyanaz az OEM biztosítja, egy BIOS ROM vezérlésével
ugyan azon a grafikus kártyán, lehetséges az alkalmazás számára elrejteni
azt a tényt, hogy valójában két vezérl&#337; van jelen. Ez ugyan megakadályozza
a vezérl&#337;k egyidej&#369;leg történ&#337; egyedi használatát, azonban lehet&#337;vé teszi
a VBE 3.0 el&#337;tt kiadott alkalmazások normális m&#369;ködését. A 00h VBE funció
(Vezérl&#337; információkkal tér vissza) a két vezérl&#337; kombinált információit
adja vissza, beleértve a használható módok kombinált listáját. Ha az
alkalmazás kiválaszt egy módot, a megfelel&#337; vezérl&#337; aktiválódik. Az összes
többi VBE funkció ezután az aktív vezérl&#337;vel dolgozik.
</p></blockquote><p>
Így van esélyed a TV kimenet használatára ezzel a vezérl&#337;vel.
(Gondolom a TV-out legtöbbször legalább egyedülálló fej vagy egyedüli kimenet.)
</p><div class="itemizedlist"><p><b>EL&#336;NYÖK</b></p><ul type="disc" compact><li>
  Van esélyed a film nézésre akkor is <span class="bold"><b>ha a Linux nem ismeri</b></span>
  a videó hardveredet.
  </li><li>
  Nem kell telepítened semmiféle grafikus dolgot a Linuxodra (mint pl. X11 (AKA XFree86),
  fbdev és így tovább). Ez a vezérl&#337; fut <span class="bold"><b>szöveges-módban</b></span>.
  </li><li>
  Jó eséllyel <span class="bold"><b>m&#369;köd&#337; TV-kimenetet</b></span> kapsz.
  (Legalábbis az ATI kártyákon).
  </li><li>
  Ez a vezérl&#337; meghívja az <tt>int 10h</tt> kezel&#337;t így nem
  emulátor - <span class="bold"><b>igazi</b></span> dolgokat hív az
  <span class="emphasis"><i>igazi</i></span> BIOS-ban <span class="emphasis"><i>valós-módban</i></span>
  (valójában vm86 módban).
  </li><li>
  Használhatod a VIDIX-et vele, így gyorsított videó megjelenítést kapsz
  <span class="bold"><b>és</b></span> TV kimenetet egy id&#337;ben!
  (Javasolt az ATI kártyákhoz.)
  </li><li>
  Ha VESA VBE 3.0+-od van, és megadtad a
  <tt class="option">monitor-hfreq, monitor-vfreq, monitor-dotclock</tt>-ot valahol
  (konfigurációs fájlban vagy paranccsorban), a lehet&#337; legjobb frissítési rátát kapod.
  (Általános Id&#337;zít&#337; Formulát használva). Ezen képesség engedélyezéséhez meg kell adnod
  a monitorod <span class="bold"><b>összes</b></span> opcióját.
  </li></ul></div><div class="itemizedlist"><p><b>HÁTRÁNYOK</b></p><ul type="disc" compact><li>
   Csak <span class="bold"><b>x86 rendszereken</b></span> m&#369;ködik.
  </li><li>
  Csak a <tt>root</tt> használhatja.
  </li><li>
  Jelenleg csak <span class="bold"><b>Linux</b></span> alatt elérhet&#337;.
  </li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Fontos</h3><p>
Ne használd ezt a vezérl&#337;t <span class="bold"><b>GCC 2.96</b></span>-tal!
Nem fog menni!
</p></div><div class="variablelist"><p><b>A VESA PARANCSSORI KAPCSOLÓI</b></p><dl><dt><span class="term"><tt class="option">-vo vesa:<i><tt>opts</tt></i></tt></span></dt><dd>
    jelenleg felismert: <tt>dga</tt> a dga mód használatához és
    <tt>nodga</tt> a dga mód letiltásához. A dga módban engedélyezheted
    a dupla bufferelést a <tt class="option">-double</tt> kapcsolóval. Megjegyzés: ezen
    paraméterek elhagyásával engedélyezed a dga mód <span class="bold"><b>automatikus
    detektálását</b></span>.
    </dd></dl></div><div class="itemizedlist"><p><b>ISMERT PROBLÉMÁK ÉS MEGOLDÁSAIK</b></p><ul type="disc" compact><li>
  Ha telepítettél <span class="bold"><b>NLS</b></span> bet&#369;típust a Linux rendszeredre
  és VESA vezérl&#337;t használsz szöveges-módban, akkor az <span class="application">MPlayer</span>b&#337;l
  való kilépés után a <span class="bold"><b>ROM bet&#369;típusa</b></span> lesz betöltve a nemzeti
  helyett.
  A nemzeti bet&#369;készletet újra betöltheted a <b>setsysfont</b> nev&#369;, pl. Mandrake
  disztribúcióban megtalálható segédprogram használatával.
  (<span class="bold"><b>Tanács</b></span>: Ugyan ez a segédprogram használható az
  fbdev honosítására is).
  </li><li>
  Some <span class="bold"><b>Linux graphics drivers</b></span> don't update
  active <span class="bold"><b>BIOS mode</b></span> in DOS memory.
  Tehát ha ilyen problémáid vannak - mindig csak <span class="bold"><b>szöveges módban</b></span>
  használd a VESA vezérl&#337;t. Különben a szöveges mód (#03) aktiválódik mindenképp
  és újra kell indítanod a számítógépedet.
  </li><li>
  Gyakran a VESA vezérl&#337; bezárása után <span class="bold"><b>fekete</b></span>
  képerny&#337;t kapsz. Hogy visszaállítsd a képerny&#337;det az eredeti állapotába - egyszer&#369;en csak
  válts át másik konzolra (az <span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F&lt;x&gt;</b></span> gombok
  megnyomásával) majd válts vissza ugyanígy.
  </li><li>
  A <span class="bold"><b>m&#369;köd&#337; TV kimenethez</b></span> be kell dugnod a
  TV-csatlakozót miel&#337;tt betöltene a PC-d, mivel a videó BIOS csak egyszer,
  a POST eljárás során inicializálja magát.
  </li></ul></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="x11"></a>2.3.2.12. X11</h4></div></div><p>
Ha lehet, kerüld el! Az X11-es kimenetnek (megosztott memória kiterjesztést használnak),
nincs semmilyen hardveres támogatásuk. Tudja ugyan (MMX/3DNow/SSE által gyorsítva, de
így is lassan) a szoftveres méretezést, használhatod a <tt class="option">-fs -zoom</tt>
kapcsolókat. A legtöbb hardverben benne van a hardveres méretezés támogatása, használd
a <tt class="option">-vo xv</tt> kimenetet hozzá vagy a <tt class="option">-vo xmga</tt>-t a Matrox
kártyákhoz.
</p><p>
A probléma az, hogy a legtöbb kártya vezérl&#337;je nem támogatja a hardveres
gyorsítást a második fejen/TV-n. Ezekben az esetekben zöld/kék szín&#369;
ablakot látsz a film helyett. Az ilyen esetekben jön jól ez a vezérl&#337;,
de er&#337;s CPU-val kell rendelkezned a szoftveres méretezés használatához.
Ne használd az SDL vezérl&#337; szoftveres kimenetét+méretez&#337;jét, annak még
rosszabb a képmin&#337;sége!
</p><p>
A szoftveres méretezés nagyon lassú, jobb, ha megpróbálsz videó módot váltani
inkább. Az egyszer&#369;bb. Lásd a <a href="video.html#dga-modelines">DGA rész
modeline-jait</a>, és írd be &#337;ket az <tt class="filename">XF86Config</tt>
fájlba.

</p><div class="itemizedlist"><ul type="disc" compact><li>
  Ha XFree86 4.x.x-ed van: használd a <tt class="option">-vm</tt> kapcsolót. Ez átvált
  egy olyan felbontásra, amin elfér a film. Ha mégsem:
  </li><li>
  XFree86 3.x.x-szel: körkörösen végigmehetsz az elérhet&#337; felbontásokon a
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>plusz</b></span>
  és
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>minusz</b></span>
  gombokkal.
  </li></ul></div><p>
</p><p>
Ha nem találod a beszúrt módokat, nézd át az XFree86 kimenetét. Néhány
vezérl&#337; nem tud alacsony pixelclock-ot használni, ami szükséges az alacsony
felbontású videó módokhoz.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="vidix"></a>2.3.2.13. VIDIX</h4></div></div><p><b>BEVEZETÉS. </b>
A VIDIX a <span class="bold"><b>VID</b></span>eo
<span class="bold"><b>I</b></span>nterface for *ni<span class="bold"><b>X</b></span>
rövidítése. A VIDIX-et egy felhasználói térben használható vezérl&#337;ként tervezték és
mutatták be, mely olyan videó teljesítményt nyújt, mint az mga_vid a Matrox kártyákon.
Ráadásul könnyen portolható.
</p><p>
Ezt az interfészt úgy tervezték meg, hogy illeszkedjen a már létez&#337; videó
gyorsító interfészekhez (mga_vid, rage128_vid, radeon_vid, pm3_vid) egy állandó
sémával. Magas szint&#369; interfészt biztosít a BES (BackEnd Scalers) néven ismert
chip-ekhez vagy az OV-hoz (Video Overlays). Nem nyújt a grafikus szerverekhez
hasonló alacsony szint&#369; interfészt. (Nem akarok versenyezni a z X11 csapattal a
grafikus mód váltásban). Pl. ezen interfész f&#337; célja a videó lejátszás sebességének
maximalizálása.
</p><div class="itemizedlist"><p><b>HASZNÁLAT</b></p><ul type="disc" compact><li>
  Használhatsz egyedülálló videó kimeneti vezérl&#337;t: <tt class="option">-vo xvidix</tt>.
  Ez a vezérl&#337; a VIDIX-es technológia X11-es front end-je. X szerver kell hozzá
  és csak X szerverrel m&#369;ködik. Jegyezd meg, hogy mivel közvetlenül éri el a hardvert
  az X vezérl&#337; megkerülésével, a grafikus kártya memóriájában lév&#337; pixmap-ok sérülhetnek.
  Ezt elkerülheted az X által használt videó memória korlátozásával, amit az XF86Config
  "VideoRam" opciójával adhatsz meg az eszköz részben. Ajánlott ezt a kártyádon lév&#337;
  memória mínusz 4 MB-ra állítani. Ha kevesebb, mint 8 MB videó ram-od van, akkor
  ehelyett használhatod az "XaaNoPixmapCache" opciót a képerny&#337; részben.
  </li><li>
  Van egy konzolos VIDIX vezérl&#337;: <tt class="option">-vo cvidix</tt>.
  Ehhez egy m&#369;köd&#337; és inicializált frambuffer kell a legtöbb kártyánál (vagy különben
  csak összeszemeteled a képerny&#337;d), és hasonló eredményt kapsz, mint a
  <tt class="option">-vo mga</tt> vagy <tt class="option">-vo fbdev</tt> kapcsolókkal. Az nVidia
  kártyák azonban képesek tényleges grafikus kimenetre igazi szöveges konzolon.
  Lásd az <a href="video.html#vidix-nvidia" title="2.3.2.13.5. nVidia kártya">nvidia_vid</a> részt a további információkért.
  </li><li>
  Használhatod a VIDIX aleszközt, ami számos videó kimeneti vezérl&#337;vel együtt használható,
  például: <tt class="option">-vo vesa:vidix</tt>
  (<span class="bold"><b>csak Linux</b></span>) és
  <tt class="option">-vo fbdev:vidix</tt>.
  </li></ul></div><p>
Igazából nem számít, hogy melyik videó kimeneti vezérl&#337;t használod együtt a
<span class="bold"><b>VIDIX</b></span>-szel.
</p><div class="itemizedlist"><p><b>KÖVETELMÉNYEK</b></p><ul type="disc" compact><li>
  A videó kártyának grafikus módban kell lennie (kivéve az nVidia kártyákat a
  <tt class="option">-vo cvidix</tt> kimeneti vezérl&#337;vel).
  </li><li>
  Az <span class="application">MPlayer</span> videó kimeneti vezérl&#337;nek tudnia kell
  aktiválni a videó módot és információkat kell tudnia átadni a VIDIX aleszköznek
  a szerver videó karakterisztikájáról.
  </li></ul></div><p><b>HASZNÁLATI MÓDOK. </b>
Ha a VIDIX-et <span class="bold"><b>aleszközként</b></span> használod (<tt class="option">-vo
vesa:vidix</tt>), akkor a videó mód konfigurációt a videó kimeneti vezérl&#337;
(röviden <span class="bold"><b>vo_server</b></span>) végzi. Ezért az
<span class="application">MPlayer</span> parancssorában ugyan azokat a kulcsokat
használhatod, mint a vo_server-rel. Ráadásul ismeri a <tt class="option">-double</tt>
kulcsot mint globálisan látható paramétert. (Javaslom ezen kulcs VIDIX-szel
történ&#337; használatát legalább az ATI kártyával). Ami a <tt class="option">-vo xvidix</tt>-et
illeti, most csak a következ&#337; kapcsolókat ismeri: <tt class="option">-fs -zoom -x -y -double</tt>.
</p><p>
A parancssorban harmadik alkapcsolóként megadhatod közvetlenül a VIDIX vezérl&#337;jét:

<pre class="screen">mplayer -vo xvidix:mga_vid.so -fs -zoom -double <i><tt>file.avi</tt></i></pre>
or
<pre class="screen">mplayer -vo vesa:vidix:radeon_vid.so -fs -zoom -double -bpp 32 <i><tt>file.avi</tt></i></pre>

De ez veszélyes, inkább ne használd. Ebben az esetben a megadott vezérl&#337;
lesz kényszerítve, így az eredmény megjósolhatatlan
(<span class="bold"><b>lefagyaszthatja</b></span> a számítógéped). CSAK akkor
csinálj ilyet, ha teljesen biztos vagy benne, hogy m&#369;ködik és az
<span class="application">MPlayer</span> nem teszi meg automatikusan. Ez esetben
kérjük jelezd ezt a fejleszt&#337;knek is. A helyes módszer a VIDIX argumentumok
nélküli használata, és így az automatikus detektálás engedélyezése.
</p><p>
A VIDIX egy új technológia és eléggé elképzelhet&#337;, hogy a te rendszereden
nem fog m&#369;ködni. Ebben az esetben az egyetlen megoldás, ha portolod
(leginkább a libdha-t). De van remény, hogy m&#369;ködni fog azokon a rendszereken,
amiken az X11 megy.
</p><p>
Mivel a VIDIX-nek direkt hardver elérés kell, futtathatod root-ként vagy
beállíthatod a SUID bit-et az <span class="application">MPlayer</span> binárisán
(<span class="bold"><b>Figyelem: Ez biztonsági kockázatot jelent!</b></span>).
Alternatívaként használhatsz egy speciális kernel modult, így:
</p><div class="procedure"><ol type="1"><li><p>
  Töltsd le az svgalib (pl. 1.9.17-es) <a href="http://www.arava.co.il/matan/svgalib/" target="_top">fejleszt&#337;i verzióját</a>,
  <span class="bold"><b>VAGY</b></span>
  az Alex által speciálisan az <span class="application">MPlayer</span>rel történ&#337;
  használatra készítettet (a lefordításához nem kell az svgalib forrás)
  <a href="http://www.mplayerhq.hu/~alex/svgalib_helper-1.9.17-mplayer.tar.bz2" target="_top">innen</a>.
  </p></li><li><p>
  Fordítsd le a modult az <tt class="filename">svgalib_helper</tt>
  könyvtárban (az <tt class="filename">svgalib-1.9.17/kernel/</tt>
  könyvtáron belül található, ha az svgalib oldaláról töltötted le a forrást) és
  insmod-old.
  </p></li><li><p>
  A <tt class="filename">/dev</tt> könyvtárban a megfelel&#337; eszközök
  létrehozásához add ki a <pre class="screen">make device</pre> parancsot az <tt class="filename">svgalib_helper</tt>
  könyvtárban rootként.
  </p></li><li><p>
  Mozgasd át az <tt class="filename">svgalib_helper</tt> könyvtárat az
  <tt class="filename">mplayer/main/libdha/svgalib_helper</tt>-be.
  </p></li><li><p>
  Szükséges, ha a forrást az svgalib oldaláról szerezted be: töröld a megjegyzést az
  "svgalib_helper"-t tartalmazó CFLAGS sor el&#337;l a
  <tt class="filename">libdha/Makefile</tt>-ban.
  </p></li><li><p>
  Fordítsd újra és telepítsd a libdha-t.
  </p></li></ol></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="vidix-ati"></a>2.3.2.13.1. ATI kártyák</h5></div></div><p>
Jelenleg a legtöbb ATI kártya natívan támogatott, a Mach64-t&#337;l a
legújabb Radeonokig.
</p><p>
Két lefordított bináris van: <tt class="filename">radeon_vid</tt> a Radeonhoz és
<tt class="filename">rage128_vid</tt> a Rage 128 kártyákhoz. El&#337;írhatsz egyet vagy
hagyhatod a VIDIX rendszernek automatikusan kipróbálni az összes elérhet&#337; vezérl&#337;t.
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="vidix-mga"></a>2.3.2.13.2. Matrox kártyák</h5></div></div><p>
A Matrox G200, G400, G450 és G550 m&#369;ködik a jelentések szerint.
</p><p>
A vezérl&#337; támogatja a videó equalizereket és majdnem olyan gyors, mint a
<a href="video.html#mga_vid" title="2.3.2.6. Matrox framebuffer (mga_vid)">Matrox framebuffer</a>.
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="vidix-trident"></a>2.3.2.13.3. Trident kártyák</h5></div></div><p>
Van egy vezérl&#337; a Trident Cyberblade/i1 chipset-hez, ami
a VIA Epia alaplapokon található.
</p><p>
A vezérl&#337;t
<a href="http://www.blackfiveservices.co.uk/EPIAVidix.shtml" target="_top">Alastair M. Robinson</a>
írta és tartja karban.
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="vidix-3dlabs"></a>2.3.2.13.4. 3DLabs kártyák</h5></div></div><p>
Habár van vezérl&#337; a 3DLabs GLINT R3 és Permedia3 chip-ekhez, senki sem
tesztelte le, így örömmel fogadjuk a jelentéseket.
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="vidix-nvidia"></a>2.3.2.13.5. nVidia kártya</h5></div></div><p>
Van egy eléggé új nVidia vezérl&#337;, tudvalev&#337;leg m&#369;ködik a Riva
128, TNT és GeForce2 chipset-ekkel, de a többi esetében is jelezték, hogy megy.
</p><div class="itemizedlist"><p><b>KORLÁTOZÁSOK</b></p><ul type="disc" compact><li><p>
  Ajánlatos a bináris nVidia vezérl&#337;k használata az X-szel, miel&#337;tt ezen VIDIX
  vezérl&#337;t használnád, mert néhány regiszter, melyek inicializálása szükséges,
  még nem lettek teljesen felderítve, így valószín&#369;leg sikertelen lesz a Nyílt
  Forráskódú XFree86 <tt class="filename">nv.o</tt> vezérl&#337;jével.
  </p></li><li><p>
  Jelenleg csak az UYVY színter&#369; kimenetre képes codec-ek m&#369;ködnek együtt ezzel
  ezzel a vezérl&#337;vel. Sajnos ez kizár minden egyes dekódolót a
  <tt>libavcodec</tt> családból. Emiatt a
  következ&#337; használható, népszer&#369; codec-ek maradnak:
  <tt>cvid, divxds, xvid, divx4, wmv7, wmv8</tt> és pár
  egyéb. Kérjük vedd figyelembe, hogy ez csak ideiglenes kényelmetlenség.
  A használati szintaxis a következ&#337;:
  <pre class="screen">
    mplayer -vf format=uyvy -vc divxds <i><tt>divx3file.avi</tt></i>
  </pre>
  </p></li></ul></div><p>
  Egy egyedülálló tulajdonsága az nvidia_vid vezérl&#337;nek a
  <span class="bold"><b>sima, egyszer&#369;, csak szöveges konzolon</b></span> történ&#337;
  videó megjelenítés - framebuffer vagy X varázslag és egyebek nélkül. Ehhez a
  <tt class="option">cvidix</tt> videó kimenetet kell használni, amint az itt látható:
  <pre class="screen">
    mplayer -vf format=uyvy -vc divxds -vo cvidix <i><tt>example.avi</tt></i>
  </pre>
</p><p>
Várjuk a visszajelzéseket!
</p></div><div class="sect4"><div class="titlepage"><div><h5 class="title"><a name="vidix-sis"></a>2.3.2.13.6. SiS kártyák</h5></div></div><p>
Ez nagyon kísérleti kód, csakúgy mint az nvidia_vid.
</p><p>
Tesztelték SiS 650/651/740-en (a leggyakrabban használt SiS chipset verziók
a "Shuttle XPC" dobozokban).
</p><p>
Várjuk a visszajelzéseket!
</p></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="directfb"></a>2.3.2.14. DirectFB</h4></div></div><blockquote class="blockquote"><p>
"A DirectFB egy grafikus függvénykönyvtár, amit a beágyazott rendszereket szem el&#337;tt
tartva terveztek meg. Maximális hardver gyorsítási teljesítményt ad minimális er&#337;forrás
felhasználással és terheléssel." - idézet a <a href="http://www.directfb.org" target="_top">http://www.directfb.org</a> oldalról
</p></blockquote><p>Ki fogom hagyni a DirectFB tulajdonságokat ebb&#337;l a fejezetb&#337;l.</p><p>
Mivel az <span class="application">MPlayer</span> nem támogatott, mint "video
provider" a DirectFB-ben, ez a kimeneti vezérl&#337; engedélyezi a videó lejátszást
DirectFB-n keresztül. Természetesen gyorsított lesz, az én Matrox G400-amon a DirectFB
sebessége majdnem megegyezik az XVideo-éval.
</p><p>
Mindig próbáld meg a DirectFB legújabb verzióját használni. Megadhatsz
DirectFB opciókat a parancssorban a <tt class="option">-dfbopts</tt> kapcsoló használatával.
A réteg választás egy aleszköz módszerével történhet, pl.: <tt class="option">-vo directfb:2</tt>
(-1-es réteg az alapértelmezett: automatikus keresés)
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="dfbmga"></a>2.3.2.15. DirectFB/Matrox (dfbmga)</h4></div></div><p>
Kérjük olvasd el a <a href="video.html#directfb" title="2.3.2.14. DirectFB">f&#337; DirectFB</a> részt az általános
információkért.
</p><p>
Ez a videó kimeneti vezérl&#337; engedélyezi a CRTC2-t (a második fejen) a Matrox
G400/G450/G550 kártyákon, a videót az els&#337; fejt&#337;l
<span class="bold"><b>függetlenül</b></span> jelenítve meg.
</p><p>
Ville Syrjala-nak van egy
<a href="http://www.sci.fi/~syrjala/directfb/Matrox_TV-out_README.txt" target="_top">README</a>-je
és egy
<a href="http://www.sci.fi/~syrjala/directfb/matrox-tv-out-howto" target="_top">HOWTO</a>-ja
a weboldalán, ami leírja, hogy hogyan hozhatod m&#369;ködésbe a DirectFB TV kimenetet a Matrox kártyákon.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
Az els&#337; DirectFB verzió, amit m&#369;ködésre tudtunk bírni a
0.9.17 volt (hibás, kell hozzá az a <tt>surfacemanager</tt>
javítás a fenti URL-r&#337;l). A CRTC2 kód portolását az
<a href="video.html#mga_vid" title="2.3.2.6. Matrox framebuffer (mga_vid)">mga_vid</a>-be évekig terveztük, a
<a href="../../tech/patches.txt" target="_top">javításokat</a> szívesen fogadjuk.
</p></div></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="mpeg_decoders"></a>2.3.3. MPEG dekóderek</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="dvb"></a>2.3.3.1. DVB kimenet és bemenet</h4></div></div><p>
Az <span class="application">MPlayer</span> támogatja a Siemens DVB chipset-tel szerelt
kártyákat olyan gyártóktól, mint a Siemens, Technotrend, Galaxis vagy a Hauppauge. A
legújabb DVB vezérl&#337;k elérhet&#337;ek a <a href="http://www.linuxtv.org" target="_top">Linux TV oldalról</a>.
Ha szoftveres átkódolást akarsz csinálni, legalább egy 1GHz-es CPU-ra lesz szükséged.
</p><p>
A configure megtalálja a DVB kártyádat. Ha mégsem, kényszerítheted:
</p><p><pre class="screen">./configure --enable-dvb</pre></p><p>Ha ost fejléc fájlaid vannak egy nem szabványos elérési útvonalon, add meg:</p><p><pre class="screen">./configure --with-extraincdir=<i><tt>DVB forrás könyvtár</tt></i>/ost/include
</pre></p><p>Majd fordíts és telepíts, mint rendesen.</p><p><b>HASZNÁLAT. </b>
A hardveres dekódolás (szabványos MPEG-1/2 fájlok lejátszása) elvégezhet&#337; ezzel a paranccsal:
</p><p>
<pre class="screen">mplayer -ao mpegpes -vo mpegpes <i><tt>file.mpg|vob</tt></i></pre>
</p><p>
A Szoftveres dekódolás vagy átkódolás különböz&#337; formátumokról MPEG-1-re egy ehhez hasonló
paranccsal érhet&#337; el:
</p><p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes <i><tt>yourfile.ext</tt></i>
mplayer -ao mpegpes -vo mpegpes -vf expand <i><tt>yourfile.ext</tt></i>
</pre></p><p>
Figyelj rá, hogy a DVB kártyák PAL esetén csak a 288-as és 576-os, NTSC esetén a 240-es és 480-as
magasságokat ismerik. <span class="bold"><b>Muszáj</b></span> átméretezned más magassághoz a
<tt class="option">scale=szélesség:magasság</tt> kapcsolóval és a kívánt szélesség és magasság
megadásával a <tt class="option">-vf</tt> kapcsolónál. A DVB kártyák számos szélességet elfogadnak,
mint például 720, 704, 640, 512, 480, 352 stb. és hardveres méretezést alkalmaznak vízszintes
irányban, így a legtöbb esetben nem kell vízszintesen méretezned. Egy 512x384 (4:3 arányú)
MPEG-4 (DivX)-hez:
</p><p><pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf scale=512:576</pre></p><p>Ha szélesvásznú filmed van és nem akarod átméretezni teljes magasságúra,
használhatod az <tt class="option">expand=w:h</tt> sz&#369;r&#337;t a fekete sávok hozzáadásához. Egy
640x384 MPEG-4 (DivX) megnézésénél:
</p><p>
<pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf expand=640:576 <i><tt>file.avi</tt></i>
</pre>
</p><p>
Ha a CPU-d túl lassú a teljes méret&#369; 720x576 MPEG-4 (DivX)-hez, próbáld meg leméretezni:
</p><p>
<pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf scale=352:576 <i><tt>file.avi</tt></i>
</pre>
</p><p>Ha a sebesség nem javul, próbáld meg a függ&#337;leges leméretezést is:</p><p>
<pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf scale=352:288 <i><tt>file.avi</tt></i>
</pre>
</p><p>
Az OSD és a feliratokhoz használd az expand sz&#369;r&#337; OSD tulajdonságát. Így, az
<tt class="option">expand=w:h</tt> vagy <tt class="option">expand=w:h:x:y</tt> helyett írj
<tt class="option">expand=w:h:x:y:1</tt>-et (az ötödik paraméter, a <tt class="option">:1</tt>
a végén engedélyezi az OSD render-elést). A képet egy kicsit feljebb szeretnéd
vinnni valószín&#369;leg, hogy nagyobb hely maradjon a feliratoknak. Vagy akár a
feliratokat is felviheted, ha a TV képerny&#337;jén kívülre esnek, használd a
<tt class="option">-subpos &lt;0-100&gt;</tt> kapcsolót ennek beállításához
(a <tt class="option">-subpos 80</tt> egy jó választás).
</p><p>
A nem-25fps-es filmek PAL TV-n vagy lassú CPU-n való lejátszásához még add hozzá a
<tt class="option">-framedrop</tt> kapcsolót.
</p><p>
Az MPEG-4 (DivX) fájlok méretarányának megtartásához és az optimális méretezési
paraméterekhez (hardveres vízszintes és szoftveres függ&#337;leges méretezés a helyes
méretarány megtartásával) használd az új dvbscale sz&#369;r&#337;t:
</p><p><pre class="screen">
for a  4:3 TV: -vf dvbscale,scale=-1:0,expand=-1:576:-1:-1:1
for a 16:9 TV: -vf dvbscale=1024,scale=-1:0,expand=-1:576:-1:-1:1
</pre></p><p><b>Digital TV (DVB bemeneti modul). </b>A DVB kártyád segítségével digitalis TV-t is nézhetsz.</p><p>
  A <b>scan</b> és <b>szap/tzap/czap/azap</b> programoknak
  telepítve kell lenniük; mind benne vannak a drivers csomagban.
</p><p>
  Ellen&#337;rizd, hogy a vezérl&#337;id megfelel&#337;en m&#369;ködnek egy olyan programmal, mint a
  <a href="http://sf.net/projects/dvbtools/" target="_top"><b>dvbstream</b></a>
  (ez a DVB bemeneti modul alapja).
</p><p>
  Most már fordíthatsz egy <tt class="filename">~/.mplayer/channels.conf</tt>
  fájlt, a <b>szap/tzap/czap/azap</b> által elfogadott szintaktikával, vagy
  engeded a <b>scan</b>nek, hogy elkészítse neked.
</p><p>
  Ha több típusú kártyád van (pl. m&#369;holdas, földi, kábel és ATSC), a csatorna
  fájlokat elmentheted
  <tt class="filename">~/.mplayer/channels.conf.sat</tt>,
  <tt class="filename">~/.mplayer/channels.conf.ter</tt>,
  <tt class="filename">~/.mplayer/channels.conf.cbl</tt>,
  és <tt class="filename">~/.mplayer/channels.conf.atsc</tt> néven,
  így az <span class="application">MPlayer</span>nek implicit javaslod ezen
  fájlok használatát a <tt class="filename">~/.mplayer/channels.conf</tt> helyett
  és csak azt kell megadnod, hogy melyik kártyát akarod használni.
</p><p>
  Gy&#337;z&#337;dj meg róla, hogy <span class="emphasis"><i>csak</i></span> Free to Air
  csatornák vannak a <tt class="filename">channels.conf</tt> fájlodban, vagy
  az <span class="application">MPlayer</span> a következ&#337; nézhet&#337;ig ugrik,
  de ez sokáig tart, ha egymás után sok kódolt csatorna van.
</p><p>
  Az audió és a videó mez&#337;kidben használhatsz kiterjesztett szintaxist:
  <tt class="option">...:pid[+pid]:...</tt> (egyenként maximálisan 6 pid);
  ebben az esetben az <span class="application">MPlayer</span> beleveszi a
  stream-be az összes jelzett pid-et, plusz a pid 0-t (ami a PAT-ot
  tartalmazza). Javasolt a PMT pid bevétele minden sorba a megfelel&#337;
  csatornáknál (ha tudod).
  Egyéb lehet&#337;ségek: televideo pid, második audió sáv, stb.
</p><p>
  A csatornák beállításainak kilistázásához futtast ezt:
</p><pre class="screen">
  mplayer dvb://
</pre><p>
  Ha egy adott csatornát akarsz nézni, mint pl. az R1-et, írd be:
</p><pre class="screen">
  mplayer dvb://R1
</pre><p>
  Ha egynél több kártyád van, meg kell adnod a kártya számát is,
  ahol a csatorna látható (pl. 2) az alábbi szintaxissal:
</p><pre class="screen">
  mplayer dvb://2@R1
</pre><p>
  A csatornaváltáshoz nyomd meg a <span class="keycap"><b>h</b></span> (következ&#337;) vagy a
  <span class="keycap"><b>k</b></span> (el&#337;z&#337;) gombot vagy használd az OSD menüt (m&#369;köd&#337;
  <a href="subosd.html" title="1.4. Feliratok és OSD">OSD alrendszer</a> kell hozzá).
</p><p>
  Ha a <tt class="filename">~/.mplayer/menu.conf</tt> fájlod tartalmazza a
  <tt>&lt;dvbsel&gt;</tt> bejegyzést, úgy, mint az
  <tt class="filename">etc/dvb-menu.conf</tt> példafájl (ezt felhasználhatod a
  <tt class="filename">~/.mplayer/menu.conf</tt> fájl felülírásához), a f&#337; menüben
  egy al-menü bejegyzést láthatsz, aminek a segítségével választhatsz a
  <tt class="filename">channels.conf</tt>-ban el&#337;re beállított csatornák közül,
  melyet az elérhet&#337; kártyák listája követhet, ha egynél több
  <span class="application">MPlayer</span> által használható kártya van.
</p><p>
  Ha el akarod menteni a programot a lemezre, használhatod az alábbi parancsot:
</p><pre class="screen">
  mplayer -dumpfile r1.ts -dumpstream dvb://R1
</pre><p>
  Ha inkább másik formátumban akarsz rögzíteni (újrakódolni), kiadhatsz egy
  ehhez hasonló parancsot:
</p><pre class="screen">
  mencoder -o r1.avi -ovc xvid -xvidencopts bitrate=800 -oac mp3lame -lameopts cbr:br=128 -pp=ci dvb://R1
</pre><p>
  Olvasd el a man oldalt a kapcsolók listájához, amiket megadhatsz a DVB bemeneti modulnak.
</p><p><b>A JÖV&#336;. </b>
Ha kérdésed van vagy további bejelentésekr&#337;l szeretnél tudomást szerezni és
részt venni a beszélgetéseinkben, csatlakozz az
<a href="http://mplayerhq.hu/mailman/listinfo/mplayer-dvb" target="_top">MPlayer-DVB</a>
levelezési listához. Kérjük vedd figyelembe, hogy a lista nyelve az angol.
</p><p>
A jöv&#337;ben tervezzük a DVB kártyák által biztosított natív OSD használatát az
OSD menü és a feliratok megjelenítéséhez, valamint a nem-25fps-es filmek sokkal
folyékonyabb lejátszását és a valós idej&#369; átkódolást MPEG-2 és MPEG-4
között (részleges kitömörítés).
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="dxr2"></a>2.3.3.2. DXR2</h4></div></div><p>Az <span class="application">MPlayer</span> támogatja a hardveresen gyorsított
lejátszást a Creative DXR2 kártyával.</p><p>
Mindenek el&#337;tt megfelel&#337;en telepített DXR2 vezérl&#337; kell. A vezérl&#337;t és
a telepítési útmutatót megtalálhatod a 
<a href="http://dxr2.sf.net/" target="_top">DXR2 Resource Center</a> oldalán.
</p><div class="variablelist"><p><b>HASZNÁLAT</b></p><dl><dt><span class="term"><tt class="option">-vo dxr2</tt></span></dt><dd><p>TV kimenet bekapcsolása</p></dd><dt><span class="term"><tt class="option">-vo dxr2:x11</tt> vagy <tt class="option">-vo dxr2:xv</tt></span></dt><dd><p>átlapolásos kimenet bekapcsolása X11-en</p></dd><dt><span class="term"><tt class="option">-dxr2 &lt;opció1:opció2:...&gt;</tt></span></dt><dd><p>Ezzel a kapcsolóval a DXR2 vezérl&#337; irányítható.</p></dd></dl></div><p>
A DXR2-n használt átlapolásos chipset elég rossz min&#337;ség&#369;, de az alapértelmezett
beállítások mindenkinél m&#369;ködnek. Az OSD használható az átlapolással
(nem TV-n) a színkulcsban történi kirajzolással. Az alapértelmezett színkulcs
beállításokkal változó eredményeket kaphatsz, valószín&#369;leg látni fogod a színkulcsot
a karakterek körül vagy más egyéb érdekes effektet. De ha megfelel&#337;en beállítod
a színkulcsot, elfogadható eredményt kapsz.
</p><p>Kérjük nézd meg a man oldalt a használható kapcsolókhoz.</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="dxr3"></a>2.3.3.3. DXR3/Hollywood+</h4></div></div><p>
Az <span class="application">MPlayer</span> támogatja a hardveresen gyorsított lejátszást
a Creative DXR3 és Sigma Designs Hollywood Plus kártyákkal. Ezek a kártyák
a Sigma Designs em8300 MPEG dekódoló chip-jét használják.
</p><p>
Mindenek el&#337;tt megfelel&#337;en telepített DXR3/H+ vezérl&#337; kell, 0.12.0 verziójú
vagy régebbi. A vezérl&#337;ket és a telepítési utasításokat megtalálhatod a
<a href="http://dxr3.sf.net/" target="_top">DXR3 &amp; Hollywood Plus for Linux</a>
oldalon. A <tt class="filename">configure</tt>nak automatikusan meg kell találnia
a kártyádat, és a fordításnak hiba nélkül le kell futnia.
</p><div class="variablelist"><p><b>HASZNÁLAT</b></p><dl><dt><span class="term"><tt class="option">-vo dxr3:prebuf:sync:norm=x:<i><tt>eszköz</tt></i></tt></span></dt><dd><p>
Az <tt class="option">overlay</tt> az átlapolást aktiválja a TVOut helyett. A helyes
m&#369;ködéshez megfelel&#337;en beállított overlay setup kell. A legegyszer&#369;bb út
az átlapolás beállításához el&#337;ször az autocal majd az mplayer futtatása
dxr3 kimenettel és az átlapolás bekapcsolása nélkül futtasd a dxr3view-t. A
dxr3view-ban állíthatsz az átlapolási beállításokon és láthatod az effekteket
valós id&#337;ben, talán ezt a funkciót az <span class="application">MPlayer</span> GUI
is támogatni fogja a jöv&#337;ben. Ha az átlapolás megfelel&#337;en be lett állítva,
többet nem kell használnod a dxr3view-t. A <tt class="option">prebuf</tt> bekapcsolja az
el&#337;bufferelést. Az el&#337;bufferelés az em8300 chip egy olyan képessége, mellyel
egynél több képkockát tud megtartani egy id&#337;ben. Ez azt jelenti, hogy ha
el&#337;buffereléssel futtatod az <span class="application">MPlayer</span>t, az megpróbálja
folyamatosan tele tartani a videó buffert adatokkal. Ha lassú gépen vagy, az
<span class="application">MPlayer</span> közel vagy pontosan 100% CPU kihasználtságot
fog okozni. Ez különösen gyakori ha egyszer&#369; MPEG streamet játszasz le (pl. DVD-k,
SVCD-k, stb.), mivel ekkor az <span class="application">MPlayer</span>nek nem kell
újrakódolnia MPEG-be, és nagyon gyorsan tölti a buffert.
Az el&#337;buffereléssel a videó lejátszás <span class="bold"><b>sokkal</b></span>
kevésbé érzékeny az többi program CPU foglalására, nem fog képkockát eldobni,
hacsak az alkalmazások nem foglalják túl hosszú ideig a CPU-t. Ha el&#337;bufferelés
nélkül futtatod, az em8300 sokkal érzékenyebb a CPU terhelésre, így nagyon
javasolt, hogy használd az <span class="application">MPlayer</span>
<tt class="option">-framedrop</tt> kapcsolóját a további szinkronvesztés elkerüléséhez.
A <tt class="option">sync</tt> bekapcsolja az új szinkron-motort. Ez jelenleg még
egy tesztelés alatt lév&#337; képesség. A bekapcsolt szinkron tulajdonsággal az
em8300 bels&#337; órája folyamatosan figyelve lesz, és ha eltér az
<span class="application">MPlayer</span> órájától, resetel, ezzel az em8300-t az összes
hátralév&#337; képkocka eldobására kényszeríti.
A <tt class="option">norm=x</tt> beállítja a DXR3 kártya TV normáját küls&#337; segédeszköz,
pl. em8300setup nélkül. A helyes norma értékek: 5 = NTSC, 4 = PAL-60, 3 = PAL.
Speciális norma a 2 (auto-beállítás PAL/PAL-60 használatával) és az 1
(auto-beállítás PAL/NTSC használatával) mivel ezek a film képkocka rátájának
segítségével állapítják meg a normát. A norm = 0 (alapértelmezett) nem változtat
a jelenlegi normán.
<tt class="option"><i><tt>eszköz</tt></i></tt> = a használni kívánt eszköz
száma több em8300 kártya esetén.
Ezen opciók bármelyike elhagyható.
<tt class="option">:prebuf:sync</tt> látszólag nagyszer&#369;en m&#369;ködik MPEG-4 (DivX) filmek
lejátszásakor. Többen problémákról számoltak be MPEG-1/2 fájlok lejátszásakor
bekapcsolt prebuf esetén. El&#337;ször mindenféle opció nélkül nézd meg, majd ha
szinkron vagy DVD felirat problémáid vannak, adj egy esélyt a
<tt class="option">:sync</tt>-nek.
</p></dd><dt><span class="term"><tt class="option">-ao oss:/dev/em8300_ma-<i><tt>X</tt></i></tt></span></dt><dd><p>
Audió kimenethez, ahol az <i><tt>X</tt></i> az eszköz száma (0 ha egy kártya).
</p></dd><dt><span class="term"><tt class="option">-af resample=<i><tt>xxxxx</tt></i></tt></span></dt><dd><p>
A em8300 nem tud lejátszani 44100Hz-nél alacsonyabb mintavétel&#369; hangot. Ha a
mintavételi ráta 44100Hz alatt van, válassz 44100Hz-et vagy 48000Hz-et, attól
függ&#337;en, hogy melyik van közelebb. Pl. ha egy film 22050Hz-et használ, válaszd
a 44100Hz-et, mivel 44100 / 2 = 22050, ha 24000Hz-et, válaszd a 48000Hz-et, mert
48000 / 2 = 24000 és így tovább.
Ez nem m&#369;ködik digitális audió kimenettel (<tt class="option">-ac hwac3</tt>).
</p></dd><dt><span class="term"><tt class="option">-vf lavc/fame</tt></span></dt><dd><p>
Nem-MPEG tartalom em8300-on történ&#337; nézéséhez (pl. MPEG-4 (DivX) vagy RealVideo)
meg kell adnod egy MPEG-1 videó sz&#369;r&#337;t, mint pl. a
<tt>libavcodec</tt> (lavc) vagy a
<tt>libfame</tt> (fame). Jelenleg
a lavc gyorsabb is és jobb képmin&#337;séget is ad, javaslom, hogy ezt
használd, hacsak nincs problémád vele. Lásd a man oldalt a további
infókért a <tt class="option">-vf lavc/fame</tt> kapcsolóról.
A lavc használata nagyon javasolt. Jelenleg nem lehet az em8300 fps értékét
módosítani, ami azt jelenti, hogy fixen 30000/1001 fps. Emiatt javasolt a
<tt class="option">-vf lavc=<i><tt>min&#337;ség</tt></i>:25</tt> kapcsoló
használata, különösen ha el&#337;bufferelést használsz. Hogy miért 25 és nem
30000/1001? Nos, a dolog úgy áll, hogy ha 30000/1001-et használsz, a kép kicsit
ugrálós lesz. Ennek az okát nem tudjuk. Ha beállítod valahova 25 és 27
közé, a kép stabillá válik. Jelenleg mást nem tehetünk, elfogadjuk ezt
tényként.
</p></dd><dt><span class="term"><tt class="option">-vf expand=-1:-1:-1:-1:1</tt></span></dt><dd><p>
Habár a DXR3 vezérl&#337; tud némi OSD-t tenni az MPEG-1/2/4 videóra,
sokkal rosszabb min&#337;sége van, mint az <span class="application">MPlayer</span>
tradícionális OSD-jének és számos frissítési problémája is van. A fenti
parancssor el&#337;ször is átkonvertálja a bemeneti videót MPEG-4-be (ez szükséges,
bocs), majd alkalmazza rá az expand sz&#369;r&#337;t, ami nem terjeszt ki semmit
(-1: alapértelmezett), de a normális OSD-t teszi a képre (ezt csinálja az
"1" a végén).
</p></dd><dt><span class="term"><tt class="option">-ac hwac3</tt></span></dt><dd><p>
A em8300 támogatja az AC3 audió lejátszását (térhatású hang) a kártya
digitális audió kimenetén keresztül. Lásd a <tt class="option">-ao oss</tt>
kapcsolót fent, a DXR3 kimenetének meghatározására használható a
hangkártya helyett.
</p></dd></dl></div></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="other"></a>2.3.4. Egyéb vizualizációs hardverek</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="zr"></a>2.3.4.1. Zr</h4></div></div><p>
Ez egy képerny&#337;-vezérl&#337; (<tt class="option">-vo zr</tt>) számos MJPEG
ment&#337;/lejátszó kártyához (DC10+ és Buz-zal tesztelve, és m&#369;ködnie kell
LML33, a DC10 esetén is). A vezérl&#337; úgy m&#369;ködik, hogy kódolja a képkockát
JPEG-be majd kiküldi a kártyára. A JPEG kódoláshoz a
<tt>libavcodec</tt>-et használja, ami
ezért szükséges hozzá. Egy speciális <span class="emphasis"><i>cinerama</i></span> móddal
igazi nagyképerny&#337;n nézhetsz filmeket, feltéve, hogy két felvev&#337;d és két
MJPEG kártyád van. A felbontástól és a min&#337;ségi beállításoktól függ&#337;en ez
a vezérl&#337; rengeteg CPU er&#337;t igényel, ne felejtsd el megadni a
<tt class="option">-framedrop</tt> kapcsolót, ha lassú a géped.
Megjegyzés: Az én AMD K6-2 350MHz-es gépem (<tt class="option">-framedrop</tt>-pal)
eléggé elfogadható volt VCD méret&#369; anyag nézésekor és
leméretezett filmnél.
</p><p>
Ez a vezérl&#337; a <a href="http://mjpeg.sf.net" target="_top">http://mjpeg.sf.net</a> címen található kernel
vezérl&#337;vel társalog, így el&#337;ször ezt kell beizzítanod. Az MJPEG kártya
jelenléte automatikusan detektálva lesz a
<tt class="filename">configure</tt> script által, ha ez nem sikerül, kényszerítsd
a detektálásra a <pre class="screen">./configure --enable-zr</pre> kapcsolóval.
</p><p>
A kimenet számos kapcsolóval szabályozható, a kapcsolók hosszú leírással
megtalálhatóak a man oldalon, egy rövidebb listát a
<pre class="screen">mplayer -zrhelp</pre>
parancs lefuttatásával kaphatsz.
</p><p>
Az olyan dolgokat, mint méretezés és OSD (on screen display) ez a vezérl&#337;
nem kezeli, de megoldhatóak videó sz&#369;r&#337;kkel. Például tegyük fel, hogy van
egy filmed 512x272-es felbontással és teljes képerny&#337;n akarod nézni a
DC10+-eden. Három lehet&#337;séged van, méretezned kell a filmet 768, 384 vagy
192-es szélességre. Teljesítmény és min&#337;ségi okokból én a 384x204-re való
méretezést választanám, gyors bilineáris szoftveres méretez&#337; használatával.
A parancssor:
<pre class="screen">
mplayer -vo zr -sws 0 -vf scale=384:204 <i><tt>movie.avi</tt></i>
</pre>
</p><p>
A levágás a <tt class="option">crop</tt> sz&#369;r&#337; segítségével valósítható meg és
magával a vezérl&#337;vel. Feltéve, hogy a film túl széles a megjelenítéshez
a Buz-odon és hogy a <tt class="option">-zrcrop</tt>-ot akarod használni a film
sz&#369;kítéséhez, a következ&#337; parancs a te barátod:
<pre class="screen">
mplayer -vo zr -zrcrop 720x320+80+0 <i><tt>benhur.avi</tt></i>
</pre>
</p><p>
Ha használni akarod a <tt class="option">crop</tt> sz&#369;r&#337;t, ez kell:
<pre class="screen">
mplayer -vo zr -vf crop=720:320:80:0 <i><tt>benhur.avi</tt></i>
</pre>
</p><p>
Extra esetben a <tt class="option">-zrcrop</tt> meghívja a <span class="emphasis"><i>cinerama</i></span>
módot, pl. a filmet több TV vagy beamer között sugározhatod egy nagyobb kép
létrehozásához. Feltéve, hogy két beamer-ed van. A bal oldali a Buz-odhoz
csatlakozik a <tt class="filename">/dev/video1</tt>-en, a jobb oldali a DC10+-odhoz
a <tt class="filename">/dev/video0</tt>-án. A film felbontása 704x288. Továbbá
tegyük fel azt is, hogy a jobb beamer-t fekete-fehéren szeretnéd, a balnak
pedig 10-es min&#337;ség&#369; JPEG képeket kell adnia. Ekkor a következ&#337; parancsot kell
használnod:
<pre class="screen">
mplayer -vo zr -zrdev /dev/video0 -zrcrop 352x288+352+0 -zrxdoff 0 -zrbw \
          -zrcrop 352x288+0+0 -zrdev /dev/video1 -zrquality 10 \
	  <i><tt>movie.avi</tt></i>
</pre>
</p><p>
Láthatod, hogy a második <tt class="option">-zrcrop</tt> el&#337;tt felt&#369;n&#337; opciók csak
a DC10+-re, a második <tt class="option">-zrcrop</tt> után lév&#337;k csak a Buz-ra
vonatkoznak. A <span class="emphasis"><i>cinerama</i></span>-ban használható MJPEG kártyák
maximális száma négy, így egy 2x2-es vidi-falat építhetsz.
</p><p>
Végül egy fontos megjegyzés: Ne indítsd el vagy állítsd meg a XawTV-t a lejátszó
eszközön a lejátszás alatt, ez összeomlasztja a számítógépedet. Legjobb
<span class="bold"><b>EL&#336;SZÖR</b></span> elindítani a XawTV-t, <span class="bold"><b>EZUTÁN</b></span>
elindítani az <span class="application">MPlayer</span>t, várni, míg az <span class="application">MPlayer</span>
végez, és <span class="bold"><b>EZUTÁN</b></span> megállítani a XawTV-t.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="blinkenlights"></a>2.3.4.2. Blinkenlights</h4></div></div><p>
Ez a vezérl&#337; képes a lejátszásra a Blinkenlights UDP protokol felhasználásával.
Ha nem tudod, hogy mi az a <a href="http://www.blinkenlights.de/" target="_top">Blinkenlights</a>,
vagy az utóda az <a href="http://www.blinkenlights.de/arcade/" target="_top">Arcade</a>,
nézz utána. Habár ez a legutoljára használt videó kimeneti vezérl&#337;, kétségkívül ez
a legjobb, amit az <span class="application">MPlayer</span> nyújtani tud. Csak nézz meg
pár <a href="http://www.blinkenlights.de/video.en.html" target="_top">Blinkenlights dokumentációs
videót</a>.
Az Arcade videóban láthatod a Blinkenlights kimeneti vezérl&#337;t akcióban a
00:07:50-en.
</p></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="tvout"></a>2.3.5. TV-kimenet támogatás</h3></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="tvout-mga-g400"></a>2.3.5.1. Matrox G400 kártyák</h4></div></div><p>
Linux alatt két módon bírhatod m&#369;ködésre a G400 TV kimenetét:
</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Fontos</h3><p>
a Matrox G450/G550 TV-kimenet utasításaiért lásd a következ&#337; részt!
</p></div><div class="variablelist"><dl><dt><span class="term">XFree86</span></dt><dd><p>
    A vezérl&#337; és a HAL modul használatával, mely elérhet&#337; a <a href="http://www.matrox.com" target="_top">Matrox oldalán</a>. Ezzel X-et kapsz a TV-n.
    </p><p>
    <span class="bold"><b>Ez a módszer nem nyújt gyorsított lejátszást</b></span>
    Windows alatt! A második fejnek csak YUV framebuffer-e van, a <span class="emphasis"><i>BES</i></span>
    (Back End Scaler, a YUV méretez&#337; a G200/G400/G450/G550 kártyákon) nem
    m&#369;ködik rajta! A Windows-os vezérl&#337;k ezt valahogy megkerülik, talán 3D motort
    használnak a nagyításhoz és a YUV framebuffer-t a nagyított képek
    megjelenítéséhez. Ha tényleg X-et akarsz használni, válaszd a <tt class="option">-vo x11 -fs
    -zoom</tt> kapcsolókat, de <span class="bold"><b>LASSÚ</b></span> lesz,
    és <span class="bold"><b>Macrovision</b></span> másolásvédelem van rajta
    (ezzel a <a href="http://avifile.sf.net/mgamacro.pl" target="_top">perl script</a>-tel
    "megkerülheted" a Macrovisiont).
    </p></dd><dt><span class="term">Framebuffer</span></dt><dd><p>
    A 2.4-es kernelekben lév&#337; <span class="bold"><b>matroxfb modulok</b></span>
    használatával. A 2.2-es kernel-ekben nincs TVout tulajdonság hozzájuk, így
    használhatatlanok erre. Engedélyezned kell az ÖSSZES matroxfb-specifikus
    tulajdonságot a fordítás alatt (kivéve a MultiHead-et) és
    <span class="bold"><b>modulokba</b></span> kell fordítanod!
    Az engedélyezett I2C-re is szükséged lesz.
    </p><div class="procedure"><ol type="1"><li><p>
      Lépj be a <tt class="filename">TVout</tt>-ba és írd be:
      <b>./compile.sh</b>. Telepítsd a
      <tt class="filename">TVout/matroxset/matroxset</tt>-et
      valahova a <tt>PATH</tt>-odon belülre.
      </p></li><li><p>
      Ha nincs telepítve <b>fbset</b>-ed, tedd a
      <tt class="filename">TVout/fbset/fbset</tt>-et
      valahova a <tt>PATH</tt>-odba.
      </p></li><li><p>
      Ha nincs <b>con2fb</b>-ed telepítve, tedd a
      <tt class="filename">TVout/con2fb/con2fb</tt>-t
      valahova a <tt>PATH</tt>-odba.
      </p></li><li><p>
      Majd lépj be a <tt class="filename">TVout/</tt> könyvtárba
      az <span class="application">MPlayer</span> forrásában és futtasd le a
      <tt class="filename">./modules</tt>-t root-ként. A szöveges módú konzolod
      átvált framebuffer módba (nincs visszaút!).
      </p></li><li><p>
      Ezután ÍRD ÁT és futtasd a <tt class="filename">./matroxtv</tt> script-et. Ez
      egy roppant egyszer&#369; menüt kínál neked. Nyomd meg a <span class="keycap"><b>2</b></span>-est
      és az <span class="keycap"><b>Enter</b></span>-t. Most már ugyan azt a képet kell látnod
      a monitorodon és a TV-n. ha a TV (PAL alapértelmezettként)
      képén furcsa csíkok vannak, a script nem tudta beállítani jól a
      felbontást (640x512-ra alapesetben). Próbálj meg másik felbontást
      a menüb&#337;l és/vagy kísérletezz az fbset-tel.
      </p></li><li><p>
      Yoh. A következ&#337; dolog, hogy a kurzort elt&#369;ntesd a tty1-r&#337;l (vagy akármir&#337;l)
      és kikapcsold a képerny&#337; törlést. Futtasd le a következ&#337; parancsokat:

      <pre class="screen">
echo -e '\033[?25l'
setterm -blank 0</pre>
      vagy
      <pre class="screen">
setterm -cursor off
setterm -blank 0</pre>

      A fentieket valószín&#369;leg beleírod egy script-be, egy képerny&#337; törléssel együtt.
      A kurzor visszakapcsolása:
      <pre class="screen">echo -e '\033[?25h'</pre> vagy
      <pre class="screen">setterm -cursor on</pre>
      </p></li><li><p>
      Yeah sirály. Indítsd el a film lejátszást:
      <pre class="screen">
mplayer -vo mga -fs -screenw 640 -screenh 512 <i><tt>filename</tt></i></pre>

      (Ha X-et használsz, most válts át matroxfb-re, például a
      <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F1</b></span> gombokkal.)
      Változtasd meg a <tt>640</tt>-et és az <tt>512</tt>-t,
      ha másra állítottad a felbontást...
      </p></li><li><p>
      <span class="bold"><b>Élvezd az ultra-gyors ultra-különleges Matrox TV
      kimenetet (jobb mint az Xv)!</b></span>
      </p></li></ol></div></dd></dl></div><p><b>Matrox TV-kimeneti kábel készítése. </b>
Senki sem vállal ezért semmilyen felel&#337;sséget, sem garanciát bármilyen,
ezen leírásból származó kárért.
</p><p><b>Kábel a G400-hoz. </b>
A CRTC2 csatlakozójának negyedik pin-je a kompozit videó jel. A
földelés a hatodik, hetedik és nyolcadik pin. (az infót Rácz Balázs
adta)
</p><p><b>Kábel a G450-hez. </b>
A CRTC2 csatlakozójának els&#337; pin-je a kompozit videó jel. A
földelés az ötödik, hatodik, hetedik és tizenötödik (5, 6, 7, 15)
pin. (az infót Kerekes Balázs adta)
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="tv-out_matrox_g450"></a>2.3.5.2. Matrox G450/G550 kártyák</h4></div></div><p>
A TV kimenet támogatása ezeken a kártyákon csak nemrég jelent meg, és még
nincs a a f&#337; kernelben. Jelenleg az <span class="bold"><b>mga_vid</b></span>
modul nem használható AFAIK, mert a G450/G550-es vezérl&#337; csak egy konfigurációban
m&#369;ködik: az els&#337; CRTC chip (a sokkal több képességgel) az els&#337; képerny&#337;n
(a monitoron) és a második CRTC (nincs <span class="bold"><b>BES</b></span> - a
BES magyarázatához lásd a G400-as részt fent) TV-n. Így csak az
<span class="application">MPlayer</span> <span class="emphasis"><i>fbdev</i></span> kimeneti
vezérl&#337;jét használhatod jelenleg.
</p><p>
Az els&#337; CRTC nem irányítható át a második fejre jelenleg. A matroxfb kernel
vezérl&#337; szerz&#337;je - Petr Vandrovec - talán készít támogatást ehhez, az
els&#337; CRTC kimenetét egyszerre mindkét fejen megjelenítve, mint ahogy most is
javasolt a G400-on, lásd a fenti részt.
</p><p>
A szükséges kernel javítás és a b&#337;vebb HOWTO letölthet&#337;:
<a href="http://www.bglug.ca/matrox_tvout/" target="_top">http://www.bglug.ca/matrox_tvout/</a>
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="tvout-ati"></a>2.3.5.3. ATI kártyák</h4></div></div><p><b>BEVEZETÉS. </b>
Jelenleg az ATI nem akarja támogatni semelyik TV-out chip-jét sem Linux alatt,
a licenszelt Macrovision technológiájuk miatt.
</p><div class="itemizedlist"><p><b>ATI KÁRTYÁK TV-KIMENETÉNEK ÁLLAPOTA LINUXON</b></p><ul type="disc"><li>
  <span class="bold"><b>ATI Mach64</b></span>:
  támogatja a <a href="http://gatos.sf.net" target="_top">GATOS</a>.
  </li><li>
  <span class="bold"><b>ASIC Radeon VIVO</b></span>:
  támogatja a <a href="http://gatos.sf.net" target="_top">GATOS</a>.
  </li><li>
  <span class="bold"><b>Radeon</b></span> és <span class="bold"><b>Rage128</b></span>:
  támogatja az <span class="application">MPlayer</span>!
  Lásd a <a href="video.html#vesa" title="2.3.2.11. VESA - kimenet a VESA BIOS-hoz">VESA vezérl&#337;</a> és
  a <a href="video.html#vidix" title="2.3.2.13. VIDIX">VIDIX</a> részt.
  </li><li>
  <span class="bold"><b>Rage Mobility P/M, Radeon, Rage 128, Mobility M3/M4</b></span>:
  támogatja az <a href="http://www.stud.uni-hamburg.de/users/lennart/projects/atitvout/" target="_top">atitvout</a>.
  </li></ul></div><p>
Egyéb kártyák esetében lásd a <a href="video.html#vesa" title="2.3.2.11. VESA - kimenet a VESA BIOS-hoz">VESA</a> vezérl&#337;t,
VIDIX nélkül. Bár ehhez er&#337;s CPU kell.
</p><p>
Az egyeten dolog, amit tenned kell - <span class="bold"><b>Be kell dugnod a
TV csatlakozóját, miel&#337;tt bekapcsolnád a PC-t</b></span> mivel a videó BIOS
csak egyszer, a POST folyamat során inicializálja magát.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="tvout-voodoo"></a>2.3.5.4. Voodoo 3</h4></div></div><p>
Nézd meg <a href="http://www.iki.fi/too/tvout-voodoo3-3000-xfree" target="_top">ezt az URL-t</a>.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="tvout-nvidia"></a>2.3.5.5. nVidia</h4></div></div><p>
El&#337;ször le KELL töltened a zárt-forrású vezérl&#337;t az <a href="http://nvidia.com" target="_top">http://nvidia.com</a>-ról.
Nem írom le a telepítés és a konfiguráció lépéseit, mert ez nem tartozik ezen
dokumentáció céljához.
</p><p>
Miután az XFree86, az XVideo és a 3D gyorsítás is megfelel&#337;en m&#369;ködik, írd
át a kártya Device részét az <tt class="filename">XF86Config</tt> fájlban, a
következ&#337; példának megfelel&#337;en (a te kártyádhoz/TV-dhez igazítva):

<pre class="programlisting">
Section "Device"
        Identifier      "GeForce"
        VendorName      "ASUS"
        BoardName       "nVidia GeForce2/MX 400"
        Driver          "nvidia"
        #Option         "NvAGP" "1"
        Option          "NoLogo"
        Option          "CursorShadow"  "on"

        Option          "TwinView"
        Option          "TwinViewOrientation" "Clone"
        Option          "MetaModes" "1024x768,640x480"
        Option          "ConnectedMonitor" "CRT, TV"
        Option          "TVStandard" "PAL-B"
        Option          "TVOutFormat" "Composite"

EndSection
</pre>
</p><p>
Természetesen a legfontosabb a TwinView rész.
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="tvout-neomagic"></a>2.3.5.6. NeoMagic</h4></div></div><p>
A NeoMagic chip számos laptop-ban megtalálható, pár közülük egy egyszer&#369;
analóg TV kódolóval van felszerelve, mások sokkal fejlettebbel rendelkeznek.
</p><div class="itemizedlist"><ul type="disc"><li><p>
  <span class="bold"><b>Analóg kódoló chip</b></span>:
  Tesztelve Toshiba Tecra 8000-en. A TV kimeneti chip-je egy kalap szar.
  Kerüld el ha teheted.
  </p><p>
  A <tt class="option">-vo vesa</tt>-t kell használnod. A tesztelt chip csak
  1.333333-as méret arányra volt képes, így gy&#337;z&#337;dj meg róla, hogy a <tt class="option">-x</tt>,
  <tt class="option">-y</tt> kapcsolók és/vagy a
  <tt class="option">-vf scale,crop,expand</tt> sz&#369;r&#337;k használatáról, ha a doboz nem
  engedélyezi a TV kimenetet. A maximum felbontás 720*576 volt 16bpp-n.
  </p><p>
  Ismert dolgok: Csak VESA, 1.33333-as korlátozás, a kép nem mindig középre
  igazított, a film minden 10 percben 4bpp-s lesz és úgy is marad. Gyakori súlyos
  fagyások, LCD kijelz&#337; problémák.
  </p></li><li><p>
  <span class="bold"><b>Chrontel 70xx kódoló chip</b></span>:
  Az IBM Thinkpad 390E és talán más Thinkpad-okban és notebook-okban található.
  </p><p>
  A <tt class="option">-vo vesa:neotv_pal</tt>-t kell használnod a PAL-hoz vagy
  a <tt class="option">-vo vesa:neotv_ntsc</tt>-t az NTSC-hez.
  TV kimenetet biztosít az alábbi 16 bpp és 8 bpp módokban:
  </p><div class="itemizedlist"><ul type="round"><li>NTSC 320x240, 640x480 és talán 800x600 is.</li><li>PAL  320x240, 400x300, 640x480, 800x600.  </li></ul></div><p>Az 512x384-es módot nem támogatja a BIOS. Át kell méretezned a képet
  egy másik felbontásra a TV kimenet aktiválásához. Ha egy képet látsz a
  képerny&#337;n 640x480-ban vagy 800x600-ban, de semmit 320x240-ben vagy kisebb
  felbontáson, ki kell cserélned két táblázatot a <tt class="filename">vbelib.c</tt>
  fájlban. Lásd a vbeSetTV függvényeket a részletekért. Kérlek keresd meg a szerz&#337;t
  ebben az esetben.
  </p><p>
  Ismert dolgok: Csak VESA, semmilyen más beállítás, pl. fényesség, kontraszt,
  blacklevel, flickfilter nincs implementálva.
  </p></li></ul></div><p>
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="codecs.html">El&#337;z&#337;</a> </td><td width="20%" align="center"><a accesskey="u" href="features.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="audio.html">Következ&#337;</a></td></tr><tr><td width="40%" align="left" valign="top">2.2. Támogatott codec-ek </td><td width="20%" align="center"><a accesskey="h" href="index.html">Tartalom</a></td><td width="40%" align="right" valign="top"> 2.4. Audió kimeneti eszközök</td></tr></table></div></body></html>
