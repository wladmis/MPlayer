<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2.7. Sous-titres et OSD</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Le Lecteur Vidéo"><link rel="up" href="install.html" title="Chapitre 2. Installation"><link rel="prev" href="gui.html" title="2.6. À propos de l'interface graphique?"><link rel="next" href="rtc.html" title="2.8. RTC"><link rel="preface" href="howtoread.html" title="Comment lire cette documentation"><link rel="chapter" href="intro.html" title="Chapitre 1. Introduction"><link rel="chapter" href="install.html" title="Chapitre 2. Installation"><link rel="chapter" href="usage.html" title="Chapitre 3. Utilisation"><link rel="chapter" href="cd-dvd.html" title="Chapitre 4. Utilisation des CD/DVD"><link rel="chapter" href="faq.html" title="Chapitre 5. Foire Aux Questions"><link rel="chapter" href="containers.html" title="Chapitre 6. Conteneurs"><link rel="chapter" href="codecs.html" title="Chapitre 7. Codecs Supportés"><link rel="chapter" href="video.html" title="Chapitre 8. Sorties vidéo"><link rel="chapter" href="audio.html" title="Chapitre 9. Périphériques de sortie audio"><link rel="chapter" href="tv.html" title="Chapitre 10. TV"><link rel="chapter" href="ports.html" title="Chapitre 11. Ports"><link rel="chapter" href="mencoder.html" title="Chapitre 12. Utilisation basique de MEncoder"><link rel="chapter" href="encoding-guide.html" title="Chapitre 13. L'encodage avec MEncoder"><link rel="appendix" href="mailinglists.html" title="Annexe A. Listes de diffusion"><link rel="appendix" href="bugreports.html" title="Annexe B. Comment rapporter les bogues"><link rel="appendix" href="bugs.html" title="Annexe C. Bogues connus"><link rel="appendix" href="skin.html" title="Annexe D. Format de skins MPlayer"><link rel="appendix" href="users-vs-dev.html" title="Annexe E. Lamentations du développeur"><link rel="subsection" href="subosd.html#mpsub" title="2.7.1. Format de sous-titres propre à MPlayer (MPsub)"><link rel="subsection" href="subosd.html#mpsub-install" title="2.7.2. Installer l'OSD et les sous-titres"><link rel="subsection" href="subosd.html#osdmenu" title="2.7.3. Menu OSD"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.7. Sous-titres et OSD</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="gui.html">Précédent</a> </td><th width="60%" align="center">Chapitre 2. Installation</th><td width="20%" align="right"> <a accesskey="n" href="rtc.html">Suivant</a></td></tr></table><hr></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="subosd"></a>2.7. Sous-titres et OSD</h2></div></div></div><p>
 <span class="application">MPlayer</span> peut afficher des sous-titres durant le film. 
 Les formats suivants sont supportés:
</p><div class="itemizedlist"><ul type="disc"><li><p>VobSub</p></li><li><p>OGM</p></li><li><p>CC (closed caption)</p></li><li><p>MicroDVD</p></li><li><p>SubRip</p></li><li><p>SubViewer</p></li><li><p>Sami</p></li><li><p>VPlayer</p></li><li><p>RT</p></li><li><p>SSA</p></li><li><p>PJS (Phoenix Japanimation Society)</p></li><li><p><a href="subosd.html#mpsub" title="2.7.1. Format de sous-titres propre à MPlayer (MPsub)">MPsub</a></p></li><li><p>AQTitle</p></li><li><p><a href="http://unicorn.us.com/jacosub/" target="_top">JACOsub</a></p></li></ul></div><p>
</p><p>
<span class="application">MPlayer</span> peut convertir les formats précédemment listés
(<span class="bold"><strong>excepté les trois premiers</strong></span>)
dans dans les formats de destinations suivants, en utilisant ces options:
</p><div class="itemizedlist"><ul type="disc"><li><p>MPsub: <tt class="option">-dumpmpsub</tt></p></li><li><p>SubRip: <tt class="option">-dumpsrtsub</tt></p></li><li><p>MicroDVD: <tt class="option">-dumpmicrodvdsub</tt></p></li><li><p>JACOsub: <tt class="option">-dumpjacosub</tt></p></li><li><p>Sami: <tt class="option">-dumpsami</tt></p></li></ul></div><p>
</p><p>
<span class="application">MEncoder</span> peut convertir les sous-titres DVD au format <a href="menc-feat-extractsub.html" title="12.8. Extraction des sous-titres DVD depuis fichier
Vobsub">VOBSub</a>.
</p><p>
Les options en ligne de commande diffèrent légèrement suivant les différents formats:
</p><p><b>Sous-titres VOBSub. </b>
Les sous-titres VOBSub consistent en un gros (plusieurs méga-octets) fichier <tt class="filename">.SUB</tt>,
et d'éventuels fichiers <tt class="filename">.IDX</tt> et/ou <tt class="filename">.IFO</tt>.
Si vous avez des fichiers tels que
<tt class="filename"><em class="replaceable"><code>sample.sub</code></em></tt>,
<tt class="filename"><em class="replaceable"><code>sample.ifo</code></em></tt> (optionnel),
<tt class="filename"><em class="replaceable"><code>sample.idx</code></em></tt> -
vous devrez passer à <span class="application">MPlayer</span> l'option
<tt class="option">-vobsub sample [-vobsubid <em class="replaceable"><code>id</code></em>]</tt>
(éventuellement avec le chemin complet). L'option <tt class="option">-vobsubid</tt> est comme l'option
<tt class="option">-sid</tt> pour les DVDs, vous pouvez choisir les pistes de sous-titres (langues) avec. 
Au cas où <tt class="option">-vobsubid</tt> est omis, <span class="application">MPLayer</span> essaiera
d'utiliser les langues indiqués par l'option <tt class="option">-slang</tt> et se rabattra sur l'objet 
<code class="systemitem">langidx</code> du fichier <tt class="filename">.IDX</tt> pour définir la langue 
de sous-titres. Si cela échoue, il n'y aura pas de sous-titres.
</p><p><b>Autres sous-titres. </b>
Les autres formats consistent en un seul fichier texte contenant le timing,
  l'emplacement et autres infos du texte. Utilisation: si vous avez un fichier tel que
<tt class="filename"><em class="replaceable"><code>exemple.txt</code></em></tt>, vous devrez passer l'option <tt class="option">-sub
exemple.txt</tt> (éventuellement avec le chemin complet).
</p><div class="variablelist"><p class="title"><b>Réglage du timing et de l'emplacement des sous-titres:</b></p><dl><dt><span class="term"><tt class="option">-subdelay <em class="replaceable"><code>sec</code></em></tt></span></dt><dd>
    Décale les sous-titres de <tt class="option"><em class="replaceable"><code>sec</code></em></tt> secondes.
    Peut être négatif. La valeur est ajouté au compteur d'avancement du film (movie's time position counter).
    </dd><dt><span class="term"><tt class="option">-subfps <em class="replaceable"><code>DÉBIT</code></em></tt></span></dt><dd>
    Spécifie le rapport trame/sec du fichier de sous-titres (nombre à virgule).
    </dd><dt><span class="term"><tt class="option">-subpos <em class="replaceable"><code>0-100</code></em></tt></span></dt><dd>
    Spécifie la position des sous-titres sur l'écran.
    </dd></dl></div><p>
Si vous constatez un décalage progressif entre le film et les sous-titres en
utilisant un fichier de sous-titres MicroDVD, il est probable que la vitesse
du film et celle des sous-titres soient différentes. Veuillez noter que le format
de sous-titres MicroDVD utilise des numéros de trames absolus pour sa synchronisation,
mais il ne contient pas d'information sur les fps et de ce fait l'option <tt class="option">-subfps</tt> devrait être utilisée avec ce format. 
Si vous voulez résoudre ce problème de manière permanente, 
vous devez convertir manuellement le débit des trames du fichier de sous-titres.
<span class="application">MPlayer</span> peut faire cette conversion pour vous:

</p><pre class="screen">mplayer -dumpmicrodvdsub -fps <em class="replaceable"><code>subtitles_fps</code></em> -subfps
 <em class="replaceable"><code>avi_fps</code></em> -sub <em class="replaceable"><code>subtitle_filename</code></em> 
 <em class="replaceable"><code>dummy.avi</code></em></pre><p>
</p><p>
A propos des sous-titres DVD, voir la section <a href="dvd.html" title="4.2. Lecture de DVD">DVD</a>.
</p><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="mpsub"></a>2.7.1. Format de sous-titres propre à MPlayer (MPsub)</h3></div></div></div><p>
<span class="application">MPlayer</span> introduit un nouveau format de sous-titres appelé
<span class="bold"><strong>MPsub</strong></span>. Il a été conçu par Gabucino. Son principal 
avantage est de se baser <span class="emphasis"><em>dynamiquement</em></span> sur la durée (bien qu'il 
possède également un mode basé sur les frames). Exemple (de <a href="../../tech/mpsub.sub" target="_top">DOCS/tech/mpsub.sub</a>):
</p><pre class="programlisting">
FORMAT=TIME
# premier nombre : attends cette durée après la disparition du dernier sous-titre
# second nombre  : affiche le sous-titre en cours pour tant de secondes

15 3
A long long, time ago...

0 3
in a galaxy far away...

0 3
Naboo was under an attack.</pre><p>
</p><p>
Comme vous pouvez le constater, l'objectif ici est de <span class="bold"><strong>
faciliter l'édition/synchronisation/jointure/découpage</strong></span>. 
Si vous avez un sous-titre SSA mal synchronisé avec votre version de la vidéo, 
faites simplement un </p><pre class="screen">mplayer <em class="replaceable"><code>dummy.avi</code></em> -sub source.ssa -dumpmpsub</pre><p>
Un fichier <tt class="filename">dump.mpsub</tt> sera créé dans le répertoire courant, 
contenant le texte du sous-titre au format <span class="bold"><strong>MPsub</strong></span>. 
Vous pourrez alors aisément ajouter/soustraire du temps entre les sous-titres.
</p><p>
Les sous-titres sont affichés par une technique nommée <span class="bold"><strong>'OSD',
On Screen Display</strong></span> (Affichage sur l'écran). L'OSD est utilisé pour afficher 
le temps de lecture, la barre de volume, d'avance/retour rapide, le contraste, etc.
</p></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="mpsub-install"></a>2.7.2. Installer l'OSD et les sous-titres</h3></div></div></div><p>
Vous aurez besoin d'un paquet de polices <span class="application">MPlayer</span> afin d'utiliser
les fonctions d'OSD/SUB. Il y a plusieurs manières de les obtenir:
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Utiliser le générateur de polices de <tt class="filename">TOOLS/subfont-c</tt>. C'est un outil complet pour
  convertir les polices TTF/Type1/etc en paquets de polices mplayer (voir
  <tt class="filename">TOOLS/subfont-c/README</tt> pour les détails).
  </p></li><li><p>
  Utiliser le plugin générateur de polices de <span class="application">GIMP</span> dans <tt class="filename">TOOLS/subfont-GIMP</tt> (note: vous devez avoir le
  plugin HSI RAW également, voir <a href="http://realtime.ssu.ac.kr/~lethean/index.php?pagename=MplayerKoreanFonts" target="_top">http://realtime.ssu.ac.kr/~lethean/index.php?pagename=MplayerKoreanFonts</a>).
 </p></li><li><p>
  Utiliser une fonte TrueType (TTF), par l'intermédiaire de la librairie
  <code class="systemitem">freetype</code>. La Version 2.0.9 ou supérieure est obligatoire!
  Ensuite vous avez deux méthodes:
  </p><div class="itemizedlist"><ul type="circle"><li><p>
      utiliser l'option <tt class="option">-font <em class="replaceable"><code>/chemin/de/police.ttf</code></em></tt>
      pour spécifier un fichier de polices TrueType à chaque fois
      </p></li><li><p>
      créer un lien symbolique:
      </p><pre class="screen">ln -s <em class="replaceable"><code>/chemin/de/police.ttf</code></em> ~/.mplayer/subfont.ttf</pre><p>
      </p></li></ul></div><p>
  Si <span class="application">MPlayer</span> a été compilé avec le support
  <code class="systemitem">fontconfig</code>, les méthodes ci-dessus
  ne fonctionneront pas, à la place <tt class="option">-font</tt> attends un nom de police
  fontconfig et sinon utilise la police sans-serif par défaut. Pour obtenir une liste
  des polices connues de <code class="systemitem">fontconfig</code>,
  utilisez <span><strong class="command">fc-list</strong></span>.
  Exemple: <tt class="option">-font <em class="replaceable"><code>'Bitstream Vera Sans'</code></em></tt>
  </p></li><li><p>
  Télécharger des paquetages de polices prêtes à l'emploi depuis le site de <span class="application">MPlayer</span>.
  Note: Les polices actuellement disponibles sont limitées a l'iso 8859-1/2, mais
  il y en a quelques autres (incluant le Coréen, le Russe, l'ISO 8859-8, etc) dans la section contrib/font
  du FTP, créées par les utilisateurs.
</p><p>
  
  Les polices devront disposer du fichier <tt class="filename">font.desc</tt>
  approprié qui associe les positions maps unicode au code actuel du texte
  sous-titré. Une autre solution est d'avoir des sous-titres encodés en UTF8 
  et d'utiliser l'option <tt class="option">-utf8</tt> ou de renommer le fichier 
  des sous-titres en <tt class="filename">&lt;nom_video&gt;.utf</tt>. Enregistrer
  de codepages différents en UTF-8 peut se faire en utilisant les programmes
  <span><strong class="command">konwert</strong></span> ou <span><strong class="command">iconv</strong></span>.
  </p><p>
  
  </p><div class="table"><a name="id2533142"></a><p class="title"><b>Tableau 2.1. Quelques liens:</b></p><table summary="Quelques liens:" border="1"><colgroup><col><col></colgroup><thead><tr><th>URL</th><th>Commentaire</th></tr></thead><tbody><tr><td>
    <a href="ftp://ftp.mplayerhq.hu/MPlayer/releases/fonts/" target="_top">ftp://ftp.mplayerhq.hu/MPlayer/releases/fonts/</a>
    </td><td>
    polices ISO
    </td></tr><tr><td>
    <a href="ftp://ftp.mplayerhq.hu/MPlayer/contrib/fonts/" target="_top">ftp://ftp.mplayerhq.hu/MPlayer/contrib/fonts/</a>
    </td><td>
    contributions d'utilisateurs
    </td></tr><tr><td>
    <a href="http://realtime.ssu.ac.kr/~lethean/index.php?pagename=MplayerKoreanFonts" target="_top">http://realtime.ssu.ac.kr/~lethean/index.php?pagename=MplayerKoreanFonts</a>
    </td><td>
    polices Coréennes et plugin RAW
    </td></tr></tbody></table></div><p>

  </p></li></ul></div><p>
Si vous avez choisi des polices non-TTF, dézippez le fichier vers <tt class="filename">~/.mplayer</tt>
ou <tt class="filename">$PREFIX/share/mplayer</tt>. Ensuite renommez
ou faites un lien symbolique de l'un d'eux sur <tt class="filename">font</tt>, par exemple:

</p><pre class="screen">ln -s <em class="replaceable"><code>~/.mplayer/arial-24</code></em> <em class="replaceable"><code>~/.mplayer/font</code></em></pre><p>

Vous pouvez maintenant voir un compteur dans le coin supérieur gauche du film. (Faites les apparaître/disparaître 
avec la touche <span class="keycap"><b>o</b></span>).
</p><p>
(les sous-titres sont <span class="emphasis"><em>toujours activés</em></span>, pour les désactiver merci de lire la page de man)
</p><p>
L'OSD possède 4 états (interchangeable avec <span class="keycap"><b>o</b></span>):

</p><div class="orderedlist"><ol type="1"><li>
  barre de volume + barre d'avancement (par défaut)
  </li><li>
  barre de volume + barre d'avancement + compteur + position en pourcentages quand déplacement
  </li><li>
  barre de volume + barre d'avancement + compteur + durée totale du média
  </li><li>
  uniquement les sous-titres
  </li></ol></div><p>

Vous pouvez en modifier le comportement par défaut en spécifiant la variable <code class="literal">-osdlevel</code>
dans le fichier config, ou en précisant l'option <tt class="option">-osdlevel</tt> en ligne de commande.

</p></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="osdmenu"></a>2.7.3. Menu OSD</h3></div></div></div><p>
<span class="application">MPlayer</span> possède une interface de menu OSD complètement modulable.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Le menu des préférences n'est PAS IMPLÉMENTÉ pour l'instant!
</p></div><div class="orderedlist"><p class="title"><b>Installation</b></p><ol type="1"><li>
  compilez <span class="application">MPlayer</span> en passant le paramètre <tt class="option">--enable-menu</tt>
  à <tt class="filename">./configure</tt>
  </li><li>
  assurez-vous que les polices OSD sont installées
  </li><li>
  copiez <tt class="filename">etc/menu.conf</tt> dans votre répertoire
  <tt class="filename">.mplayer</tt> 
  </li><li>
  copiez <tt class="filename">etc/input.conf</tt> dans votre répertoire
  <tt class="filename">.mplayer</tt>, ou dans le fichier de config globale de 
  <span class="application">MPlayer</span> (par défaut: <tt class="filename">/usr/local/etc/mplayer</tt>)
  </li><li>
  trouvez et éditez <tt class="filename">input.conf</tt> pour activer les touches
  correspondants aux mouvements dans le menu (c'est décrit sur place).
  </li><li><p>
  lancez <span class="application">MPlayer</span> avec par exemple:
  </p><pre class="screen">$ mplayer -menu <em class="replaceable"><code>fichier.avi</code></em></pre><p>
  </p></li><li>
  pressez n'importe laquelle des touches menu que vous avez défini
  </li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="gui.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="rtc.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">2.6. À propos de l'interface graphique? </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 2.8. RTC</td></tr></table></div></body></html>
