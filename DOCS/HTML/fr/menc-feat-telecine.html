<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>13.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Le Lecteur Vidéo"><link rel="up" href="encoding-guide.html" title="Chapitre 13. L'encodage avec MEncoder"><link rel="prev" href="menc-feat-dvd-mpeg4.html" title="13.1. Créer un rip MPEG-4 (&quot;DivX&quot;) de haute qualité à partir d'un DVD"><link rel="next" href="menc-feat-enc-libavcodec.html" title="13.3. Encodage avec la famille de codec libavcodec"><link rel="preface" href="howtoread.html" title="Comment lire cette documentation"><link rel="chapter" href="intro.html" title="Chapitre 1. Introduction"><link rel="chapter" href="install.html" title="Chapitre 2. Installation"><link rel="chapter" href="usage.html" title="Chapitre 3. Utilisation"><link rel="chapter" href="cd-dvd.html" title="Chapitre 4. Utilisation des CD/DVD"><link rel="chapter" href="faq.html" title="Chapitre 5. Foire Aux Questions"><link rel="chapter" href="containers.html" title="Chapitre 6. Conteneurs"><link rel="chapter" href="codecs.html" title="Chapitre 7. Codecs Supportés"><link rel="chapter" href="video.html" title="Chapitre 8. Sorties vidéo"><link rel="chapter" href="audio.html" title="Chapitre 9. Périphériques de sortie audio"><link rel="chapter" href="tv.html" title="Chapitre 10. TV"><link rel="chapter" href="ports.html" title="Chapitre 11. Ports"><link rel="chapter" href="mencoder.html" title="Chapitre 12. Utilisation basique de MEncoder"><link rel="chapter" href="encoding-guide.html" title="Chapitre 13. L'encodage avec MEncoder"><link rel="appendix" href="mailinglists.html" title="Annexe A. Listes de diffusion"><link rel="appendix" href="bugreports.html" title="Annexe B. Comment rapporter les bogues"><link rel="appendix" href="bugs.html" title="Annexe C. Bogues connus"><link rel="appendix" href="skin.html" title="Annexe D. Format de skins MPlayer"><link rel="appendix" href="users-vs-dev.html" title="Annexe E. Lamentations du développeur"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-intro" title="13.2.1. Introduction"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-ident" title="13.2.2. Comment trouver le type de votre vidéo ?"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-encode" title="13.2.3. Comment encoder chaque catégorie ?"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="13.2.4. Notes de pied"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="menc-feat-dvd-mpeg4.html">Précédent</a> </td><th width="60%" align="center">Chapitre 13. L'encodage avec <span class="application">MEncoder</span></th><td width="20%" align="right"> <a accesskey="n" href="menc-feat-enc-libavcodec.html">Suivant</a></td></tr></table><hr></div><div class="sect1" lang="fr"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-telecine"></a>13.2. Comment gérer le téléciné et l'entrelacement des DVDs NTSC</h2></div></div></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-intro"></a>13.2.1. Introduction</h3></div></div></div><p><b>Qu'est ce que le téléciné ? </b>
  Je vous suggère de visiter la page suivante sous peine de ne rien comprendre 
  au document suivant :
  <a href="http://www.divx.com/support/guides/guide.php?gid=10" target="_top">http://www.divx.com/support/guides/guide.php?gid=10</a>
  Ce lien pointe vers une documentation relativement compréhensible sur le format 
  téléciné.
</p><p><b>Une note à propos des chiffres. </b>
  Beaucoup de documents, dont le guide proposé ci-dessus, renvoient à un 
  nombre de trames par secondes pour la vidéo NTSC de 59.94 ce qui correspond à 
  29.97 images par secondes (pour le télécine entrelacé) et à 23.976 fps pour 
  le progressive. Pour des raisons de simplicité, certains documents utilisent les 
  valeurs arrondies de 60, 30 et 24.
</p><p>
  En toute rigueur, ces nombres sont des approximations. Les vidéos NTSC en noir et blanc
  étaient exactement à 60 trames par secondes, mais 60000/1001 a été choisi par la suite
  pour la couleur tout en conservant la compatibilité avec les téléviseurs noir et blanc.
  La vidéo numérique NTSC (comme celle d'un DVD) est aussi en 60000/1001 trames 
  par seconde. A partir de cela, la vidéo entrelacée et télécinée est dérivée vers 
  30000/1001 images par seconde ou, pour les vidéos progressives en 24000/1001 
  images par secondes.
</p><p>
  De plus anciennes versions de la documentation <span class="application">MEncoder</span> 
  et plusieurs e-mails archivés provenant de liste de diffusion font encore référence à
  59.94, 29.97, et 23.976.
  Toute la documentation de <span class="application">MEncoder</span> a été mise à jour
  pour utiliser les valeurs fractionnelles, et vous devriez aussi les utiliser.
</p><p>
  <tt class="option">-ofps 23.976</tt> est incorrect.
  <tt class="option">-ofps 24000/1001</tt> doit être utilisé à la place.
</p><p><b>Comment le téléciné est-il utilisé? </b>
  Toutes les vidéos qui sont censées être affichées sur des téléviseurs NTSC 
  doivent être en 60000/1001 trames par secondes. Les téléfilms sont souvent 
  filmés directement à 60000/1001 trames par secondes, alors que la majorité des 
  films pour le cinéma est en 24000/1001 images par seconde. Quand les séquences 
  cinéma pour le DVD sont masterisés, la vidéo est alors convertie pour la 
  télévision par un processus appelé le téléciné.
</p><p>
  Sur un DVD, la vidéo n'est jamais vraiment stockée à 60000/1001 trames par seconde. 
  Si la vidéo est d'origine en 60000/1001, chaque paire de trames est alors combinée 
  pour former une image, ce qui donne 30000/1001 images par seconde. Les lecteurs de 
  DVD de salon lisent alors les drapeaux embarqués sur le flux vidéo pour déterminer 
  si la première ligne à afficher doit être paire ou impaire.
</p><p>
  Normalement, les contenus à 24000/1001 images par seconde restent comme cela 
  lorsqu'ils sont encodés pour un DVD, et le lecteur DVD doit alors faire 
  la conversion du téléciné à la volée. Parfois, la vidéo est télécinée <span class="emphasis"><em>avant</em></span> 
  d'être stockée sur le DVD, même si c'était originalement du 24000/1001 images 
  par seconde, cela devient 60000/1001 trames par seconde. Quand elles sont stockées 
  sur le DVD, les trames sont combinées par paires pour former 30000/1001 images 
  par seconde.
</p><p>
  Quand on regarde les trames formées individuellement à partir de la vidéo en
  60000/10001 champs par seconde, téléciné ou autre, l'entrelacement est 
  clairement visible et ce, qu'il y ait un mouvement ou non car l'un des champs (disons 
  les lignes impaires) représente un moment dans le temps 1/(60000/1001) seconde 
  plus tard que les autres. Jouer une vidéo entrelacée sur un ordinateur semble 
  dans les deux cas laid parce que l'écran a une résolution plus élevée et 
  parce que la vidéo est affichée trame après trame à au lieu de champs après champs.
</p><div class="itemizedlist"><p class="title"><b>Notes :</b></p><ul type="disc"><li><p>
  Cette section est seulement destinées aux DVDs NTSC, pas au PAL.
  </p></li><li><p>
  Les lignes d'exemple de <span class="application">MEncoder</span> présentées dans ce 
  document ne sont <span class="bold"><strong>pas</strong></span> à utiliser tel quelles. 
  Elles sont juste là pour montrer le minimum à faire en relation avec ce chapitre. 
  Comment réaliser un bon rip DVD ou procéder à des réglages avancés de
<code class="systemitem">libavcodec</code>  dont des questions qui
sortent du contexte de ce guide.
  </p></li><li><p>
  Quelques notes spécifiques à ce guide sont disponibles dans le pied de page,
  et sont liées comme ceci : <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="13.2.4. Notes de pied">[1]</a>
  </p></li></ul></div></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-ident"></a>13.2.2. Comment trouver le type de votre vidéo ?</h3></div></div></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-progressive"></a>13.2.2.1. Progressive</h4></div></div></div><p>
  Les vidéos progressives sont filmées initialement à 24000/1001 fps et stockées 
  sur le DVD telles quelles.
</p><p>
  Quand vous lisez un DVD progressive dans <span class="application">MPlayer</span>, 
  il affiche la ligne suivante avant de commencer la lecture : 

  </p><pre class="screen"> demux_mpg: 24000/1001 fps progressive NTSC content detected, switching framerate.</pre><p>

  Dans l'état actuel des choses, demux_mpg ne devrait jamais être trouvé pour 
  "une vidéo NTSC à 30000/1001 fps."
</p><p>
  Quand vous regardez une vidéo progressive, vous ne devrez voir aucun entrelacement. 
  Mais soyez attentif, il arrive parfois que du téléciné se glisse sans prévenir. 
  Il m'est arrivé de tomber sur des émissions de télévisions en DVD avec une 
  seconde de téléciné à chaque changement de scène, voir de temps en temps à une 
  zone totalement aléatoire. Une autre fois, la moitié du DVD était en progressif 
  et l'autre moitié en téléciné. Si vous n'êtes pas <span class="emphasis"><em>vraiment</em></span> sûr, 
  vous pouvez toujours scanner le film entier : 

  </p><pre class="screen">mplayer dvd://1 -nosound -vo null -benchmark</pre><p>

  L'utilisation de l'option <tt class="option">-benchmark</tt> fait lire <span class="application">MPlayer</span> 
  aussi vite qu'il le peut - en fonction du matériel, cela peut prendre un certain
  temps. Chaque fois que demux_mpg génère une ligne, celle-ci vous donnera
  immédiatement la valeur du changement.
</p><p>
  Parfois, la vidéo progressive sur les DVDs considérés comme un "soft-telecine" 
  car il devrait être téléciné par le lecteur DVD.
</p></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-telecined"></a>13.2.2.2. Téléciné</h4></div></div></div><p>
  Les vidéos télécinées sont d'abord filmées à 24000/1001 et seront télécinées
  <span class="emphasis"><em>avant</em></span> d'être gravé sur DVD.
</p><p>
  <span class="application">MPlayer</span> ne doit (jamais) détecter une changement de fps 
  quand une vidéo télécinée est lue.
</p><p>
  Au visionnage d'une vidéo télécinée, vous verrez des artefacts d'entrelacement 
  donnant l'impression de "clignotement": apparaissant et disparaissant 
  rapidement.
  Vous pouvez le voir plus précisément avec :
  </p><div class="orderedlist"><ol type="1"><li><pre class="screen">mplayer dvd://1</pre></li><li><p>
    Chercher une partie en mouvement.
    </p></li><li><p>
    Utiliser la touche <span class="keycap"><b>.</b></span> pour avancer image par image.
    </p></li><li><p>
    Observer la forme donnée par l'entrelacement et les images progressives. 
  Si la forme que vous voyez ressemble à PPPII, PPPII, PPPII,... alors la vidéo est 
  télécinée. Si ce n'est pas le cas, la vidéo a peut-être été télécinée selon des règles 
  non standard, <span class="application">MEncoder</span> ne sait pas convertir un téléciné
  non-standard vers du progressive sans dégradation. Si aucune forme n'est visible, c'est 
  alors sûrement une vidéo entrelacée.
    </p></li></ol></div><p>
</p><p>
  Parfois, les vidéos télécinées sur les DVD sont "hard-teleciné". Le hard-teleciné
  étant à 60000/1001 images par seconde, les lecteurs de DVD liront la vidéo sans modification.
</p><p>
  Une autre façon de savoir si la source est télécinée ou non, est de la lire avec 
  l'option <tt class="option">-vf pullup</tt> et <tt class="option">-v</tt> depuis une ligne de commande 
  et de voir comment l'option <tt class="option">pullup</tt> voit d'images. 
  Si la source est télécinée, vous devriez voir sur la console une forme 3:2 avec des 
  alternances de <code class="systemitem">0+.1.+2</code> et <code class="systemitem">0++1</code>.
  L'avantage de cette technique et que vous n'avez pas besoin de visionner la 
  source pour l'identifier, donc utile pour automatiser l'encodage de vidéos, ou 
  bien effectuer ces procédures à distance même à travers une connexion internet lente.
</p></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-interlaced"></a>13.2.2.3. Entrelacée</h4></div></div></div><p>
  Les vidéos entrelacées sont d'abord filmées en 60000/1001 frames par seconde, 
  puis stockées sur le DVD à 30000/1001 frames par secondes. L'effet d'entrelacement 
  (souvent appelé "combing" = comme les dents d'un peigne) est le résultat d'une combinaison de paires 
  de trames dans chaque frames. Chaque frame est supposée être cachée 1/(60000/1001) 
  d'une seconde, quand elles sont affichées en même temps, la différence devient 
  visible.
</p><p>
  Comme pour la vidéo télécinée, <span class="application">MPlayer</span> ne devrait 
  jamais signaler un changement de framerate à la lecture de la vidéo entrelacée.
</p><p>
  Si vous regardez une vidéo entrelacée de plus près, image par image avec la 
  touche <span class="keycap"><b>.</b></span>, vous pourrez voir l'entrelacement de chaque frame.
</p></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpt"></a>13.2.2.4. Mélange de vidéo progressive et télécinée</h4></div></div></div><p>
  Toutes les vidéos qui "mélangent mode progressif et téléciné" ont été au 
  départ en 24000/1001 frames par seconde, puis certaines parties ont été converties en téléciné.
</p><p>
  Quand <span class="application">MPlayer</span> joue ce type de fichier, il doit jongler
  (souvent rapidement) entre "30000/1001 fps NTSC" et "24000/1001 fps 
  NTSC progressif". Regardez la sortie des messages de <span class="application">MPlayer</span>.
</p><p>
  Vous devriez aller voir la section "30000/1001 fps NTSC" afin d'être 
  sûr que c'est vraiment du téléciné, et pas seulement de l'entrelacé.
</p></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpi"></a>13.2.2.5. Mélange de progressif et d'entrelacement</h4></div></div></div><p>
  Dans les vidéos qui "mélangent modes progressif et téléciné", les flux vidéos 
  progressifs et entrelacés sont réunis ensemble.
</p><p>
  Cette catégorie ressemble à du "mélange progressif et téléciné" jusqu'à 
  ce que vous examiniez la partie 30000/1001 fps et que vous vous aperceviez
  qu'il n'y a pas de trace de téléciné.
</p></div></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-encode"></a>13.2.3. Comment encoder chaque catégorie ?</h3></div></div></div><p>
  Comme évoqué au départ, ces prochaines lignes de "HowTo" 
  <span class="application">MEncoder</span> ne sont <span class="bold"><strong>pas</strong></span> là pour être strictement 
  utilisées telles quelles, mais pour fournir des paramètres minimum d'encodages pour 
  chaque catégorie.
</p><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-progressive"></a>13.2.3.1. Le progressif</h4></div></div></div><p>
  La vidéo progressive ne nécessite pas de filtre particulier pour l'encodage. 
  Pourtant, un paramètre ne doit pas être omis : <tt class="option">-ofps 24000/1001</tt>. Sinon,
  <span class="application">MEncoder</span> essayera d'encoder à 30000/1001 fps et produira des 
  images en double.
</p><p>
  </p><pre class="screen">mencoder dvd://1 -oac copy -ovc lavc -ofps 24000/1001</pre><p>
</p><p>
  Il n'est pas rare de se trouver avec une vidéo qui semble progressive mais qui 
  contient en fait quelques petites parties en téléciné. A moins d'être vraiment 
  sûr l'état de la vidéo, il sera préférable de traiter la vidéo comme 
  <a href="menc-feat-telecine.html#menc-feat-telecine-encode-mixedpt" title="13.2.3.4. Progressif et téléciné mélangé"> du progressif et téléciné mélangés</a>.
  La perte de qualité est négligeable <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="13.2.4. Notes de pied">[3]</a>.
</p></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-telecined"></a>13.2.3.2. Téléciné</h4></div></div></div><p>
  Les vidéos en téléciné peuvent redonner le contenu original à 24000/1001 avec 
  un processus appelé inverse-téléciné.
  <span class="application">MPlayer</span> a plusieurs filtres disponibles pour ceci, 
  mais le meilleur, <tt class="option">pullup</tt>, est abordé à la section 
  <a href="menc-feat-telecine.html#menc-feat-telecine-encode-mixedpt" title="13.2.3.4. Progressif et téléciné mélangé">mélange de progressif et téléciné</a>. 
</p></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-interlaced"></a>13.2.3.3. L'entrelacé</h4></div></div></div><p>
  Pour des raisons pratiques, il n'est pas possible de retrouver entièrement une 
  vidéo progressive depuis une entrelacée. La seule manière de faire cela sans 
  perdre la moitié de la résolution verticale est de doubler le framerate et 
  d'essayer de "trouver" les lignes correspondantes pour chaque frame 
  (cela a des inconvénients, voir la méthode 3).
</p><div class="orderedlist"><ol type="1"><li><p>
  Encodez la vidéo sous une forme entrelacée. Normalement, l'entrelacement 
  détériore la capacité de l'encodeur à bien compresser, mais <code class="systemitem">libavcodec</code> 
  possède deux paramètres spécifiquement faits pour stocker la vidéo entrelacée de manière
  plus satisfaisante: <tt class="option"> ildct</tt> et <tt class="option">ilme</tt>. Aussi,
  l'utilisation de <tt class="option">mbd=2</tt> est-elle fortement recommandée <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="13.2.4. Notes de pied">[2] </a> 
  car cela encodera les macroblocs non-entrelacés à des endroits où il n'y 
  a pas de mouvements. Notez que <tt class="option">-ofps</tt> n'est <span class="emphasis"><em>pas</em></span> nécessaire ici.

  </p><pre class="screen">mencoder dvd://1 -oac copy -ovc lavc -lavcopts ildct:ilme:mbd=2</pre><p>
  </p></li><li><p>
  Utilisez un filtre de dés-entrelacement avant l'encodage. Il y a plusieurs de
  ces filtres disponibles aux choix, chacun avec ces propres avantages et 
  désavantages. Consultez <tt class="option">mplayer -pphelp</tt> pour voir quels sont 
  ceux disponibles (grep pour "deint"), et cherchez les
  <a href="http://www.mplayerhq.hu/homepage/design6/info.html#mailing_lists" target="_top">
  listes de diffusion MPlayer</a> pour trouver plusieurs discussions sur les 
  différents filtres. Encore une fois, le framerate ne change pas, donc pas de
  <tt class="option">-ofps</tt>. Aussi, le dés-entrelacement devra être fait après
  découpage <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="13.2.4. Notes de pied">[1]</a> et
  avant dimensionnement.

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf pp=lb -ovc lavc</pre><p>
  </p></li><li><p>
  Malheureusement, cette option est un boguée dans
  <span class="application">MEncoder</span> : cela devrait bien marcher avec
  <span class="application">MEncoder G2</span>, mais on n'en est pas encore là. Vous
  risquez d'avoir des plantages. Cela importe peu car le but de <tt class="option"> -vf tfields</tt> 
  est de créer une frame complète à partir de chaque champs, ce qui
  donne le framerate 60000/1001. L'avantage de cette approche est qu'aucune
  donnée n'est jamais perdue. Cependant, vu que chaque frame vient avec seulement 
  un champ, les lignes manquantes doivent être interpolées d'une façon ou d'une autre.
  Il n'y a pas de très bonne méthode générant les données manquantes, et donc le
  résultat sera un peu similaire à celui obtenu quand on utilise certains filtres de dés-entrelacement. 
  Générer les lignes manquantes crée aussi d'autres problèmes,
  simplement parce que la quantité de données double. Ainsi, de plus haut bitrates 
  d'encodage sont nécessaires pour conserver la qualité, et plus de puissance CPU est
  utilisée pour l'encodage et le décodage. 'tfields' a  plusieurs 
  options pour gérer la création des lignes manquantes de chaque frame. Si vous
  utilisez cette méthode, alors regardez le manuel, et prenez n'importe quelle
  option qui semble la meilleure pour votre matériel. Notez que lors de l'utilisation de
  <tt class="option">tfields</tt> vous
  <span class="bold"><strong>devez</strong></span> spécifier les deux options <tt class="option">-fps</tt> 
  et <tt class="option">-ofps</tt> à deux fois le framerate de votre source originale.

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf tfields=2 -ovc lavc -fps 60000/1001 -ofps 60000/1001</pre><p>
  </p></li><li><p>
  Si vous avez décidé de réduire la taille de façon dramatique, vous pouvez 
  extraire et encoder seulement un des deux champs. Bien sûr, vous perdrez la 
  moitié de la résolution verticale, mais si vous pensez la réduire au plus de 
  moitié par rapport à l'original, la perte ne sera pas trop grande. Le résultat 
  sera un fichier progressif à 30000/1001 frames par seconde. La procédure est 
  d'utiliser <tt class="option">-vf field</tt>, puis de découper
  <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="13.2.4. Notes de pied">[1]</a> et de dimensionner
  de manière appropriée. Souvenez-vous que vous devrez ajuster la dimension pour
  compenser la résolution verticale ayant été réduite de moitié.
  </p><pre class="screen">mencoder dvd://1 -oac copy -vf field=0 -ovc lavc</pre><p>
  </p></li></ol></div></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpt"></a>13.2.3.4. Progressif et téléciné mélangé</h4></div></div></div><p>
  Afin de convertir une vidéo composée de progressive et de téléciné en vidéo entièrement
  progressive, les parties en téléciné doivent être inverse-télécinées. Il y a trois 
  moyens d'accomplir cela, comme décrit ci-dessous. Notez que vous devrez
  <span class="bold"><strong>toujours</strong></span> inverse-téléciné avant tout 
  redimensionnement. Sauf si vous savez vraiment ce que vous faites, il faudra 
  inverse-téléciné avant tout découpage <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="13.2.4. Notes de pied">[1]</a>.
  <tt class="option">-ofps 24000/1001</tt> est nécessaire ici parce que la sortie vidéo
  sera de 24000/1001 frames par seconde.
</p><div class="itemizedlist"><ul type="disc"><li><p>
  <tt class="option">-vf pullup</tt> est faite pour inverse-téléciné le matériel 
  téléciné tandis que les données progressives sont laissées intactes. Afin
  de bien fonctionner, <tt class="option">pullup</tt> <span class="bold"><strong>doit</strong></span>
  être suivi par le filtre <tt class="option">softskip</tt> ou sinon <span class="application">MEncoder</span> plantera.
  <tt class="option">pullup</tt> est, cependant, la méthode la plus propre et la plus précise
  disponible pour encoder le téléciné et le "progressif et téléciné mélangés".

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf pullup,softskip -ovc lavc -ofps 24000/1001</pre><p>
  </p></li><li><p>
  Une méthode plus ancienne consiste à téléciner les parties non-télécinées
  et ensuite inverse-téléciner la vidéo tout entière, au lieu de
  n'inverse-téléciner que les parties en téléciné.
  Cela semble confus? softpulldown est un filtre qui parcours une vidéo
  et rend téléciné le fichier entier. Si nous faisons suivre softpulldown avec 
  soit <tt class="option">detc</tt> ou soit <tt class="option">ivtc</tt>, le résultat final
  sera entièrement progressif. <tt class="option">-ofps 24000/1001</tt> est nécessaire.

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf softpulldown,ivtc=1 -ovc lavc -ofps 24000/1001</pre><p>
  </p></li><li><p>
  Je n'ai pas moi-même utilisé <tt class="option">-vf filmdint</tt>, mais voilà ce que
  D Richard Felker III en dit:
  
  </p><div class="blockquote"><blockquote class="blockquote"><p>Il est correct, mais AMA il essaie de dés-entrelacer plutôt
  que de faire l'inverse-téléciné trop souvent (tout comme les lecteurs DVD de salon
   &amp; les TVs progressive) ce qui donne des clignotements affreux et d'autre 
  artefacts. Si vous penser l'employer, vous devez commencer par passer un peu de temps 
  pour affiner les options et observer la sortie pour être sûr que cela
  casse pas tout.</p></blockquote></div><p>
  </p></li></ul></div></div><div class="sect3" lang="fr"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpi"></a>13.2.3.5. Progressif et entrelacé mélangés</h4></div></div></div><p>
  Il y a deux options pour s'occuper de cette catégorie, chacune étant un  
  compromis. Vous devez prendre une décision basée sur la durée/localisation 
  de chaque type.
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Traitez-la comme progressive. Les parties entrelacées sembleront entrelacées,
  et certains des champs entrelacés devront être jetés, ayant pour résultat un 
  peu de sautillement inégal. Vous pouvez utiliser un filtre post-traitement si
  vous le voulez, mais cela peut sensiblement dégrader les parties progressives.
  </p><p>
  Cette option ne devrait vraiment pas être utilisée si vous voulez 
  éventuellement afficher la vidéo sur un appareil entrelacé (avec une carte TV, 
  par exemple). Si vous avez entrelacé les frames dans une vidéo à 24000/1001 
  frames par seconde, ils seront télécinés en même temps que les frames progressive. 
  La moitié des "frames" entrelacées sera affichée pour une durée de trois champs
  (3/(60000/1001) secondes), ce qui a pour résultat un effet pichenette de 
  "retour en arrière" ce qui semble tout à fait mauvais. Si vous tentez 
  quand même ceci, vous <span class="bold"><strong>devez</strong></span> utiliser un filtre
  dés-entrelaçant comme <tt class="option">lb</tt> ou <tt class="option">l5</tt>.
  </p><p>
  Cela peut tout aussi bien être une mauvaise idée pour l'affichage progressive. 
  Cela laissera tomber les paires consécutives de champs entrelacés, ayant pour 
  résultat une discontinuité qui peut être plus visible qu'avec la seconde méthode, 
  ce qui montre certaines frames progressive en double. Une vidéo entrelacée à 
  30000/1001 frames par seconde est déjà un peu variable parce que cela devrait 
  vraiment être montré à 60000/1001 champs par seconde, donc les frames dupliquées 
  ne tiennent pas.
  </p><p>
  Qu'importe la façon, il est recommandé de considérer votre contenu et comment 
  vous voulez l'afficher. Si votre vidéo est à 90% progressive et que vous ne 
  pensez pas la regarder sur une TV, vous devriez favoriser une approche progressive. 
  Si elle est seulement à moitié progressive, vous voudrez probablement l'encoder
  comme si elle était entièrement entrelacée.
  </p></li><li><p>
  Traitez-la comme entrelacée. Certaines frames des parties progressive auront 
  besoin d'être dupliquées, ce qui entraînera en un sautillement inégal. Encore une 
  fois, les filtres dés-entrelaçant peuvent passablement dégrader les parties
  progressives.
  </p></li></ul></div></div></div><div class="sect2" lang="fr"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-footnotes"></a>13.2.4. Notes de pied</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p><b>A propos de découpage: </b>
  Les données vidéo d'un DVD sont stockées dans un format appelé YUV 4:2:0. Dans 
  la vidéo YUV, la luma ("luminosité") et le chroma ("couleur")
  sont stockés séparément. Parce que l'oeil humain est somme toute moins sensible
  à la couleur qu'il ne l'est à la luminosité, dans une image YUV 4:2:0 il y a 
  seulement un pixel de chroma pour 4 pixels de luma. Dans une image progressive, 
  chaque carré de quatre pixels de luma (deux sur chaque coté) ont un pixel de 
  chroma commun. Vous devez découper un YUV 4:2:0 progressif à des résolutions paires, 
  et utiliser un décalage pair. Par exemple,
  <tt class="option">crop=716:380:2:26</tt> est correct mais 
  <tt class="option">crop=716:380:3:26 </tt> ne l'est pas.
  </p><p>
  Quand vous avez à faire à un YUV 4:2:0 entrelacé, la situation devient un peu plus
  compliquée. Au lieu que chaque série de quatre pixels de luma partage un pixel 
  de chroma dans une <span class="emphasis"><em>frame</em></span>, chaque groupe de quatre pixels de luma 
  dans chaque <span class="emphasis"><em>champs</em></span> partage un pixel de chroma. Quand les 
  champs sont entrelacés pour former une frame, chaque ligne de scan est un 
  pixel de haut. Maintenant, au lieu que tout les quatre pixels de luma soient 
  dans un carré, ils sont deux pixels côte à côte, et les deux autres pixels
  sont côte à côte deux lignes de scan plus bas. Les deux pixels de luma dans la 
  ligne de scan intermédiaire sont à partir de l'autre champ, et donc partage un 
  pixel de chroma différent avec deux pixels de luma deux lignes de scan plus loin. 
  Toute cette confusion rend nécessaire d'avoir des dimensions de découpe verticales 
  et des décalages en multiple de quatre. Le décalage horizontal peut rester égal.
  </p><p>
  Pour la vidéo télécinée, je recommande que le découpage prenne place après l'inverse
  téléciné. Une fois la vidéo progressive vous avez seulement besoin de découper par 
  nombres pairs. Si vous voulez vraiment gagner la légère accélération que la découpe
  peut offrir, vous devez découper verticalement par multiples de quatre
  ou bien le filtre inverse-téléciné n'aura pas les bonnes données.
  </p><p>
  Pour la vidéo entrelacée (pas télécinée), vous devez toujours découper verticalement
  par multiples de quatre à moins que vous n'utilisiez <tt class="option">-vf field</tt> avant de découper.
  </p></li><li><p><b>A propos des paramètres d'encodage et de la qualité: </b>
  Juste parce que je recommande <tt class="option">mbd=2</tt> ici ne veut pas dire
  que cela ne devrait pas être utilisé autre part. Avec <tt class="option">trell</tt>,
  <tt class="option">mbd=2</tt> est l'une des deux options de <code class="systemitem">libavcodec</code> 
  qui augmente le mieux la qualité, et vous devriez toujours utiliser au moins 
  une des deux à moins que la baisse de vitesse d'encodage ne soit prohibitive 
  (e.g. encodage temps réel). Il y a plusieurs autres options <code class="systemitem">libavcodec</code> 
  qui augmentent la qualité d'encodage (et réduisent la vitesse d'encodage) mais ceci est au delà
  de la portée de ce document.
  </p></li><li><p><b>A propos de la performance de pullup: </b>
  Employer <tt class="option">pullup</tt> (avec <tt class="option">softskip</tt>) 
  sur une vidéo progressive est sûr, et est habituellement une bonne idée à moins qu'il
  ait été vérifié que la source est entièrement progressive.
  La perte de performance est petite pour la plupart des cas. Sur un encodage minimal,
  <tt class="option">pullup</tt> ralentit <span class="application">MEncoder</span> de 50%. 
  L'ajout du traitement du son et d'options avancées pour <tt class="option">lavcopts</tt> masquent cette 
  différence, en limitant la perte de performance due à l'utilisation de <tt class="option">pullup</tt> à 2%.
  </p></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="menc-feat-dvd-mpeg4.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="encoding-guide.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="menc-feat-enc-libavcodec.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">13.1. Créer un rip MPEG-4 ("DivX") de haute qualité à partir d'un DVD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 13.3. Encodage avec la famille de codec <code class="systemitem">libavcodec</code></td></tr></table></div></body></html>
