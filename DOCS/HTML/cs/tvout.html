<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>8.5. pODPORA TV výstupu</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Multimediální p&#345;ehráva&#269;"><link rel="up" href="video.html" title="Kapitola 8. Výstupní video za&#345;ízení/rozhraní"><link rel="prev" href="other.html" title="8.4. Ostatní vizualiza&#269;ní hardware"><link rel="next" href="audio.html" title="Kapitola 9. Výstupní zvuková za&#345;ízení"><link rel="preface" href="howtoread.html" title="Jak &#269;íst tuto  dokumentaci"><link rel="chapter" href="intro.html" title="Kapitola 1. P&#345;edstavení"><link rel="chapter" href="install.html" title="Kapitola 2. Instalace"><link rel="chapter" href="usage.html" title="Kapitola 3. Pou&#382;ití"><link rel="chapter" href="cd-dvd.html" title="Kapitola 4. Pou&#382;ití CD/DVD"><link rel="chapter" href="faq.html" title="Kapitola 5. &#268;asto Kladené Dotazy (FAQ)"><link rel="chapter" href="containers.html" title="Kapitola 6. Nosné formáty (Containers)"><link rel="chapter" href="codecs.html" title="Kapitola 7. Kodeky"><link rel="chapter" href="video.html" title="Kapitola 8. Výstupní video za&#345;ízení/rozhraní"><link rel="chapter" href="audio.html" title="Kapitola 9. Výstupní zvuková za&#345;ízení"><link rel="chapter" href="tv.html" title="Kapitola 10. TV"><link rel="chapter" href="radio.html" title="Kapitola 11. Rádio"><link rel="chapter" href="ports.html" title="Kapitola 12. Porty"><link rel="chapter" href="mencoder.html" title="Kapitola 13. Základní pou&#382;ití MEncoderu"><link rel="chapter" href="encoding-guide.html" title="Kapitola 14. Enkódování s MEncoderem"><link rel="appendix" href="bugreports.html" title="P&#345;íloha A. Jak hlásit chyby"><link rel="appendix" href="bugs.html" title="P&#345;íloha B. Známé chyby"><link rel="appendix" href="skin.html" title="P&#345;íloha C. Formát skin&#367; MPlayeru"><link rel="subsection" href="tvout.html#tvout-mga-g400" title="8.5.1. Karty Matrox G400"><link rel="subsection" href="tvout.html#tv-out_matrox_g450" title="8.5.2. Karty Matrox G450/G550"><link rel="subsection" href="tvout.html#tvout-ati" title="8.5.3. Karty ATI"><link rel="subsection" href="tvout.html#tvout-nvidia" title="8.5.4. nVidia"><link rel="subsection" href="tvout.html#tvout-neomagic" title="8.5.5. NeoMagic"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.5. pODPORA TV výstupu</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="other.html">P&#345;edcházející</a> </td><th width="60%" align="center">Kapitola 8. Výstupní video za&#345;ízení/rozhraní</th><td width="20%" align="right"> <a accesskey="n" href="audio.html">Dal&#353;í</a></td></tr></table><hr></div><div class="sect1" lang="cs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tvout"></a>8.5. pODPORA TV výstupu</h2></div></div></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-mga-g400"></a>8.5.1. Karty Matrox G400</h3></div></div></div><p>
Pod Linuxem máte dva zp&#367;soby jak zprovoznit TV výstup na G400:
</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">D&#367;le&#382;ité</h3><p>
pro instrukce k TV výstupu na Matrox G450/G550 si prostudujte textovou &#269;ást!
</p></div><div class="variablelist"><dl><dt><span class="term">XFree86</span></dt><dd><p>
    Pomocí ovlada&#269;e a HAL modulu dostupného na stránkách <a href="http://www.matrox.com" target="_top">Matrox</a>. Takto dostanete X na TV.
    </p><p>
    <span class="bold"><strong>Tato metoda vám neposkytne akcelerované p&#345;ehrávání</strong></span>
    jako pod Windows! Sekundární jednotka má pouze YUV framebuffer, <span class="emphasis"><em>BES</em></span>
    (Back End Scaler, YUV &#353;kálova&#269; na kartách G200/G400/G450/G550) na n&#283;m
    nepracuje! Ovlada&#269; pro Windows to n&#283;jak obchází, pravd&#283;podobn&#283; pou&#382;itím
    3D jednotky pro zoom a YUV framebufferu pro zobrazení zoomovaného
    obrazu. Pokud opravdu chcete pou&#382;ít X, pou&#382;ijte volby <tt class="option">-vo x11 -fs
    -zoom</tt>, ale bude to <span class="bold"><strong>POMALÉ</strong></span> a
    bude zapnuta ochrana proti kopírování
    <span class="bold"><strong>Macrovision</strong></span>
    (Macrovision m&#367;&#382;ete obejít pomocí tohoto
    <a href="http://avifile.sf.net/mgamacro.pl" target="_top">perlového skriptu</a>).
    </p></dd><dt><span class="term">Framebuffer</span></dt><dd><p>
    Pomocí <span class="bold"><strong>matroxfb modul&#367;</strong></span> v jádrech &#345;ady 2.4.
    Jádra 2.2 v nich neobsahují podporu pro TV, tak&#382;e jsou pro tento ú&#269;el
    nepou&#382;itelná. M&#283;li byste povolit V&#352;ECHNY matroxfb-specifické vlastnosti
    b&#283;hem kompilace (vyjma MultiHead) a zakompilovat je do
    <span class="bold"><strong>modul&#367;</strong></span>!
    Rovn&#283;&#382; pot&#345;ebujete zapnuté I2C.
    </p><div class="procedure"><ol type="1"><li><p>
      Vstupte do <tt class="filename">TVout</tt> a zadejte
      <span><strong class="command">./compile.sh</strong></span>. Nainstalujte
      <tt class="filename">TVout/matroxset/matroxset</tt>
      n&#283;kde do cesty <code class="envar">PATH</code>.
      </p></li><li><p>
      Nemáte-li nainstalován <span><strong class="command">fbset</strong></span>, vlo&#382;te
      <tt class="filename">TVout/fbset/fbset</tt>
      n&#283;kde do cesty <code class="envar">PATH</code>.
      </p></li><li><p>
      Nemáte-li nainstalován <span><strong class="command">con2fb</strong></span>, vlo&#382;te
      <tt class="filename">TVout/con2fb/con2fb</tt>
      n&#283;kde do cesty <code class="envar">PATH</code>.
      </p></li><li><p>
      Pak vstupte do adresá&#345;e <tt class="filename">TVout/</tt>
      ve zdrojovém adresá&#345;i <span class="application">MPlayer</span>u a spus&#357;te
      <tt class="filename">./modules</tt> jako root. Va&#353;e textová konzole p&#345;ejde
      do re&#382;imu framebuffer (není cesta zp&#283;t!).
      </p></li><li><p>
      Dále EDITUJTE a spus&#357;te skript <tt class="filename">./matroxtv</tt>. Objeví se
      vám velmi jednoduché menu. Stiskn&#283;te <span class="keycap"><b>2</b></span> a
      <span class="keycap"><b>Enter</b></span>. Nyní byste m&#283;li mít stejný obraz na svém monitoru
      i TV. Pokud má obraz na TV (výchozí je PAL) n&#283;jaké podivné &#353;rámy, nebyl
      skript schopen nastavit správn&#283; rozli&#353;ení (na výchozích 640x512).
      Zkuste jiná rozli&#353;ení z menu a/nebo experimentujte s fbset.
      </p></li><li><p>
      Jo. Dal&#353;ím úkolem je nechat zmizet kurzor z tty1 (nebo odjinud) a
      vypnout mazání obrazovky. Spus&#357;e následující p&#345;íkazy:

      </p><pre class="screen">
echo -e '\033[?25l'
setterm -blank 0</pre><p>
      nebo
      </p><pre class="screen">
setterm -cursor off
setterm -blank 0</pre><p>

      P&#345;edchozí nejspí&#353; bude lep&#353;í umístit do skriptu a také vy&#269;istit obrazovku.
      Pro zp&#283;tné zapnutí kurzoru:
      </p><pre class="screen">echo -e '\033[?25h'</pre><p> nebo
      </p><pre class="screen">setterm -cursor on</pre><p>
      </p></li><li><p>
      A jasn&#283;. Spus&#357;te p&#345;ehrávání filmu:
      </p><pre class="screen">
mplayer -vo mga -fs -screenw 640 -screenh 512 <em class="replaceable"><code>soubor</code></em></pre><p>

      (Pokud pou&#382;íváte X, p&#345;epn&#283;te se nyní do matroxfb pomocí nap&#345;íklad
      <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F1</b></span>.)
      Zm&#283;&#328;te <code class="literal">640</code> a <code class="literal">512</code> pokud máte
      nastaveno jiné rozli&#353;ení...
      </p></li><li><p>
      <span class="bold"><strong>U&#382;ijte si ultra-rychlý ultra-vybavený Matrox TV
      výstup (lep&#353;í ne&#382; Xv)!</strong></span>
      </p></li></ol></div></dd></dl></div><p><b>Výroba kabelu pro Matrox TV-out. </b>
Z&#345;íkáme se jakékoli odpov&#283;dnosti nebo záruky za jakékoli po&#353;kození zp&#367;sobené
touto dokumentací.
</p><p><b>Kabel pro G400. </b>
Na &#269;tvrtém pinu CRTC2 konektoru je kompozitní video signál. Zem je
na &#353;estém, sedmém a osmém pinu. (informaci poskytl
Balázs Rácz)
</p><p><b>Kabel pro G450. </b>
Kompozitní video signál je na pinu jedna. Zem je na pátém,
&#353;estém, sedmém a patnáctém (5, 6, 7, 15) pinu.
(informaci poskytl Balázs Kerekes)
</p></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="tv-out_matrox_g450"></a>8.5.2. Karty Matrox G450/G550</h3></div></div></div><p>
Podpora TV výstupu pro tyto karty byla p&#345;idána teprve nedávno a dosud není
v ostré verzi jádra. V sou&#269;asnosti nelze (aspo&#328; pokud vím) pou&#382;ít modul
<span class="bold"><strong>mga_vid</strong></span>, proto&#382;e ovlada&#269; G450/G550 pracuje
pouze v jedné konfiguraci: první CRTC &#269;ip (s mnohem více schopnostmi) na první
displej a druhá CRTC (&#382;ádné <span class="bold"><strong>BES</strong></span> &#8211; pro
popis BES viz sekci G400 vý&#353;e) na TV. Tak&#382;e v sou&#269;asnosti m&#367;&#382;ete pou&#382;ít pouze
<span class="application">MPlayer</span>ovo <span class="emphasis"><em>fbdev</em></span> výstupní
rozhraní.
</p><p>
První CRTC nem&#367;&#382;e být v sou&#269;asnosti p&#345;esm&#283;rována na sekundární výstup. Autor
jaderného ovlada&#269;e matroxfb &#8211; Petr Vandrovec &#8211; pro to snad
vyrobí podporu pomocí zobrazení výstupu prvního CRTC na oba výstupy najednou,
co&#382; se pro tuto chvíli doporu&#269;uje pro G400, viz p&#345;edchozí sekce.
</p><p>
Pot&#345;ebnou záplatu jádra a podrobné HOWTO lze stáhnout z
<a href="http://www.bglug.ca/matrox_tvout/" target="_top">http://www.bglug.ca/matrox_tvout/</a>
</p></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-ati"></a>8.5.3. Karty ATI</h3></div></div></div><p><b>ÚVOD. </b>
V sou&#269;asnosti nechce ATI podporovat &#382;ádný ze svých TV-out &#269;ip&#367; pod Linuxem
z d&#367;vodu jejich licencované technologii Macrovision.
</p><div class="itemizedlist"><p class="title"><b>STATUS TV VÝSTUPU NA KARTÁCH ATI POD LINUXEM</b></p><ul type="disc"><li>
  <span class="bold"><strong>ATI Mach64</strong></span>:
  podporovaný <a href="http://gatos.sf.net" target="_top">GATOS</a>em.
  </li><li>
  <span class="bold"><strong>ASIC Radeon VIVO</strong></span>:
  podporovaný <a href="http://gatos.sf.net" target="_top">GATOS</a>em.
  </li><li>
  <span class="bold"><strong>Radeon</strong></span> a <span class="bold"><strong>Rage128</strong></span>:
  podporovaný <span class="application">MPlayer</span>em!
  Podívejte se na sekce <a href="output-trad.html#vesa" title="8.2.11. VESA - výstup do VESA BIOSu">VESA</a> a
  <a href="output-trad.html#vidix" title="8.2.13. VIDIX">VIDIX</a>.
  </li><li>
  <span class="bold"><strong>Rage Mobility P/M, Radeon, Rage 128, Mobility M3/M4</strong></span>:
  podporovaný <a href="http://www.stud.uni-hamburg.de/users/lennart/projects/atitvout/" target="_top">atitvout</a>em.
  </li></ul></div><p>
Ne ostatních kartách prost&#283; pou&#382;ijte rozhraní <a href="output-trad.html#vesa" title="8.2.11. VESA - výstup do VESA BIOSu">VESA</a>
bez VIDIX. Vy&#382;aduje to výkoný CPU.
</p><p>
Jediné co musíte, je <span class="bold"><strong>mít TV konektor zapojený
p&#345;ed zapnutím PC</strong></span> jeliko&#382; video BIOS se inicializuje pouze
jednou b&#283;hem POST procedury.
</p></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-nvidia"></a>8.5.4. nVidia</h3></div></div></div><p>
Nejprve si MUSÍTE stáhnout closed-source ovlada&#269;e z <a href="http://nvidia.com" target="_top">http://nvidia.com</a>.
Nebudu zde popisovat instalaci a konfiguraci, jeliko&#382; je to mimo rámec této
dokumentace.
</p><p>
Jakmile je funk&#269;ní XFree86, XVideo a 3D akcelerace, editujte sekci
Device v souboru <tt class="filename">XF86Config</tt>, podle
následujícího p&#345;íkladu (upravte si to pro svou kartu/TV):

</p><pre class="programlisting">
Section "Device"
        Identifier      "GeForce"
        VendorName      "ASUS"
        BoardName       "nVidia GeForce2/MX 400"
        Driver          "nvidia"
        #Option         "NvAGP" "1"
        Option          "NoLogo"
        Option          "CursorShadow"  "on"

        Option          "TwinView"
        Option          "TwinViewOrientation" "Clone"
        Option          "MetaModes" "1024x768,640x480"
        Option          "ConnectedMonitor" "CRT, TV"
        Option          "TVStandard" "PAL-B"
        Option          "TVOutFormat" "Composite"
EndSection
</pre><p>
</p><p>
Samoz&#345;ejm&#283; je nejd&#367;le&#382;it&#283;j&#353;í &#269;ást TwinView.
</p></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="tvout-neomagic"></a>8.5.5. NeoMagic</h3></div></div></div><p>
&#268;ip NeoMagic lze nalézt v r&#367;zných laptopech. N&#283;které z nich jsou vybaveny
jednoduchým analogovým TV enkodérem, n&#283;které jej mají mnohem pokro&#269;ilej&#353;í.
</p><div class="itemizedlist"><ul type="disc"><li><p>
  <span class="bold"><strong>Analogový enkodér</strong></span>:
  Testováno na Toshib&#283; Tecra 8000. Její &#269;ip pro TV výstup je mizerný k&#345;áp.
  Pokud mo&#382;no se mu obloukem vyhn&#283;te.
  </p><p>
  Musíte pou&#382;ít <tt class="option">-vo vesa</tt>. Testovaný &#269;ip umí jen pom&#283;r stran
  1.333333, tak&#382;e se ujist&#283;te, &#382;e pou&#382;íváte volby <tt class="option">-x</tt>,
  <tt class="option">-y</tt> a/nebo filtry
  <tt class="option">-vf scale,crop,expand</tt>, pokud po&#269;íta&#269; neumo&#382;ní TV výstup.
  Maximální rozli&#353;ení je 720*576 v 16bpp.
  </p><p>
  Známá omezení: pouze VESA, omezení pom&#283;ru stran 1.33333, obraz není v&#382;dy
  vycentrován, barevná hloubka filmu se ka&#382;dých 10 minut zm&#283;ní na 4bpp a
  z&#367;stane tak. &#268;asto zatuhává, problémy se zobrazováním na LCD.
  </p></li><li><p>
  <span class="bold"><strong>Chrontel 70xx enkodér</strong></span>:
  Nalezen v  IBM Thinkpad 390E a bude pravd&#283;podobn&#283; i ostatních Thinkpadech nebo
  noteboocích.
  </p><p>
  Musíte pou&#382;ít <tt class="option">-vo vesa:neotv_pal</tt> pro PAL nebo
  <tt class="option">-vo vesa:neotv_ntsc</tt> pro NTSC.
  To vám zp&#345;ístupní funkci TV výstupu v následujících 16 bpp a 8 bpp re&#382;imech:
  </p><div class="itemizedlist"><ul type="circle"><li>NTSC 320x240, 640x480 a mo&#382;ná také 800x600.</li><li>PAL  320x240, 400x300, 640x480, 800x600.</li></ul></div><p>Re&#382;im 512x384 není podporován BIOSem. Musíte obraz &#353;kálovat do
  jiného rozli&#353;ení pro aktivaci TV výstupu. Pokud vidíte obraz na obrazovce
  v 640x480 nebo v 800x600, ale ne v 320x240 nebo jiném men&#353;ím rozli&#353;ení,
  musíte nahradit dv&#283; tabulky ve <tt class="filename">vbelib.c</tt>.
  Viz funkci vbeSetTV pro více informací. V tomto p&#345;ípad&#283; prosím kontaktujte
  autora.
  </p><p>
  Známá omezení: pouze VESA, &#382;ádné dal&#353;í ovládací prvky jako jas, kontrast,
  úrove&#328; &#269;erné, filtrace blikání nejsou implementovány.
  </p></li></ul></div><p>
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="other.html">P&#345;edcházející</a> </td><td width="20%" align="center"><a accesskey="u" href="video.html">Nahoru</a></td><td width="40%" align="right"> <a accesskey="n" href="audio.html">Dal&#353;í</a></td></tr><tr><td width="40%" align="left" valign="top">8.4. Ostatní vizualiza&#269;ní hardware </td><td width="20%" align="center"><a accesskey="h" href="index.html">Dom&#367;</a></td><td width="40%" align="right" valign="top"> Kapitola 9. Výstupní zvuková za&#345;ízení</td></tr></table></div></body></html>
