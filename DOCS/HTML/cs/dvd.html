<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>5.2. P&#345;ehrávání DVD</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.49"><link rel="home" href="index.html" title="MPlayer - Multimediální p&#345;ehráva&#269;"><link rel="up" href="cd-dvd.html" title="Kapitola 5. Pou&#382;ití CD/DVD"><link rel="previous" href="drives.html" title="5.1. CD/DVD mechaniky"><link rel="next" href="vcd.html" title="5.3. P&#345;ehrávání VCD"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.2. P&#345;ehrávání DVD</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="drives.html">P&#345;edcházející</a> </td><th width="60%" align="center">Kapitola 5. Pou&#382;ití CD/DVD</th><td width="20%" align="right"> <a accesskey="n" href="vcd.html">Dal&#353;í</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="dvd"></a>5.2. P&#345;ehrávání DVD</h2></div></div><p>
Úplný seznam dostupných voleb naleznete v man stránce.
Syntaxe pro standardní Digital Versatile Disc (DVD) je následující:
<pre class="screen">mplayer dvd://<i><tt>&lt;track&gt;</tt></i> [-dvd-device <i><tt>&lt;DVD_za&#345;ízení&gt;</tt></i>]</pre>
</p><p>
P&#345;íklad:
<pre class="screen">mplayer dvd://<i><tt>1</tt></i> -dvd-device <i><tt>/dev/hdc</tt></i></pre>
</p><p>
Výchozím DVD za&#345;ízením je <tt class="filename">/dev/dvd</tt>. Pokud se va&#353;e nastavení
li&#353;í, vytvo&#345;te symlink, nebo uve&#271;te správné za&#345;ízení na p&#345;íkazovém &#345;ádku
pomocí volby <tt class="option">-dvd-device</tt>.
</p><p><b>Nový styl podpory DVD (mpdvdkit2). </b>
<span class="application">MPlayer</span> pou&#382;ívá <tt>libdvdread</tt> a
<tt>libdvdcss</tt> pro dekódování a p&#345;ehrávání DVD. Tyto dv&#283;
knihovny jsou obsa&#382;eny v podadresá&#345;i
<tt class="filename">libmpdvdkit2/</tt> zdrojových kód&#367;
<span class="application">MPlayer</span>u, nemusíte je tedy instalovat zvlá&#353;&#357;
Zvolili jsme tento zp&#367;sob, proto&#382;e jsme museli opravit chybu v
<tt>libdvdread</tt> a aplikovat patch, který p&#345;idává podporu
<span class="bold"><b>ke&#353;ování zlomených CSS klí&#269;&#367;</b></span>, na
<tt>libdvdcss</tt>. To vedlo k výraznému zvý&#353;ení rychlosti,
proto&#382;e klí&#269;e nemusí být nyní lámány poka&#382;dé p&#345;ed p&#345;ehráváním.
</p><p>
<span class="application">MPlayer</span> umí rovn&#283;&#382; pou&#382;ít knihovny
<tt>libdvdread</tt> a <tt>libdvdcss</tt>
na systémové úrovni, ale toto &#345;e&#353;ení <span class="bold"><b>nedoporu&#269;ujeme</b></span>,
proto&#382;e m&#367;&#382;e vést k chybám, nekompatibilit&#283; knihovny a ni&#382;&#353;í rychlosti.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Poznámka</h3><p>
V p&#345;ípad&#283; problém&#367; s dekódováním DVD, zkuste vypnout supermount a podobná ud&#283;látka.
</p></div><p><b>Struktura DVD. </b>
DVD disky mají 2048 bajt&#367; na sektor s ECC/CRC. Obvykle mají souborový systém UDF
v jediné stop&#283;, obsahující r&#367;zné soubory (malé .IFO a .BUK soubory a velké (1GB)
.VOB soubory). Jsou to reálné soubory a mohou být kopírovány/p&#345;ehrávány
z p&#345;ipojeného systému soubor&#367; ne&#353;ifrovaného DVD.
</p><p>
Soubory .IFO obsahují informace pro navigaci ve filmu (kapitola/titul/mapa úhl&#367;,
tabulka jazyk&#367;, atd) a jsou pot&#345;eba pro &#269;tení a interpretaci obsahu .VOBu
(filmu). Soubory .BUK jsou jejich zálohami. V&#353;ude pou&#382;ívají
<span class="bold"><b>sektory</b></span>, tak&#382;e musíte pou&#382;ít surové (RAW)
adresování sektor&#367; na disku, abyste se mohli navigovat v DVD, nebo dekryptovat
jeho obsah.
</p><p>
Podpora DVD vy&#382;aduje p&#345;ímý sektorov&#283;-orientovaný p&#345;ístup k za&#345;ízení. Nane&#353;t&#283;stí
musíte (pod Linuxem) být root, abyste dostali adresu sektoru souboru.
To je d&#367;vod pro&#269; v&#367;bec nepou&#382;íváme modul souborového systému z kernelu a místo
n&#283;j jej implementujeme v u&#382;ivatelském prostoru. To zaji&#353;&#357;ují
<tt>libdvdread</tt> 0.9.x a <tt>libmpdvdkit</tt>.
UDF ovlada&#269; z kernelu není pot&#345;eba, jeliko&#382; tyto knihovny mají zabudován sv&#367;j
vlastní. Rovn&#283;&#382; nemusí být DVD p&#345;imountováno vzhledem k tomu &#382;e pou&#382;íváme
pouze p&#345;ímý (raw) p&#345;ístup.
</p><p>
N&#283;kdy <tt class="filename">/dev/dvd</tt> nem&#367;&#382;e být &#269;teno u&#382;ivateli, proto auto&#345;i
<tt>libdvdread</tt> implementovali emula&#269;ní vrstvu, která
p&#345;evádí sektorové adresy na soubor+offset za ú&#269;elem emulace raw p&#345;ístupu
nad p&#345;ipojeným souborovým systémem nebo dokonce i hard diskem.
</p><p>
<tt>libdvdread</tt> dokonce p&#345;ijme bod p&#345;ipojení (mountpoint)
místo názvu za&#345;ízení pro p&#345;ímý p&#345;ístup a podívá se do
<tt class="filename">/proc/mounts</tt> na jméno za&#345;ízení. To bylo vyvinuto pro
Solaris, kde jsou názvy soubor&#367; dynamicky alokovány.
</p><p>
Výchozím DVD za&#345;ízením je <tt class="filename">/dev/dvd</tt>. Pokud se va&#353;e
nastavení li&#353;í, vytvo&#345;te symlink, nebo uve&#271;te správné za&#345;ízení na p&#345;íkazovém
&#345;ádku pomocí volby <tt class="option">-dvd-device</tt>.
</p><p><b>DVD autentifikace. </b>
Tato autentifika&#269;ní a dekryptovací metoda nového stylu podpory DVD je
zaji&#353;&#357;ována pou&#382;itím patchované knihovny <tt>libdvdcss</tt>
(viz vý&#353;). Metoda m&#367;&#382;e být nastavena pomocí prom&#283;nné prost&#345;edí
<tt>DVDCSS_METHOD</tt> nastavené na klí&#269;, disk nebo titul.
</p><p>
Pokud není nastavena, zkou&#353;í se následující metody (výchozí: "key",
"title request"):
</p><div class="orderedlist"><ol type="1"><li><p>
<span class="bold"><b>bus key</b></span>: Tento klí&#269; je dohodnut b&#283;hem
autentifikace (dlouhá sm&#283;s ioctl volání a vým&#283;n r&#367;zných klí&#269;&#367;, kryptování)
a je pou&#382;it pro za&#353;ifrování klí&#269;&#367; titulu a disku ne&#382; jsou odeslány p&#345;es
nechrán&#283;nou sb&#283;rnici (jako prevence odposlechnutí). Klí&#269; "bus key" je pot&#345;eba
pro p&#345;edde&#353;ifrování &#353;ifrovaného klí&#269;e disku.
</p></li><li><p>
<span class="bold"><b>cached key</b></span>: <span class="application">MPlayer</span>
se poohlédne po ji&#382; zlomených klí&#269;ích titulu, které jsou ulo&#382;eny v adresá&#345;i
<tt class="filename">~/.mplayer/DVDKeys</tt> (rychlé ;).
</p></li><li><p>
<span class="bold"><b>key</b></span>: Pokud není k dispozici "cached key",
<span class="application">MPlayer</span> zkusí roz&#353;ifrovat klí&#269; disku pomocí
sady p&#345;ilo&#382;ených klí&#269;&#367; p&#345;ehráva&#269;e.
</p></li><li><p>
<span class="bold"><b>disk</b></span>: Pokud sel&#382;e "key" metoda,
(nap&#345;. nejsou p&#345;ilo&#382;eny klí&#269;e p&#345;ehráva&#269;e), <span class="application">MPlayer</span>
crackne klí&#269; disku algoritmem hrubé síly. Tento proces je náro&#269;ný na CPU a
vy&#382;aduje 64 MB pam&#283;ti (16M 32Bitových polo&#382;ek hash tabulky) pro ulo&#382;ení
pracovních dat. Tato metoda by m&#283;la fungovat v&#382;dy (pomalé).
</p></li><li><p>
<span class="bold"><b>title request</b></span>: S pomocí klí&#269;e disku, po&#382;ádá
<span class="application">MPlayer</span> o &#353;ifrované klí&#269;e titulu, které jsou
ukryty ve <span class="emphasis"><i>skrytých sektorech</i></span> pomocí
<tt>ioctl()</tt>.
Ochrana regiony v RPC-2 mechanikách je provád&#283;na v tomto kroku a na n&#283;kterých
mechanikách m&#367;&#382;e selhat.
Pokud usp&#283;je, budou klí&#269;e titulu (title keys) dekryptovány pomocí klí&#269;e disku
(disk key) a klí&#269;e sb&#283;rnice (bus key).
</p></li><li><p>
<span class="bold"><b>title</b></span>: Tato metoda je pou&#382;ita pokud sel&#382;e
po&#382;adavek na titul a nespoléhá se na vým&#283;nu klí&#269;&#367; s DVD mechanikou.
Pou&#382;ívá se zde kryptografický útok na p&#345;ímé ur&#269;ení klí&#269;e (vyhledáváním
opakujícího se vzoru v de&#353;ifrovaném obsahu VOB a rozhodnutím zda &#269;istý text
odpovídající prvním &#353;ifrovaným bajt&#367;m je pokra&#269;ováním tohoto vzoru).
Metoda je také známa jako "known plaintext attack"
nebo "DeCSSPlus". V nemnoha p&#345;ípadech m&#367;&#382;e metoda selhat z d&#367;vodu
nedostatku &#353;ifrovaných dat na disku pro provedení statistického útoku, nebo
proto&#382;e se klí&#269; m&#283;ní uprost&#345;ed titulu. Tato metoda je jediným zp&#367;sobem jak
dekryptovat DVD ulo&#382;ené na harddisku nebo DVD se &#353;patným regionem na
RPC2 mechanice (pomalé).
</p></li></ol></div><p>
RPC-1 DVD mechaniky chrání nastavení regionu pouze softwarov&#283;. RPC-2 mechaniky
mají hardwarovou ochranu umo&#382;&#328;ující pouze 5 zm&#283;n. M&#367;&#382;e být pot&#345;eba/doporu&#269;eno
provést upgrade firmwaru na RPC-1 pokud máte RPC-2 DVD mechaniku.
M&#367;&#382;ete zkusit najít upgrady firmwaru pro svou mechaniku na internetu,
<a href="http://forum.rpc-1.com/dl_all.php" target="_top">toto firmwarové fórum</a>
m&#367;&#382;e být dobrým za&#269;átkem pro va&#353;e hledání.
Pokud pro va&#353;i mechaniku není k dispozici upgrade firmwaru, pou&#382;ijte
<a href="http://linvdr.org/projects/regionset/" target="_top">nástroj regionset</a>
pro nastavení region kódu va&#353;í DVD mechaniky (pod Linux).
<span class="bold"><b>Varování</b></span>: Region m&#367;&#382;ete p&#345;enastavit pouze
p&#283;tkrát.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="drives.html">P&#345;edcházející</a> </td><td width="20%" align="center"><a accesskey="u" href="cd-dvd.html">Nahoru</a></td><td width="40%" align="right"> <a accesskey="n" href="vcd.html">Dal&#353;í</a></td></tr><tr><td width="40%" align="left" valign="top">5.1. CD/DVD mechaniky </td><td width="20%" align="center"><a accesskey="h" href="index.html">Dom&#367;</a></td><td width="40%" align="right" valign="top"> 5.3. P&#345;ehrávání VCD</td></tr></table></div></body></html>
