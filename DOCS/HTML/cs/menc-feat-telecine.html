<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>14.2. Jak nalo&#382;it s telecine a prokladem v NTSC DVD</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - Multimediální p&#345;ehráva&#269;"><link rel="up" href="encoding-guide.html" title="Kapitola 14. Enkódování s MEncoderem"><link rel="prev" href="menc-feat-dvd-mpeg4.html" title='14.1. Vytvo&#345;ení MPEG-4 ("DivX") ripu DVD filmu ve vysoké kvalit&#283;'><link rel="next" href="menc-feat-enc-libavcodec.html" title="14.3. Enkódování s rodinou kodek&#367; libavcodec
"><link rel="preface" href="howtoread.html" title="Jak &#269;íst tuto  dokumentaci"><link rel="chapter" href="intro.html" title="Kapitola 1. P&#345;edstavení"><link rel="chapter" href="install.html" title="Kapitola 2. Instalace"><link rel="chapter" href="usage.html" title="Kapitola 3. Pou&#382;ití"><link rel="chapter" href="cd-dvd.html" title="Kapitola 4. Pou&#382;ití CD/DVD"><link rel="chapter" href="faq.html" title="Kapitola 5. &#268;asto Kladené Dotazy (FAQ)"><link rel="chapter" href="containers.html" title="Kapitola 6. Nosné formáty (Containers)"><link rel="chapter" href="codecs.html" title="Kapitola 7. Kodeky"><link rel="chapter" href="video.html" title="Kapitola 8. Výstupní video za&#345;ízení/rozhraní"><link rel="chapter" href="audio.html" title="Kapitola 9. Výstupní zvuková za&#345;ízení"><link rel="chapter" href="tv.html" title="Kapitola 10. TV"><link rel="chapter" href="radio.html" title="Kapitola 11. Rádio"><link rel="chapter" href="ports.html" title="Kapitola 12. Porty"><link rel="chapter" href="mencoder.html" title="Kapitola 13. Základní pou&#382;ití MEncoderu"><link rel="chapter" href="encoding-guide.html" title="Kapitola 14. Enkódování s MEncoderem"><link rel="appendix" href="bugreports.html" title="P&#345;íloha A. Jak hlásit chyby"><link rel="appendix" href="bugs.html" title="P&#345;íloha B. Známé chyby"><link rel="appendix" href="skin.html" title="P&#345;íloha C. Formát skin&#367; MPlayeru"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-intro" title="14.2.1. P&#345;edstavení"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-ident" title="14.2.2. Jak zjistit o jaký typ videa se jedná"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-encode" title="14.2.3. Jak enkódovat jednotlivé kategorie"><link rel="subsection" href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="14.2.4. Poznámky pod &#269;arou"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.2. Jak nalo&#382;it s telecine a prokladem v NTSC DVD</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="menc-feat-dvd-mpeg4.html">P&#345;edcházející</a> </td><th width="60%" align="center">Kapitola 14. Enkódování s <span class="application">MEncoder</span>em</th><td width="20%" align="right"> <a accesskey="n" href="menc-feat-enc-libavcodec.html">Dal&#353;í</a></td></tr></table><hr></div><div class="sect1" lang="cs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-telecine"></a>14.2. Jak nalo&#382;it s telecine a prokladem v NTSC DVD</h2></div></div></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-intro"></a>14.2.1. P&#345;edstavení</h3></div></div></div><p><b>Co je to telecine? </b>
  Pokud moc nerozumíte tomu, co je napsáno v tomto dokumentu,
  p&#345;e&#269;t&#283;te si
  <a href="http://en.wikipedia.org/wiki/Telecine" target="_top">&#269;lánek na Wikipedii</a>.
  Je to srozumitelný a rozumn&#283; vy&#269;erpávající popis co je to
  telecine.
</p><p><b>Poznámka k &#269;ísl&#367;m. </b>
  Mnoho dokument&#367;, v&#269;etn&#283; vý&#353;e odkazované p&#345;íru&#269;ky, udává hodnotu p&#367;lsnímk&#367; za
  sekundu NTSC videa jako 59.94 a odpovídající snímky za sekundu jako 29.97
  (pro telecinované a prokládané video) a 23.976 (pro neprokládané).
  Pro jednoduchost n&#283;které dokumenty zaokrouhlují tyto hodnoty na 60, 30 a 24.
</p><p>
  P&#345;esn&#283; &#345;e&#269;eno jsou v&#353;echny tyto &#269;ísla p&#345;ibli&#382;ná. &#268;ernobílé NTSC video m&#283;lo
  p&#345;esn&#283; 60 p&#367;lsnímk&#367; za sekundu, ale pozd&#283;ji byla zvolena hodnota 60000/1001,
  aby bylo mo&#382;né p&#345;idat barevná data a z&#367;stat kompatibilní se starými
  &#269;ernobílými televizemi. Digitální NTSC (jak je na DVD) má rovn&#283;&#382; rychlost
  60000/1001 p&#367;lsnímk&#367; za sekundu. Z toho vyplývá, &#382;e prokládané a telecinované
  video má 30000/1001 snímk&#367; za sekundu; neprokládané video má 24000/1001 snímk&#367;
  za sekundu.
</p><p>
  Star&#353;í verze dokumentace <span class="application">MEncoder</span>u a mnoho zpráv
  v archivu konference hovo&#345;í o 59.94, 29.97 a 23.976.
  V&#353;echna dokumentace <span class="application">MEncoder</span>u byla aktualizována
  a pou&#382;ívá zlomkových hodnot. Vy byste je m&#283;li pou&#382;ívat také.
</p><p>
  <tt class="option">-ofps 23.976</tt> je nesprávn&#283;.
  Místo toho byste m&#283;li pou&#382;ít <tt class="option">-ofps 24000/1001</tt>.
</p><p><b>Jak je pou&#382;íváno telecine. </b>
  Ve&#353;keré video ur&#269;ené k zobrazení na NTSC televizi musí mít 60000/1001
  p&#367;lsnímk&#367; za sekundu. Filmy vyráb&#283;né pro televizi jsou &#269;asto natá&#269;eny p&#345;ímo
  ve 60000/1001 p&#367;lsnímcích za sekundu, ale v&#283;t&#353;ina film&#367; do kin je natá&#269;ena p&#345;i
  24 nebo 24000/1001 snímcích za sekundu. Kdy&#382; je film p&#345;episován na DVD, je
  video upraveno pro televizi v procesu zvaném telecine.
</p><p>
  Na DVD není video ve skute&#269;nosti nikdy ulo&#382;eno v 60000/1001 p&#367;lsnímcích za
  sekundu. Video je&#382; bylo p&#367;vodn&#283; 60000/1001, bude mít ka&#382;dý pár p&#367;lsnímk&#367;
  zkombinován do podoby snímku s rychlostí 30000/1001 snímk&#367; za sekundu.
  Hardwarové DVD p&#345;ehráva&#269;e pak &#269;tou p&#345;íznak, zabudovaný ve video proudu, který
  udává jestli první p&#367;lsnímek tvo&#345;í liché nebo sudé &#345;ádky.
</p><p>
  Obsah ve 24000/1001 snímcích za sekundu obvykle z&#367;stává tak jak byl v dob&#283;
  p&#345;episu na DVD a DVD p&#345;ehráva&#269; musí provést telecine za letu. N&#283;kdy je v&#353;ak
  video telecinováno <span class="emphasis"><em>p&#345;ed</em></span> ulo&#382;ením na DVD; dokonce i kdy&#382;
  m&#283;lo p&#367;vodn&#283; 24000/1001 snímk&#367; za sekundu, bude mít 60000/1001 p&#367;lsnímk&#367; za
  sekundu. Pokud je ulo&#382;en na DVD, páry p&#367;lsnímk&#367; jsou zkombinovány do formy
  30000/1001 snímk&#367; za sekundu.
</p><p>
  Kdy&#382; se podíváme na jednotlivé snímky vzniklé z videa o 60000/10001 p&#367;lsnímcích
  za sekundu, telecinovaného nebo ne, je z&#345;eteln&#283; vid&#283;t toto prokládání jakmile
  je zde n&#283;jaký pohyb, jeliko&#382; jeden p&#367;lsnímek (&#345;ekn&#283;me liché &#345;ádky)
  reprezentuje &#269;asový okam&#382;ik o 1/(60000/1001) sekundy pozd&#283;j&#353;í ne&#382; ten druhý.
  P&#345;ehrávání prokládaného videa na po&#269;íta&#269;i vypadá &#353;kared&#283; jak proto, &#382;e monitor
  má vy&#353;&#353;í rozli&#353;ení, ale i proto&#382;e video je zobrazováno snímek po snímku místo
  p&#367;lsnímek po p&#367;lsnímku.
</p><div class="itemizedlist"><p class="title"><b>Poznámky:</b></p><ul type="disc"><li><p>
  Tento odstavec platí pouze pro NTSC DVD, nikoli PAL.
  </p></li><li><p>
  &#344;ádky s p&#345;íklady spu&#353;t&#283;ní <span class="application">MEncoder</span>u v dokumentu
  <span class="bold"><strong>nejsou</strong></span> ur&#269;eny pro opravdové pou&#382;ití.
  Obsahují pouze nutné minimum vy&#382;adované pro enkódování p&#345;íslu&#353;né ke kategorii
  videa. Jak d&#283;lat dobré DVD ripy nebo doladit
  <code class="systemitem">libavcodec</code> pro maximální kvalitu
  není v záb&#283;ru tohoto dokumentu.
  </p></li><li><p>
  Poznámky pod &#269;arou p&#345;íslu&#353;né pro tuto p&#345;íru&#269;ku jsou linkovány takto:
  <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="14.2.4. Poznámky pod &#269;arou">[1]</a>
  </p></li></ul></div></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-ident"></a>14.2.2. Jak zjistit o jaký typ videa se jedná</h3></div></div></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-progressive"></a>14.2.2.1. Progresivní (neprokládané)</h4></div></div></div><p>
  Progresivní video je p&#367;vodn&#283; nato&#269;eno p&#345;i 24000/1001 snímcích za sekundu a
  ulo&#382;eno na DVD beze zm&#283;n.
</p><p>
  Kdy&#382; p&#345;ehrajete progresivní DVD v <span class="application">MPlayer</span>u,
  <span class="application">MPlayer</span> vypí&#353;e následující &#345;ádek jakmile za&#269;ne
  p&#345;ehrávat:

  </p><pre class="screen"> demux_mpg: 24000/1001 fps progressive NTSC content detected, switching framerate.</pre><p>

  Od tohoto okam&#382;iku by demux_mpg nem&#283;l nikdy &#345;íct &#382;e na&#353;el
  "30000/1001 fps NTSC obsah."
</p><p>
  Kdy&#382; sledujete progresivní video, nem&#283;li byste nikdy vid&#283;t &#382;ádný proklad.
  Dejte si ale pozor, jeliko&#382; je ob&#269;as tro&#353;ku telecine namixováno tam, kde byste
  to v&#367;bec ne&#269;ekali. Setkal jsem se s TV show na DVD, které m&#283;ly sekundu
  telecine p&#345;i ka&#382;dé zm&#283;n&#283; scény nebo na zcela náhodných místech. Jednou jsem se
  díval na DVD, které bylo do p&#367;lky progresivní a od p&#367;lky telecinováno. Pokud
  chcete být <span class="emphasis"><em>opravdu</em></span> d&#367;kladní, m&#367;&#382;ete oskenovat celý film:

  </p><pre class="screen">mplayer dvd://1 -nosound -vo null -benchmark</pre><p>

  Pou&#382;ití volby <tt class="option">-benchmark</tt> nechá
  <span class="application">MPlayer</span> p&#345;ehrát film tak rychle, jak je to jen
  mo&#382;né; stejn&#283; to ale, v závislosti na va&#353;em stroji, chvíli potrvá.
  V&#382;dy, kdy&#382; demux_mpg ohlásí zm&#283;nu snímkové rychlosti, &#345;ádek t&#283;sn&#283; nad hlá&#353;ením
  uká&#382;e &#269;as ve kterém ke zm&#283;n&#283; do&#353;lo.
</p><p>
  Ob&#269;as je progresivní video na DVD ozna&#269;eno jako
  "soft-telecine" proto&#382;e je zamý&#353;leno, aby telecine provedl DVD
  p&#345;ehráva&#269;.
</p></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-telecined"></a>14.2.2.2. Telecinováno (p&#345;epsáno pro NTSC televizi)</h4></div></div></div><p>
  Telecinované video bylo p&#367;vodn&#283; nato&#269;eno p&#345;i 24000/1001, ale bylo telecinováno
  <span class="emphasis"><em>p&#345;ed</em></span> zápisem na DVD.
</p><p>
  <span class="application">MPlayer</span> (nikdy) nehlásí &#382;ádnou zm&#283;nu snímkové
  rychlosti, kdy&#382; p&#345;ehrává telecinované video.
</p><p>
  P&#345;i sledování telecinovaného videa uvidíte prokladové artefakty, které jako by
  "blikaly": opakovan&#283; mizí a objevují se.
  Blí&#382;e se na to m&#367;&#382;ete podívat:
  </p><div class="orderedlist"><ol type="1"><li><pre class="screen">mplayer dvd://1</pre></li><li><p>
    P&#345;evi&#328;te na &#269;ást s pohybem.
    </p></li><li><p>
    Pou&#382;ijte klávesu <span class="keycap"><b>.</b></span> pro krokování po jednom snímku.
    </p></li><li><p>
    Sledujte vzor prokládan&#283; vypadajících a progresivn&#283; vypadajících snímk&#367;.
    Pokud je vzor, který sledujete PPPII,PPPII,PPPII,..., pak je video
    telecinováno. Pokud vidíte jiný vzor, pak mohlo být video telecinováno
    pou&#382;itím n&#283;jaké nestandardní metody; <span class="application">MEncoder</span>
    neumí bezztrátov&#283; p&#345;evést nestandardní telecine do progresivního. Pokud
    nevidíte &#382;ádný vzor, pak je video nejspí&#353; prokládané.
    </p></li></ol></div><p>
</p><p>
  N&#283;kdy je telecinované video na DVD ozna&#269;eno jako "hard-telecine".
  Jeliko&#382; hard-telecine ji&#382; je ve 60000/1001 p&#367;lsnímcích za sekundu, DVD
  p&#345;ehráva&#269; p&#345;ehraje video bez jakýchkoli manipulací.
</p><p>
  Dal&#353;ím zp&#367;sobem jak zjistíte, &#382;e je vá&#353; zdroj telecinován, je p&#345;ehrát
  jej s volbami <tt class="option">-vf pullup</tt> a <tt class="option">-v</tt> a
  uvidíte, jak <tt class="option">pullup</tt> nachází vzor.
  Pokud je zdroj telecinován, m&#283;libyste vid&#283;t na konzoli vzor 3:2 s opakujícím
  se <code class="systemitem">0+.1.+2</code> a <code class="systemitem">0++1</code>.
  Tato technika má tu výhodu, &#382;e nemusíte sledovat zdroj, abyste jej
  identifikovali, co&#382; se m&#367;&#382;e hodit, pokud chcete automatizovat enkódovací
  proceduru, nebo ji provést vzdálen&#283; p&#345;es pomalou linku.
</p></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-interlaced"></a>14.2.2.3. Prokládané</h4></div></div></div><p>
  Prokládané video bylo od samého za&#269;átku filmováno p&#345;i 60000/1001 p&#367;lsnímcích
  za sekundu a ulo&#382;eno na DVD ve 30000/1001 snímcích za sekundu. Efekt
  prokládání (&#269;asto ozna&#269;ovaný jako "rozt&#345;epení") je výsledkem
  skládání p&#367;lsnímk&#367; do snímk&#367;. Vzdálenost mezi p&#367;lsnímky má být 1/(60000/1001)
  sekundy a proto kdy&#382; jsou zobrazeny sou&#269;asn&#283;, je rozdíl jasn&#283; patrný.
</p><p>
  Stejn&#283; jako u telecinovaného videa by <span class="application">MPlayer</span> nem&#283;l
  hlásit jakékoli zm&#283;ny snímkové rychlosti p&#345;i p&#345;ehrávání prokládaného obsahu.
</p><p>
  Kdy&#382; si prohlédnete video blí&#382;e pomocí krokování snímk&#367; pomocí klávesy
  <span class="keycap"><b>.</b></span>, uvidíte, &#382;e ka&#382;dý jednotlivý snímek je prokládaný.
</p></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpt"></a>14.2.2.4. Smí&#353;ené progresivní a telecinované</h4></div></div></div><p>
  Ve&#353;kerý obsah "smí&#353;eného progresivního a telecinovaného" videa m&#283;l
  p&#367;vodn&#283; 24000/1001 snímk&#367; za sekundu, ale n&#283;které &#269;ásti pro&#353;ly telecine.
</p><p>
  Kdy&#382; <span class="application">MPlayer</span> p&#345;ehrává tuto kategorii, bude (&#269;asto
  i opakovan&#283;) p&#345;epínat mezi "30000/1001 snímky/s NTSC"
  a "24000/1001 snímky/s progresivním NTSC". Sledujte spodek
  <span class="application">MPlayer</span>ova výstupu, abyste zachytili tyto zprávy.
</p><p>
  M&#283;li byste prov&#283;&#345;it &#269;ásti se "30000/1001 snímky/s NTSC", abyste m&#283;li
  jistotu, &#382;e jsou skute&#269;n&#283; telecinovány a ne jen prokládané.
</p></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-ident-mixedpi"></a>14.2.2.5. Smí&#353;ené progresivní a prokládané</h4></div></div></div><p>
  Ve "smí&#353;eném progresivním a prokládaném" obsahu bylo progresivní a
  prokládané video splácáno dohromady.
</p><p>
  Tato kategorie vypadá jako "smí&#353;ené progresivní a telecine",
  dokud si neprohlédnete &#269;ásti se 30000/1001 snímky/s a neuvidíte, &#382;e nemají
  telecine vzor.
</p></div></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-encode"></a>14.2.3. Jak enkódovat jednotlivé kategorie</h3></div></div></div><p>
  Jak jsem se zmínil na za&#269;átku, p&#345;íklady p&#345;íkazových &#345;ádk&#367;
  <span class="application">MEncoder</span>u ní&#382;e <span class="bold"><strong>nejsou</strong></span>
  ur&#269;eny pro praktické pou&#382;ití; pouze demonstrují, minimum voleb nutných k tomu,
  abyste správn&#283; enkódovali ka&#382;dou kategorii.
</p><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-progressive"></a>14.2.3.1. Progresivní</h4></div></div></div><p>
  Progresivní video nevy&#382;aduje &#382;ádné speciální filtrování pro enkódování.
  Jediná volba, která by ur&#269;it&#283; nem&#283;la chyb&#283;t je
  <tt class="option">-ofps 24000/1001</tt>. Jinak se <span class="application">MEncoder</span>
  pokusí enkódovat p&#345;i 30000/1001 snímcích/s a bude opakovat snímky.
</p><p>
  </p><pre class="screen">mencoder dvd://1 -oac copy -ovc lavc -ofps 24000/1001</pre><p>
</p><p>
  &#268;asto se stává, &#382;e video, které vypadá progresivn&#283;, má v sob&#283; zamíchány
  krati&#269;ké telecinované &#269;ásti. Pokud si nejste jisti, je nejbezpe&#269;n&#283;j&#353;í
  pova&#382;ovat video za
  <a href="menc-feat-telecine.html#menc-feat-telecine-encode-mixedpt" title="14.2.3.4. Smí&#353;ené progresivní a telecinované">smí&#353;ené progresivní a
  telecinované</a>. Ztráta výkonu je jen malá
  <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="14.2.4. Poznámky pod &#269;arou">[3]</a>.
</p></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-telecined"></a>14.2.3.2. Telecinované</h4></div></div></div><p>
  Telecine lze obrátit a dostat tak p&#367;vodní 24000/1001 obsah, za pou&#382;ití metody
  zvané inverzní telecine.
  <span class="application">MPlayer</span> má n&#283;kolik filtr&#367; práv&#283; pro tuto &#269;innost;
  nejlep&#353;í z t&#283;chto filtr&#367;, <tt class="option">pullup</tt>, je popsán v &#269;ásti
  <a href="menc-feat-telecine.html#menc-feat-telecine-encode-mixedpt" title="14.2.3.4. Smí&#353;ené progresivní a telecinované">smí&#353;ené progresivní a
  telecinované</a>.
</p></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-interlaced"></a>14.2.3.3. Prokládané</h4></div></div></div><p>
  V praxi není v&#283;t&#353;inou mo&#382;né dostat kompletní progresivní video z prokládaného
  obsahu. Jediný zp&#367;sob jak to ud&#283;lat bez ztráty poloviny svislého rozli&#353;ení je
  zdvojením snímkové rychlosti a zkusit "odhadnout" co mám provést
  s odpovídajícími linkami ka&#382;dého z p&#367;lsnímk&#367; (má to ov&#353;em i nevýhody &#8211;
  viz metoda 3).
</p><div class="orderedlist"><ol type="1"><li><p>
  Enkódujte video v prokládané form&#283;. Obvykle prokládání zp&#367;sobí t&#283;&#382;kou újmu
  schopnosti enkodéru dob&#345;e komprimovat, ale
  <code class="systemitem">libavcodec</code> má dv&#283; volby ur&#269;ené práv&#283;
  pro lep&#353;í ukládání prokládaného videa: <tt class="option"> ildct</tt> a
  <tt class="option">ilme</tt>. Rovn&#283;&#382; velmi doporu&#269;ujeme pou&#382;ití volby
  <tt class="option">mbd=2</tt> <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="14.2.4. Poznámky pod &#269;arou">[2] </a>
  proto&#382;e bude enkódovat makrobloky jako neprokládané tam, kde není &#382;ádný pohyb.
  Volba <tt class="option">-ofps</tt> zde <span class="bold"><strong>není</strong></span> nutná.

  </p><pre class="screen">mencoder dvd://1 -oac copy -ovc lavc -lavcopts ildct:ilme:mbd=2</pre><p>
  </p></li><li><p>
  Pou&#382;ijte filtr odstra&#328;ující proklad p&#345;ed enkódováním. Je jich zde n&#283;kolik,
  m&#367;&#382;ete si vybrat. Ka&#382;dý z nich má svá pro i proti. Prohlédn&#283;te si výstup
  <tt class="option">mplayer -pphelp</tt> abyste zjistili, které jsou k dispozici
  (grep pro "deint") a vyhledejte
  <a href="http://www.mplayerhq.hu/design7/info.html#mailing_lists" target="_top">
  e-mailové konference MPlayeru</a>, kde naleznete mnoho diskusí o r&#367;zných
  filtrech. Snímková rychlost se ani zde nem&#283;ní, tak&#382;e &#382;ádné
  <tt class="option">-ofps</tt>. Odstran&#283;ní proklady by rovn&#283;&#382; m&#283;lo být provedeno po
  o&#345;ezání <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="14.2.4. Poznámky pod &#269;arou">[1]</a>, ale p&#345;ed
  &#353;kálováním.

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf pp=lb -ovc lavc</pre><p>
  </p></li><li><p>
  Nane&#353;t&#283;stí je tato volba vadná v <span class="application">MEncoder</span>u;
  m&#283;la by dob&#345;e pracovat v <span class="application">MEncoder G2</span>, ale ten tu
  zatím není. Stejn&#283; je ur&#269;ením <tt class="option"> -vf tfields</tt> vytvo&#345;ení
  kompletního snímku z ka&#382;dého p&#367;lsnímku, co&#382; zvý&#353;í snímkovou rychlost na
  60000/1001. Výhoda tohoto p&#345;ístupu je v tom, &#382;e nep&#345;ijdete o &#382;ádná data;
  Proto&#382;e v&#353;ak ka&#382;dý snímek pochází jen z jediného p&#367;lsnímku, musí být chyb&#283;jící
  linky n&#283;jak dopo&#269;ítány. Neexistuje mnoho dobrých metod, generujících chyb&#283;jící
  data, tak&#382;e výsledek bude trochu podobný tomu, kdy&#382; se pou&#382;ije n&#283;který filtr
  odstra&#328;ující proklad.
  Generováním chyb&#283;jících linek vznikají dal&#353;í problémy tím, &#382;e se zdvojnásobí
  mno&#382;ství dat. Tak&#382;e jsou pot&#345;eba vy&#353;&#353;í datové toky pro enkódování, aby byla
  zachována kvalita a spot&#345;ebuje se více výkonu CPU jak pro enkódování, tak pro
  dekódování. tfields má n&#283;kolik r&#367;zných voleb pro volbu zp&#367;sobu generování
  chyb&#283;jících linek. Pokud pou&#382;ijete tuto mo&#382;nost, prostudujte si manuál a
  zvolte si volbu, která s va&#353;ím materiálem vypadá nejlépe.
  Poznamenejme, &#382;e p&#345;i pou&#382;ití <tt class="option">tfields</tt>
  <span class="bold"><strong>musíte</strong></span> nastavit <tt class="option">-fps</tt> a
  <tt class="option">-ofps</tt> na dvojnásobek snímkové rychlosti originálu.

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf tfields=2 -ovc lavc -fps 60000/1001 -ofps 60000/1001</pre><p>
  </p></li><li><p>
  Pokud plánujete výrazné zmen&#353;ování, m&#367;&#382;ete extrahovat a enkódovat jen jeden
  z p&#367;lsnímk&#367;. Samoz&#345;ejm&#283; p&#345;ijdete o polovinu svislého rozli&#353;ení, ale pokud
  plánujete zmen&#353;ení ideáln&#283; na 1/2 originální velikosti, nebude na této ztrát&#283;
  v&#367;bec zále&#382;et. Výsledek bude progresivní soubor s 30000/1001 snímky za sekundu.
  Celý postup spo&#269;ívá v pou&#382;ití <tt class="option">-vf field</tt> a následném o&#345;ezu
  <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="14.2.4. Poznámky pod &#269;arou">[1]</a> a p&#345;íslu&#353;ném
  &#353;kálování. Pamatujte, &#382;e musíte nastavit scale tak, aby kompenzoval
  zmen&#353;ení svislého rozm&#283;ru na polovinu.
  </p><pre class="screen">mencoder dvd://1 -oac copy -vf field=0 -ovc lavc</pre><p>
  </p></li></ol></div></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpt"></a>14.2.3.4. Smí&#353;ené progresivní a telecinované</h4></div></div></div><p>
  Abychom p&#345;evedli smí&#353;ené progresivní a telecinované video zcela na progresivní
  video, musí být telecinované &#269;ásti inverzn&#283; telecinovány. K tomu lze dosp&#283;t
  t&#345;emi postupy popsanými ní&#382;e.Poznamenejme, &#382;e byste m&#283;li
  <span class="bold"><strong>v&#382;dy</strong></span> provést inverzní telecine p&#345;ed
  jakýmkoliv &#353;kálováním; a v p&#345;ípad&#283;, &#382;e p&#345;esn&#283; nevíte co d&#283;láte, také p&#345;ed
  o&#345;ezáním <a href="menc-feat-telecine.html#menc-feat-telecine-footnotes" title="14.2.4. Poznámky pod &#269;arou">[1]</a>.
  Volba <tt class="option">-ofps 24000/1001</tt> je vy&#382;adována, proto&#382;e výstupní video
  bude mít 24000/1001 snímk&#367; za sekundu.
</p><div class="itemizedlist"><ul type="disc"><li><p>
  <tt class="option">-vf pullup</tt> je navr&#382;en tak, aby inverzn&#283; telecinoval, ale
  progresivní data nechával jak jsou. Pro správnou funkci
  <span class="bold"><strong>musí</strong></span> být <tt class="option">pullup</tt> následován
  filtrem <tt class="option">softskip</tt>, jinak <span class="application">MEncoder</span>
  zhavaruje. <tt class="option">pullup</tt> je v&#353;ak nej&#269;ist&#353;í a nejp&#345;esn&#283;j&#353;í dostupnou
  metodou pro enkódování jak telecinovaného, tak "smí&#353;eného progresivního a
  telecinovaného".

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf pullup,softskip -ovc lavc -ofps 24000/1001</pre><p>
  </p></li><li><p>
  Star&#353;í metodou je, spí&#353;e ne&#382; inverzn&#283; telecinovat telecinované &#269;ásti,
  telecinovat progresivní &#269;ásti a poté inverzn&#283; telecinovat celé video.
  Zní to zmaten&#283;? softpulldown je filtr, který projde celé video a p&#345;evede celý
  soubor na telecinovaný. Pokud budeme následovat softpulldown bu&#271;
  <tt class="option">detc</tt> nebo <tt class="option">ivtc</tt>, bude kone&#269;ný výsledek zcela
  progresivní. Nutná je volba <tt class="option">-ofps 24000/1001</tt>.

  </p><pre class="screen">mencoder dvd://1 -oac copy -vf softpulldown,ivtc=1 -ovc lavc -ofps 24000/1001</pre><p>
  </p></li><li><p>
  Osobn&#283; jsem nepou&#382;il <tt class="option">-vf filmdint</tt>, ale toto o n&#283;m (p&#345;ibli&#382;n&#283;)
  &#345;ekl D Richard Felker III:

  </p><div class="blockquote"><blockquote class="blockquote"><p>Je to OK, ale IMO to zkou&#353;í a&#382; p&#345;íli&#353; &#269;asto odstra&#328;ovat
    proklad místo provád&#283;ní inverzního telecine (stejn&#283; jako settop DVD
    p&#345;ehráva&#269;e &amp; progresivní televize) co&#382; vede ke &#353;karedému t&#345;epotání a
    dal&#353;ím artefakt&#367;m. Pokud jej chcete pou&#382;ívat, m&#283;li byste p&#345;edtím alespo&#328;
    trochu &#269;asu v&#283;novat lad&#283;ní voleb a sledováním výstupu, abyste m&#283;li jistotu,
    &#382;e vám to n&#283;co nekazí.</p></blockquote></div><p>
  </p></li></ul></div></div><div class="sect3" lang="cs"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-telecine-encode-mixedpi"></a>14.2.3.5. Smí&#353;ené progresivní a prokládané</h4></div></div></div><p>
  Máme dv&#283; volby pro práci s touto kategorií, ob&#283; jsou v&#353;ak kompromisem. M&#283;li
  byste se rozhodnout podle trvání/umíst&#283;ní ka&#382;dého typu.
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Pova&#382;ujte to za progresivní. Prokládané &#269;ásti budou vypadat prokládan&#283; a
  n&#283;které z prokládaných polí&#269;ek bude muset být zahozeno, co&#382; povede
  k nestejnom&#283;rnému poskakování. M&#367;&#382;ete proti tomu nasadit postprocesní filtr,
  pokud chcete, ale tím mírn&#283; degradujete progresivní &#269;ásti.
  </p><p>
  Této volb&#283; byste se m&#283;li rozhodn&#283; vyhnout, pokud chcete nakonec zobrazovat
  video na zobrazova&#269;i s prokládaným obrazem (p&#345;es TV kartu nap&#345;íklad).
  Pokud máte prokládané snímky ve videu s rychlostí 24000/1001 snímk&#367; za
  sekundu, budou telecinovány spolu s progresivními snímky. Polovina
  prokládaných "snímk&#367;" bude zobrazena po dobu trvání t&#345;ech snímk&#367;
  (3/(60000/1001) sekund), co&#382; povede k poskakování. Efekt
  "cukání zp&#283;t" vypadá skute&#269;n&#283; zle. Pokud se o to p&#345;ece pokusíte,
  <span class="bold"><strong>musíte</strong></span> pou&#382;ít filtr odstra&#328;ující proklad,
  jako je <tt class="option">lb</tt> nebo <tt class="option">l5</tt>.
  </p><p>
  &#352;patnou volbou je to i pro progresivní zobrazova&#269;. Ten zahodí páry po sob&#283;
  jdoucích snímk&#367;, co&#382; povede k p&#345;eru&#353;ování, které m&#367;&#382;e být více viditelné, ne&#382;
  p&#345;i druhé metod&#283;, která zobrazuje n&#283;které progresivní snímky dvakrát.
  Prokládané video se 30000/1001 snímky za sekundu je toti&#382; pon&#283;kud trhané,
  proto&#382;e by ve skute&#269;nosti m&#283;lo být promítáno p&#345;i 60000/1001 p&#367;lsnímcích za
  sekundu, tak&#382;e zdvojení n&#283;kterých snímk&#367; není tak moc vid&#283;t.
  </p><p>
  V ka&#382;dém p&#345;ípad&#283; je nejlep&#353;í posoudit obsah a zp&#367;sob, jakým bude zobrazován.
  Pokud je va&#353;e video z 90% progresivní a nikdy jej nebudete pou&#353;t&#283;t na
  televizi, m&#283;li byste volit progresivní p&#345;ístup.
  Pokud je progresívní jen z poloviny, pravd&#283;podobn&#283; jej bude lep&#353;í enkódovat
  jako by bylo celé prokládané.
  </p></li><li><p>
  Pokládat jej za prokládané. N&#283;které snímky v progresivních &#269;ástech budou muset
  být duplikovány, co&#382; povede k nepravidelnému poskakování. Op&#283;t platí, &#382;e
  filtry pro odstran&#283;ní prokladu mohou pon&#283;kud degradovat progresivní &#269;ásti.
  </p></li></ul></div></div></div><div class="sect2" lang="cs"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-telecine-footnotes"></a>14.2.4. Poznámky pod &#269;arou</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p><b>K o&#345;ezu: </b>
  Video data na DVD jsou ukládána ve formátu zvaném YUV 4:2:0. V YUV videu jsou,
  jasová ("&#269;ernobílá"; angl. luma) a barvonosná (angl. chroma) slo&#382;ka
  ukládány odd&#283;len&#283;. Proto&#382;e je lidské oko mén&#283; citlivé na zm&#283;nu barvy, ne&#382; na
  jas, p&#345;ipadá v YUV 4:2:0 obrázku pouze jeden barvonosný pixel na ka&#382;dé &#269;ty&#345;i
  jasové pixely. V progresivním obrázku má ka&#382;dý &#269;tverec 2x2 jasových pixel&#367;
  práv&#283; jeden barvonosný pixel. Proto musíte o&#345;ezávat progresivní YUV 4:2:0
  na sudé rozm&#283;ry a pou&#382;ívat sudé odsazení (offsety). Nap&#345;íklad
  <tt class="option">crop=716:380:2:26</tt> je OK, ale
  <tt class="option">crop=716:380:3:26 </tt> není.
  </p><p>
  Kdy&#382; máte co do &#269;in&#283;ní s prokládaným YUV 4:2:0, je situace mnohem
  komplikovan&#283;j&#353;í. Místo ka&#382;dých &#269;ty&#345;ech pixel&#367; ve <span class="emphasis"><em>snímku</em></span>
  sdílejících barvonosný pixel, ka&#382;dé &#269;ty&#345;i jasové pixely v ka&#382;dém
  <span class="emphasis"><em>p&#367;lsnímku</em></span> sdílejí barvonosný pixel. Kdy&#382; jsou p&#367;lsnímky
  prolo&#382;eny do snímku, ka&#382;dá linka má vý&#353;ku jeden pixel. A nyní místo aby dané
  &#269;ty&#345;i pixely tvo&#345;ily &#269;tverec, jsou první dva vedle sebe a druhé dva jsou vedle
  sebe o dv&#283; linky ní&#382;. Dva pixely t&#283;sn&#283; pod nimi pat&#345;í do jiného p&#367;lsnímku a
  proto sdílí jiný barvonosný pixel se dv&#283;ma jasovými pixely o dva &#345;ádky ní&#382;.
  V&#353;echno tohle nás nutí mít svislé rozm&#283;ry o&#345;ezání a odsazení bezezbytku
  d&#283;litelné &#269;ty&#345;mi. Vodorovné sta&#269;í kdy&#382; budou sudé.
  </p><p>
  Pro telecinované video doporu&#269;uji, abyste o&#345;ezání provád&#283;li a&#382; po inverzi
  telecine. Jakmile je video progresivní, sta&#269;í &#345;ezat jen na sudé rozm&#283;ry.
  Pokud si v&#353;ak p&#345;ece jen chcete dop&#345;át mírné zrychlení, které m&#367;&#382;e poskytnout
  &#269;asný o&#345;ez, musíte svisle dodr&#382;et násobky &#269;ty&#345;ech, jinak nebude mít filtr
  pro inverzi telecine správná data.
  </p><p>
  Prokládané (nikoli telecinované) video musíte v&#382;dy o&#345;ezávat svisle násobky
  &#269;ty&#345;, pokud p&#345;ed o&#345;ezáním nepou&#382;ijete <tt class="option">-vf field</tt>.
  </p></li><li><p><b>K volbám pro enkódování a kvalit&#283;: </b>
  Jen proto, &#382;e doporu&#269;uji <tt class="option">mbd=2</tt> zde neznamená, &#382;e by tato
  volba nemohla být pou&#382;ita jinde. V kombinaci s <tt class="option">trell</tt>, je
  <tt class="option">mbd=2</tt> jednou ze dvou voleb
  <code class="systemitem">libavcodec</code>u, které nejvíce zvy&#353;ují
  kvalitu a vy byste m&#283;li v&#382;dy pou&#382;ít alespo&#328; tyto dv&#283;, pokud není na &#353;kodu
  zpomalení rychlosti enkódování (nap&#345;. p&#345;i enkódování v reálném &#269;ase).
  Mnoho dal&#353;ích voleb <code class="systemitem">libavcodec</code>u
  zvy&#353;uje kvalitu enkódování (a sni&#382;uje jeho rychlost), ale to je mimo zam&#283;&#345;ení
  tohoto textu.
  </p></li><li><p><b>K výkonu filtru pullup: </b>
  Pou&#382;ití <tt class="option">pullup</tt> je bezpe&#269;né (spolu se <tt class="option">softskip
  </tt>) na progresivní video a je to obvykle dobrá volba, pokud nebyl zdroj
  prov&#283;&#345;en, &#382;e je celý progresivní. Ve v&#283;t&#353;in&#283; p&#345;ípad&#367; je ztráta výkonu malá.
  V ojedin&#283;lých p&#345;ípadech enkódování zp&#367;sobí <tt class="option">pullup</tt>, &#382;e je
  <span class="application">MEncoder</span> o 50% pomalej&#353;í. P&#345;idání zpracování zvuku
  a pokro&#269;ilých <tt class="option">lavcopts</tt> zastíní tento rozdíl tak, &#382;e rozdíl
  v rychlosti p&#367;sobený pou&#382;itím <tt class="option">pullup</tt> se sní&#382;í na 2%.
  </p></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="menc-feat-dvd-mpeg4.html">P&#345;edcházející</a> </td><td width="20%" align="center"><a accesskey="u" href="encoding-guide.html">Nahoru</a></td><td width="40%" align="right"> <a accesskey="n" href="menc-feat-enc-libavcodec.html">Dal&#353;í</a></td></tr><tr><td width="40%" align="left" valign="top">14.1. Vytvo&#345;ení MPEG-4 ("DivX") ripu DVD filmu ve vysoké kvalit&#283; </td><td width="20%" align="center"><a accesskey="h" href="index.html">Dom&#367;</a></td><td width="40%" align="right" valign="top"> 14.3. Enkódování s rodinou kodek&#367; <code class="systemitem">libavcodec</code>
</td></tr></table></div></body></html>
