<html><head><meta http-equiv="Content-Type" content="text/html; charset=KOI8-R"><title>4.2. Воспроизведение DVD</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - The Movie Player"><link rel="up" href="cd-dvd.html" title="Глава 4. Использование CD/DVD"><link rel="prev" href="drives.html" title="4.1. приводы CD/DVD"><link rel="next" href="vcd.html" title="4.3. воспроизведение VCD"><link rel="preface" href="howtoread.html" title="Как читать эту документацию"><link rel="chapter" href="intro.html" title="Глава 1. Введение"><link rel="chapter" href="install.html" title="Глава 2. Установка"><link rel="chapter" href="usage.html" title="Глава 3. Использование"><link rel="chapter" href="cd-dvd.html" title="Глава 4. Использование CD/DVD"><link rel="chapter" href="faq.html" title="Глава 5. Часто Задаваемые вопросы"><link rel="chapter" href="containers.html" title="Глава 6. Поддерживаемые форматы"><link rel="chapter" href="codecs.html" title="Глава 7. Поддерживаемые кодеки"><link rel="chapter" href="tv.html" title="Глава 8. TV"><link rel="chapter" href="radio.html" title="Глава 9. Радио"><link rel="chapter" href="video.html" title="Глава 10. Устройства вывода видео"><link rel="chapter" href="audio.html" title="Глава 11. Устройства вывода звука"><link rel="chapter" href="ports.html" title="Глава 12. Портинг"><link rel="chapter" href="mencoder.html" title="Глава 13. Основы использования MEncoder"><link rel="chapter" href="encoding-guide.html" title="Глава 14. Encoding with MEncoder"><link rel="appendix" href="bugreports.html" title="Приложение A. Как сообщать об ошибках"><link rel="appendix" href="bugs.html" title="Приложение B. Известные проблемы"><link rel="appendix" href="skin.html" title="Приложение C. Формат скинов MPlayer"><link rel="appendix" href="history.html" title="Приложение D. История"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.2. Воспроизведение DVD</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="drives.html">Пред.</a> </td><th width="60%" align="center">Глава 4. Использование CD/DVD</th><td width="20%" align="right"> <a accesskey="n" href="vcd.html">След.</a></td></tr></table><hr></div><div class="sect1" lang="ru"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dvd"></a>4.2. Воспроизведение DVD</h2></div></div></div><p>
Полный список возможных опций можно прочитать в man странице.
Синтаксис для стандартных Цифровых Многоцелевых Дисков[Digital Versatile Disc]
(DVD) таков:
</p><pre class="screen">mplayer dvd://<em class="replaceable"><code>&lt;ролик&gt;</code></em> [-dvd-device <em class="replaceable"><code>привод</code></em>]</pre><p>
</p><p>
Пример:
</p><pre class="screen">mplayer dvd://<em class="replaceable"><code>1</code></em> -dvd-device <em class="replaceable"><code>/dev/hdc</code></em></pre><p>
</p><p>
Если вы собрали <span class="application">MPlayer</span> с поддержкой dvdnav, синтаксис тот же,
просто укажите dvdnav:// вместо dvd://.
</p><p>
Устройство DVD по умолчанию - это <tt class="filename">/dev/dvd</tt>. Если Ваши
настройки отличаются, создайте символическую ссылку или укажите правильное
устройство в командной строке, используя опцию <tt class="option">-dvd-device</tt>.
</p><p>
<span class="application">MPlayer</span> использует библиотеки <code class="systemitem">libdvdread
</code> и <code class="systemitem">libdvdcss</code> для DVD расшифровки и
воспроизведения. Эти две библиотеки содержатся в подкаталоге
<tt class="filename">libmpdvdkit2</tt> дерева исходного кода
<span class="application">MPlayer</span>'а, так что отдельно устанавливать их не нужно.
Вы также можете использовать уже установленные в системе версии библиотек, но это
<span class="bold"><strong>не рекомендуется</strong></span>, так как может приводить к
ошибкам, несовместимости и потере скорости.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Замечание</h3><p>
В случае проблем с декодированием DVD, попробуйте отключить supermount или
другие подобные удобства. Некоторые RPC-2 устройства могут требовать 
уcтановку кода региона.
</p></div><p><b>Структура DVD. </b>
Диски DVD используют сектора размером в 2048 байтов с ECC/CRC. На них обычно
единственная файловая система UDF на одной дорожке, которая содержит
различные файлы (коротенькие .IFO и .BUK и длинные (порядка гигабайта)
.VOB). Это настоящие файлы, которые можно просматривать/переписывать со
смонтированного не зашифрованного DVD.
</p><p>
Файлы .IFO содержат информацию для навигации (раздел/ролик/угол/язык и пр.),
необходимую для интерпретации содержания .VOB (кино). Файлы .BUK &#8212; их
дубли. Эти файлы содержат адреса в <span class="bold"><strong>секторах</strong></span>,
так что для исполнения навигации и расшифровки DVD, нужен доступ к файлам на
уровне секторов.
</p><p>
Для поддержки DVD необходим прямой посекторный доступ к устройству. К сожалению,
(под Linux) Вы должны быть root'ом, чтобы получить секторный адрес файла.
Вот почему мы вообще не используем драйвер файловой системы из ядра, а
переписали его для выполнения в пользовательсмком пространстве.
<code class="systemitem">libdvdread</code> 0.9.x и <code class="systemitem">
libmpdvdkit</code> так и делают. Драйвер UDF
файловой системы не нужен, поскольку соответствующие драйвера встроены в эти библиотеки. 
DVD также не обязан быть смонтированным, поскольку используется
только прямой посекторный доступ.
</p><p>
Иногда <tt class="filename">/dev/dvd</tt> не доступен на чтение рядовым пользователям,
поэтому авторы <code class="systemitem">libdvdread</code> написали
уровень эмуляции, который превращает секторные адреса в названия файла и смещение,
для эмуляции прямого доступа на замонтированной файловой системе или на жёстком
диске.
</p><p>
<code class="systemitem">libdvdread</code> даже позволяет указывать точку монтирования вместо
имени устройства для прямого доступа, и получает его название из <tt class="filename">
/proc/mounts</tt>. Этот метод придуман для Solaris, где данные названия
присваиваются динамически.
</p><p>
Устройство DVD по умолчанию &#8212; <tt class="filename">/dev/dvd</tt>. Если Ваши
настройки отличаются, создайте символическую ссылку или укажите правильное
название в командной строке после опции <tt class="filename">-dvd-device</tt>.
</p><p><b>DVD аутентификация. </b>
Аутентификация и дешифровка в новом методе поддержки DVD происходит при помощи
пропатченной <code class="systemitem">libdvdcss</code> (см. выше). Метод может быть
указан в переменной среды <code class="envar">DVDCSS_METHOD</code>, которая может быть
установлена в key, disk или title.
</p><p>
Если ничего не указано, она пробует следующие методы (по умолчанию: key,
title request):
</p><div class="orderedlist"><ol type="1"><li><p>
<span class="bold"><strong>bus key</strong></span>: Этот ключ устанавливается во время
аутентификации (длинная смесь ioctl'ов и различных обменов ключами,
криптографические процедуры) и используется для зашифровки ключей диска и ролика
при передаче по незащищённой шине (во избежания подслушивания). Он необходим для
получения и предварительной расшифровки ключа диска.
</p></li><li><p>
<span class="bold"><strong>cached key</strong></span>: <span class="application">MPlayer</span>
ищет уже взломанный ключ ролика, который сохраняется в каталоге
<tt class="filename">~/.mplayer/DVDKeys</tt> (быстро ;).
</p></li><li><p>
<span class="bold"><strong>key</strong></span>: Если кэшированного ключа нет,
<span class="application">MPlayer</span> пытается расшифровать ключ диска с помощью
включённых ключей плееров.
</p></li><li><p>
<span class="bold"><strong>disk</strong></span>: Если метод key проваливается
(например, при отсутствии ключей плееров) <span class="application">MPlayer</span>
взломает ключ грубой силой. Этот метод интенсивно использует процессор и
нуждается в 64 мегабайтах памяти (хэш-таблица из 16 миллионов 32-разрядных
записей). Работает наверняка (но медленно).
</p></li><li><p>
<span class="bold"><strong>title request</strong></span>: Используя ключ диска
<span class="application">MPlayer</span> запрашивает зашифрованные ключи роликов,
которые находятся в <span class="emphasis"><em>скрытых секторах</em></span>, используя 
<code class="systemitem">ioctl()</code>. Региональная защита RPC-2 приводов
осуществляется именно на этом этапе и может не сработать на подобных приводах.
Если это удаётся, ключи роликов будут расшифрованы, используя ключи диска и шины.
</p></li><li><p>
<span class="bold"><strong>title</strong></span>:Данный метод используется если title
request не срабатывает. Он не опирается на обмен ключами с приводом.
Используется криптографическая атака, чтобы угадать ключ непосредственно
(находится повторяющаяся последовательность в расшифрованном содержимом VOB'а
и предполагается, что текст, соответствующий первому зашифрованному байту - это
продолжение этой последовательности). Метод также известен под названиями "
атака с известным открытым текстом" или "DeCSSPlus". В редких
случаях этот метод проваливается, по причине недостаточности зашифрованного
содержания для статистической атаки или из-за изменения ключа в середине
ролика. Это единственный метод расшифровать содержимое DVD на жёстком диске
или на диске из неподходящего региона на проигрывателе RPC-2. (медленный метод).
</p></li></ol></div><p>
С дисководами RPC-1, региональная защита осуществляется программно.
Дисководы RPC-2 защищены аппаратными средствами, разрешающими менять регион
всего 5 раз. Рекомендуется обновить прошивку[firmware] до RPC-1 если у тебя
RPC-2 привод. Обновления прошивок могут быть найдены на
<a href="http://www.firmware-flash.com/" target="_top">странице прошивок</a>.  Если
для Вашего дисковода нет обновления, используйте для изменения региона привода
<a href="http://www.linuxtv.org/download/dvd/dvd_disc_20000215.tar.gz" target="_top">
программу regionset</a> (для Linux). <span class="bold"><strong>Внимание:
</strong></span> Изменить регион можно всего 5 раз.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="drives.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="cd-dvd.html">Уровень выше</a></td><td width="40%" align="right"> <a accesskey="n" href="vcd.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">4.1. приводы CD/DVD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 4.3. воспроизведение VCD</td></tr></table></div></body></html>
