<html><head><meta http-equiv="Content-Type" content="text/html; charset=KOI8-R"><title>E.1. GCC 2.96</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - The Movie Player"><link rel="up" href="users-vs-dev.html" title="Приложение E. Плач разработчиков"><link rel="prev" href="users-vs-dev.html" title="Приложение E. Плач разработчиков"><link rel="next" href="mplayer-binary.html" title="E.2. Распространение в двоичном(скомпилированном) виде"><link rel="preface" href="howtoread.html" title="Как читать эту документацию"><link rel="chapter" href="intro.html" title="Глава 1. Введение"><link rel="chapter" href="usage.html" title="Глава 2. Использование"><link rel="chapter" href="cd-dvd.html" title="Глава 3. Использование CD/DVD"><link rel="chapter" href="faq.html" title="Глава 4. Frequently Asked Questions"><link rel="chapter" href="features.html" title="Глава 5. Возможности"><link rel="chapter" href="video.html" title="Глава 6. Video output devices"><link rel="chapter" href="audio.html" title="Глава 7. Audio output devices"><link rel="chapter" href="ports.html" title="Глава 8. Портинг"><link rel="chapter" href="mencoder.html" title="Глава 9. Basic usage of MEncoder"><link rel="chapter" href="encoding-guide.html" title="Глава 10. Encoding with MEncoder"><link rel="appendix" href="mailinglists.html" title="Приложение A. Почтовые рассылки"><link rel="appendix" href="bugreports.html" title="Приложение B. Как сообщать об ошибках"><link rel="appendix" href="bugs.html" title="Приложение C. Известные проблемы"><link rel="appendix" href="skin.html" title="Приложение D. MPlayer skin format"><link rel="appendix" href="users-vs-dev.html" title="Приложение E. Плач разработчиков"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">E.1. GCC 2.96</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="users-vs-dev.html">Пред.</a> </td><th width="60%" align="center">Приложение E. Плач разработчиков</th><td width="20%" align="right"> <a accesskey="n" href="mplayer-binary.html">След.</a></td></tr></table><hr></div><div class="sect1" lang="ru"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gcc-296"></a>E.1. GCC 2.96</h2></div></div></div><p><b>Предпосылки: </b>
GCC <span class="bold"><strong>2.95</strong></span> серий &#8212; это официальный GNU релиз и версия 2.95.3
&#8212; максимально свободная от ошибок в этой серии. Мы никогда не замечали
проблем компиляции, которые можно было бы отнести на счёт gcc-2.95.3.
Начиная с RedHat Linux 7.0, <span class="bold"><strong>Red Hat</strong></span> включили сильно
пропатченную CVS версию GCC и назвали её <span class="bold"><strong>2.96</strong></span>.
RedHat включили эту версию в дистрибутив, поскольку в то время GCC 3.0 не был
завершён, а им требовался компилятор, который бы хорошо работал на всех
поддерживаемых платформах, включая IA64 и s390. Дистрибьютор Linux
<span class="bold"><strong>Mandrake</strong></span>, последовал примеру Red Hat и начал поставки
GCC 2.96 с Linux-Mandrake серии 8.0.
</p><p><b>Заявления: </b>
Команда GCC отрицает все связи с GCC 2.96 и даже выпустила 
<a href="http://gcc.gnu.org/gcc-2.96.html" target="_top">официальный ответ</a>
на GCC 2.96. У многих разработчики со всему мира возникали проблемы с
GCC 2.96, и они рекомендовали другие компиляторы. Примеры &#8212; это
<a href="http://www.mysql.com/downloads/mysql-3.23.html" target="_top">MySQL</a>
и
<a href="http://avifile.sourceforge.net/news-old1.htm" target="_top">avifile</a>.
Прочие интересные ссылки &#8212; это 
<a href="http://www.atnf.csiro.au/people/rgooch/linux/docs/kernel-newsflash.html" target="_top">
Linux kernel news flash о ядре 2.4.17</a>
и
<a href="http://www.voy.com/3516/572.html" target="_top">Voy Forum</a>.
<span class="application">MPlayer</span> также претерпевал различные проблемы,
которые разрешались переходом на другую версию GCC. Некоторые проекты начали
осуществлять обходы для некоторых проблем 2.96, но мы отказались исправлять
ошибки других людей, в том числе поскольку некоторые такие обходы привели бы
к потере производительности.
</p><p>
GCC 2.96 не допускает символ <code class="literal">|</code> (pipe[канал]) в ассемблерных
комментариях, поскольку он поддерживает Intel'евский и AT&amp;T синтаксисы, а
буква <code class="literal">|</code> &#8212; символ в Intel'евском варианте. Проблема
в том, что он <span class="emphasis"><em>молча</em></span> игнорирует весь ассемблерный блок.
Теперь, это предположительно исправлено, GCC печатает предупреждение, а не
пропускает блок.
</p><p><b>Текущее состояние: </b>
Red Hat заявляет, что GCC 2.96-85 и далее исправлены. Ситуация действительно
улучшилась, хотя мы всё ещё видим в рассылках сообщения о проблемах, которые
исчезают после перехода на другой компилятор. В любом случае, это больше не
важно. Предположительно готовый GCC 3.x должным образом разрешит эти вопросы.
Если Вы хотите скомпилировать, используя версию 2.96, укажите опцию <tt class="option">
--disable-gcc-checking</tt> в <tt class="filename">configure</tt>. Помните, что
Вам решать, и <span class="bold"><strong>не сообщайте об ошибках в этом случае</strong></span>.
Если Вы попробуете, Вы будете изгнаны из наших рассылок, поскольку у нас уже
было достаточно 'сражений' из-за GCC 2.96. Давайте оставим эту тему в покое.
</p><p>
Если у Вас проблемы с GCC 2.96, Вы можете скачать 2.96-85 пакеты на
<a href="ftp://updates.redhat.com" target="_top">ftp сервере</a>RedHat, или просто
перейти на 3.0.4 пакеты, предлагаемые начиная с версии 7.2. Вы также можете
использовать
<a href="ftp://people.redhat.com/jakub/gcc/3.2.3-11/" target="_top">gcc-3.2.3-11 пакеты</a>
(неофициальные, но работают нормально) и поставить их совместно с gcc-2.96,
который у Вас стоит. <span class="application">MPlayer</span> их обнаружит,
и будет использовать 3.2 вместо 2.96. Если Вы не хотите или не можете
использовать пакеты, вот как Вы можете
скомпилировать GCC 3 из исходного кода:
</p><div class="procedure"><ol type="1"><li><p>
  Пойдите на страницу
  <a href="http://gcc.gnu.org/mirrors.html" target="_top">GCC зеркал</a>
  и скачайте <tt class="filename">gcc-core-<em class="replaceable"><code>XXX</code></em>.tar.gz</tt>,
  где XXX &#8212; это
  номер версии. Этот файл включает полноценный компилятор C, которого достаточно
  для <span class="application">MPlayer</span>'а. Если Вы также хотите C++, Java или
  какие-нибудь другие дополнительные возможности GCC, Вам, возможно, больше
  подойдёт <tt class="filename">gcc-<em class="replaceable"><code>XXX</code></em>.tar.gz</tt>.
  </p></li><li><p>
  Распакуйте архив:
  </p><pre class="screen">tar -xvzf gcc-core-<em class="replaceable"><code>XXX</code></em>.tar.gz</pre><p>
  </p></li><li><p>
  В отличие от других программ GCC собирается не в каталоге с исходным кодом,
  а в отдельном каталоге. Поэтому вам нужно создать этот каталог, выполнив
  </p><pre class="screen">mkdir gcc-build</pre><p>
  </p></li><li><p>
  Теперь Вы можете приступить к конфигурированию gcc в каталоге для сборки, но
  Вам нужно конфигурировать из каталога с исходным кодом:
  </p><pre class="screen">
cd gcc-build
../gcc-3.<em class="replaceable"><code>XXX</code></em>/configure</pre><p>
  </p></li><li><p>
  Скомпилируйте GCC, выполнив эту команду в каталоге для сборки:
  </p><pre class="screen">make bootstrap</pre><p>
  </p></li><li><p>
  Теперь Вы можете установить GCC (как root), выполнив
  </p><pre class="screen">make install</pre><p>
  </p></li></ol></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="users-vs-dev.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="users-vs-dev.html">Уровень выше</a></td><td width="40%" align="right"> <a accesskey="n" href="mplayer-binary.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Приложение E. Плач разработчиков </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> E.2. Распространение в двоичном(скомпилированном) виде</td></tr></table></div></body></html>
