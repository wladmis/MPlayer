<html><head><meta http-equiv="Content-Type" content="text/html; charset=KOI8-R"><title>8.6. Windows</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="MPlayer - The Movie Player"><link rel="up" href="ports.html" title="Глава 8. Портинг"><link rel="prev" href="qnx.html" title="8.5. QNX"><link rel="next" href="macos.html" title="8.7. Mac OS"><link rel="preface" href="howtoread.html" title="Как читать эту документацию"><link rel="chapter" href="intro.html" title="Глава 1. Введение"><link rel="chapter" href="usage.html" title="Глава 2. Использование"><link rel="chapter" href="cd-dvd.html" title="Глава 3. Использование CD/DVD"><link rel="chapter" href="faq.html" title="Глава 4. Frequently Asked Questions"><link rel="chapter" href="features.html" title="Глава 5. Возможности"><link rel="chapter" href="video.html" title="Глава 6. Video output devices"><link rel="chapter" href="audio.html" title="Глава 7. Audio output devices"><link rel="chapter" href="ports.html" title="Глава 8. Портинг"><link rel="chapter" href="mencoder.html" title="Глава 9. Basic usage of MEncoder"><link rel="chapter" href="encoding-guide.html" title="Глава 10. Encoding with MEncoder"><link rel="appendix" href="mailinglists.html" title="Приложение A. Почтовые рассылки"><link rel="appendix" href="bugreports.html" title="Приложение B. Как сообщать об ошибках"><link rel="appendix" href="bugs.html" title="Приложение C. Известные проблемы"><link rel="appendix" href="skin.html" title="Приложение D. MPlayer skin format"><link rel="appendix" href="users-vs-dev.html" title="Приложение E. Плач разработчиков"><link rel="subsection" href="windows.html#cygwin" title="8.6.1. Cygwin"><link rel="subsection" href="windows.html#mingw" title="8.6.2. MinGW"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.6. Windows</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="qnx.html">Пред.</a> </td><th width="60%" align="center">Глава 8. Портинг</th><td width="20%" align="right"> <a accesskey="n" href="macos.html">След.</a></td></tr></table><hr></div><div class="sect1" lang="ru"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="windows"></a>8.6. Windows</h2></div></div></div><p>Да, <span class="application">MPlayer</span> работает под Windows под
  <a href="http://www.cygwin.com/" target="_top"><span class="application">Cygwin</span></a> и
  <a href="http://www.mingw.org/" target="_top"><span class="application">MinGW</span></a>.
  Пока ещё нет GUI, но версия командной строки почти функциональна. Мы всегда
  будем благодарны за <a href="../../tech/patches.txt" target="_top">патчи</a>.
  Вы можете получить помощь и последнюю информацию на рассылке
  <a href="http://mplayerhq.hu/mailman/listinfo/mplayer-cygwin/" target="_top">mplayer-cygwin</a>.</p><p>Лучшие результаты получаются при использовании родного DirectX видео
  вывода (<tt class="option">-vo directx</tt>) и родного Windows waveout аудио драйвера
  (<tt class="option">-ao win32</tt>). Альтернативой является использование OpenGL или
  SDL, но производительность OpenGL сильно зависит от машины, а SDL на некоторых
  системах искажает звук и видео или ломает систему. 
  Если изображение искажено, попробуйте отключить аппаратное ускорение, указав
  <tt class="option">-vo directx:noaccel</tt>. Скачайте
  <a href="http://www.videolan.org/vlc/dx7headers.tgz" target="_top">файлы заголовков
  DirectX 7</a>, чтобы скомпилировать видео драйвер DirectX.</p><p><a href="output-trad.html#vidix" title="6.2.13. VIDIX">VIDIX</a> теперь доступен из-под Windows, как
  <tt class="option">-vo winvidix</tt>, хотя это ещё экспериментально и требует небольшой
	ручной установки. Скачайте
  <a href="http://www.mplayerhq.hu/MPlayer/releases/win32/dhahelper.sys" target="_top">dhahelper.sys</a>
  и скопируйте его в каталог
  <tt class="filename">libdha/dhahelperwin</tt> в Вашем дереве
	исходного кода <span class="application">MPlayer</span>'а.
	Откройте консоль и перейдите в этот каталог. Теперь наберите

  </p><pre class="screen">gcc -o dhasetup.exe dhasetup.c</pre><p>

  и запустите

  </p><pre class="screen">dhasetup.exe install</pre><p>

  под Администратором[Administrator]. Теперь Вам нужно перезагрузить машину.
  Когда всё будет закончено, скопируйте файлы
  <code class="systemitem">.so</code> из каталога
	<tt class="filename">vidix/drivers</tt> в каталог
	<tt class="filename">mplayer/vidix</tt> относительно вашего
	<tt class="filename">mplayer.exe</tt>.</p><p>Для получения наилучших результатов, <span class="application">MPlayer</span>
  должен использовать пространство цветов, аппаратно поддерживаемое Вашей
  видеокартой. К сожалению, многие графические драйверы под Windows ошибочно
  сообщают, что некоторые пространства цветов поддерживаются аппаратно.
  Чтобы найти какие именно, попробуйте

  </p><pre class="screen">mplayer -benchmark -nosound -frames 100 -vf format=<em class="replaceable"><code>colorspace</code></em> <em class="replaceable"><code>movie</code></em></pre><p>,

  где <em class="replaceable"><code>colorspace</code></em> может быть любым пространством
  цветов из вывода опции <tt class="option">-vf format=fmt=help</tt>. Если Вы найдёте
  пространство цветов, которое Ваша карта особенно плохо поддерживает,
  опция <tt class="option">-vf noformat=<em class="replaceable"><code>colorspace</code></em></tt>
  помешает его использовани. Добавьте это в ваш конфигурационный файл, чтобы
  это пространство цветов больше никогда не использовалось.</p><p>Вы можете использовать Win32 кодеки и Real Win32 кодеки (не Real Linux кодеки),
  если хотите. Поместите их куда-нибудь в пути или укажите
  <tt class="filename">configure</tt> опцию
  <tt class="option">--with-codecsdir=<em class="replaceable"><code>c:/path/to/your/codecs</code></em></tt>
  (или <tt class="option">--with-codecsdir=<em class="replaceable"><code>/path/to/your/codecs</code></em></tt>, но
  только под <span class="application">Cygwin</span>). У нас были сообщения о том,
  что Real DLL'и должны быть доступны пользователю, запускающему
  <span class="application">MPlayer</span>, для записи, но только на
  некоторых системах. Если у Вас проблемы с ними, попробуйте сделать их
  записываемыми. QuickTime DLL'и также работают, но Вы должны поместить их
  в системный Windows каталог
  (<tt class="filename"><em class="replaceable"><code>C:\Windows\system\</code></em></tt>
  или что-то в этом духе). В крайнем случае, попробуйте поместить их в тотже
  каталог, что и <span class="application">MPlayer</span>.</p><p>Вы можете воспроизводить VCD, проигрывая <tt class="filename">.DAT</tt>
  или <tt class="filename">.MPG</tt> файлы, которые Windows показывает на VCD.
  Вот как это работает (указывайте букву диска Вашего CD-ROM):</p><pre class="screen">mplayer <em class="replaceable"><code>d:/mpegav/avseq01.dat</code></em></pre><p>DVDs также работают, укажите <tt class="option">-dvd-device</tt> с буквой
  Вашего DVD-ROM:</p><pre class="screen">mplayer dvd://<em class="replaceable"><code>&lt;title&gt;</code></em> -dvd-device <em class="replaceable"><code>d</code></em>:</pre><p>Консоль <span class="application">Cygwin</span>/<span class="application">MinGW</span>
  слегка медленная. Перенаправление вывода или
  использование опции <tt class="option">-quiet</tt> улучшает производительность на
  некоторых системах. Прямое воспроизведение[Direct rendering] (<tt class="option">-dr
  </tt>) также может помочь. Вы можете избежать мерцания OSD, включив
  опцией <tt class="option">-double</tt> двойную буферизацию. Если воспроизведение
  прерывисто, попробуйте <tt class="option">-autosync 100</tt>. Если какие-то из этих
  опций Вам помогут, стоит поместить их в конфигурационный файл.</p><p>Иногда Саша Зоммер [Sascha Sommer] выпускает оффициальные бинарии
  под Windows, Джой Пэрриш[Joey Parrish] собирает
  неофициальные Windows пакеты с установочником. Ищщите ссылки в секции
  Windows <a href="http://www.mplayerhq.hu/projects.html#windows" target="_top">
  нашей страницы проектов</a>.</p><div class="sect2" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="cygwin"></a>8.6.1. <span class="application">Cygwin</span></h3></div></div></div><p><span class="application">Cygwin</span> версий до 1.5.0 не включал
  <tt class="filename">inttypes.h</tt>. Поместите этот
  <a href="http://www.mplayerhq.hu/MPlayer/releases/win32/contrib/inttypes.h" target="_top">inttypes.h</a>
  в <tt class="filename">/usr/include/</tt>, чтобы
  <span class="application">MPlayer</span> мог скомпилироваться.</p><p>Файлы заголовков DirectX надо распаковать в <tt class="filename">
  /usr/include/</tt> или <tt class="filename">/usr/local/include/
  </tt>.</p><p>Вы можете найти инструкции и файлы для запуска SDL
  под <span class="application">Cygwin</span> на
  <a href="http://www.libsdl.org/extras/win32/cygwin/" target="_top">сайте libsdl</a>.</p></div><div class="sect2" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="mingw"></a>8.6.2. <span class="application">MinGW</span></h3></div></div></div><p>Прежде, установка версии <span class="application">MinGW</span>,
  способной скомпилировать <span class="application">MPlayer</span>, была
  слегка сложной, но сейчас все работает с самого начала. Просто установите
  <span class="application">MinGW</span> 3.1.0 или более новый и укажите
  MSYS постустановщику, что <span class="application">MinGW</span>
  установлен.</p><p>Если Вы используете более раннюю, чем 3.1.0 версию
  <span class="application">MinGW</span>, Вам нужно
  заменить <tt class="filename">/mingw/include/sys/types.h</tt> этим файлом:
  <a href="http://www.mplayerhq.hu/MPlayer/releases/win32/contrib/types.h" target="_top"><tt class="filename">types.h</tt></a>.</p><p>Распакуйте файлы заголовков DirectX в <tt class="filename">/mingw/include/</tt>.</p><p>Для поддержки сжатых заголовкоав MOV необходима
  <a href="http://www.gzip.org/zlib/" target="_top">zlib</a>, которую
  <span class="application">MinGW</span> по умолчанию не предоставляет.
  Сконфигурируйте её, указав <tt class="option">--prefix=/mingw</tt> и установите
  её до компиляции <span class="application">MPlayer</span>'а.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="qnx.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="ports.html">Уровень выше</a></td><td width="40%" align="right"> <a accesskey="n" href="macos.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">8.5. QNX </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> 8.7. Mac OS</td></tr></table></div></body></html>
